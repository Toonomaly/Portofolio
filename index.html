<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Asri Portfolio</title>
<style>
/* =================== ROOT VARIABLES =================== */
:root {
  --bg: #0f0f0f;
  --text: #ffffff;
  --primary: #00ffff;
  --highlight: rgba(255, 255, 255, 0.1);
  --blur: rgba(15, 15, 15, 0.6);
  --muted: #bbb;
}
/* Dot putih yang dinamis & ikut arah */
.compass-dot {
    position: fixed;
    width: 10px;
    height: 10px;
    background: #ffffff;
    border-radius: 50%;
    box-shadow: 0 0 20px 4px #ffffff;
    pointer-events: none;
    z-index: 999999;
    opacity: 0;
    transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
    transform: translate(-50%, -50%);
}

.compass-dot.active {
    opacity: 0.95;
    animation: pulse 2.5s infinite ease-in-out;
}

@keyframes pulse {
    0%, 100% { box-shadow: 0 0 20px 4px #ffffff; transform: translate(-50%, -50%) scale(1); }
    50%      { box-shadow: 0 0 35px 10px #ffffff; transform: translate(-50%, -50%) scale(1.4); }
}
/* =================== REAL-TIME VIEWER STYLES =================== */
.live-viewer-counter {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 0.85rem;
    color: var(--primary);
    font-weight: 600;
    animation: gentlePulse 3s infinite;
}

@keyframes gentlePulse {
    0%, 100% { opacity: 0.8; }
    50% { opacity: 1; }
}

.live-dot {
    width: 8px;
    height: 8px;
    background: #00ff00;
    border-radius: 50%;
    position: relative;
    animation: livePulse 1.5s infinite;
}

@keyframes livePulse {
    0% { 
        transform: scale(0.95); 
        box-shadow: 0 0 0 0 rgba(0, 255, 0, 0.7); 
    }
    70% { 
        transform: scale(1); 
        box-shadow: 0 0 0 8px rgba(0, 255, 0, 0); 
    }
    100% { 
        transform: scale(0.95); 
        box-shadow: 0 0 0 0 rgba(0, 255, 0, 0); 
    }
}

.viewer-dock-item {
    position: relative;
}

.viewer-count {
    position: absolute;
    top: -5px;
    right: -5px;
    background: var(--primary);
    color: #000;
    font-size: 0.7rem;
    font-weight: bold;
    padding: 2px 6px;
    border-radius: 12px;
    min-width: 20px;
    text-align: center;
    transition: all 0.3s ease;
}

/* Viewer Stats Modal */
.viewer-stats-content {
    animation: slideUp 0.3s ease;
}

@keyframes slideUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.history-bar {
    transition: height 0.5s ease;
}

/* Responsive Design */
@media (max-width: 768px) {
    .live-viewer-counter {
        font-size: 0.75rem;
    }
    
    .hero-viewer-counter {
        font-size: 0.75rem !important;
        padding: 6px 12px !important;
    }
}



/* =================== AI TOGGLE STYLES =================== */
.ai-toggle-container {
  position: fixed;
  top: 20px;
  right: 20px;
  z-index: 100;
  display: flex;
  align-items: center;
  gap: 10px;
  background: rgba(15, 15, 15, 0.8);
  backdrop-filter: blur(10px);
  border: 1px solid var(--highlight);
  border-radius: 25px;
  padding: 8px 15px;
  transition: all 0.3s ease;
}

.ai-toggle-container:hover {
  border-color: var(--primary);
  box-shadow: 0 0 15px rgba(0, 255, 255, 0.3);
}

.ai-toggle-label {
  color: var(--text);
  font-size: 0.8rem;
  font-weight: 600;
  white-space: nowrap;
}

.ai-toggle {
  position: relative;
  width: 50px;
  height: 25px;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 25px;
  border: 1px solid var(--highlight);
  cursor: pointer;
  transition: all 0.3s ease;
}

.ai-toggle.active {
  background: rgba(0, 255, 255, 0.3);
  border-color: var(--primary);
}

.ai-toggle-handle {
  position: absolute;
  top: 2px;
  left: 2px;
  width: 21px;
  height: 21px;
  background: var(--muted);
  border-radius: 50%;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.7rem;
}

.ai-toggle.active .ai-toggle-handle {
  left: calc(100% - 23px);
  background: var(--primary);
  color: #000;
}

/* Tambahkan di bagian CSS yang sudah ada */
.event-notification {
    animation: slideInRight 0.5s ease !important;
}

@keyframes slideInRight {
    from {
        transform: translateX(100%);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

@keyframes slideOutRight {
    from {
        transform: translateX(0);
        opacity: 1;
    }
    to {
        transform: translateX(100%);
        opacity: 0;
    }
}

.viewer-dock-item .viewer-count {
    position: absolute;
    top: -5px;
    right: -5px;
    background: var(--primary);
    color: #000;
    font-size: 0.7rem;
    font-weight: bold;
    padding: 2px 6px;
    border-radius: 12px;
    min-width: 20px;
    text-align: center;
    transition: all 0.3s ease;
}

.viewer-dock-item:hover .viewer-count {
    background: #fff;
    transform: scale(1.2);
}
/* =================== ENHANCED AI POPUP STYLES =================== */
@keyframes enhancedPopupIn {
    from {
        opacity: 0;
        transform: translateY(20px) scale(0.9) rotateX(-10deg);
    }
    to {
        opacity: 1;
        transform: translateY(0) scale(1) rotateX(0);
    }
}

@keyframes enhancedPopupOut {
    from {
        opacity: 1;
        transform: translateY(0) scale(1) rotateX(0);
    }
    to {
        opacity: 0;
        transform: translateY(-20px) scale(0.9) rotateX(-10deg);
    }
}

@keyframes timerProgress {
    from {
        transform: scaleX(1);
    }
    to {
        transform: scaleX(0);
    }
}

.ai-popup-text {
    position: fixed;
    z-index: 1000000;
    background: rgba(15, 15, 15, 0.98);
    border: 2px solid #00ffff;
    border-radius: 16px;
    padding: 16px;
    max-width: 320px;
    box-shadow: 0 12px 40px rgba(0, 255, 255, 0.3);
    backdrop-filter: blur(20px);
    animation: enhancedPopupIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
    font-family: 'Arial', sans-serif;
    line-height: 1.5;
}

.enhanced-popup .ai-popup-content {
    color: var(--text);
}

.enhanced-popup .ai-popup-header {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 12px;
    font-weight: bold;
    font-size: 0.9rem;
}

.enhanced-popup .ai-avatar {
    font-size: 1.2rem;
}

.enhanced-popup .ai-name {
    color: var(--primary);
    font-weight: 600;
    flex: 1;
}

.enhanced-popup .popup-type {
    background: rgba(255,255,255,0.1);
    padding: 2px 8px;
    border-radius: 10px;
    font-size: 0.7rem;
    font-weight: 600;
}

.enhanced-popup .ai-popup-message {
    font-size: 0.9rem;
    line-height: 1.5;
    color: var(--text);
}

/* Popup Type Colors */
.enhanced-popup.featured .ai-popup-header {
    color: #ffd700;
}
.enhanced-popup.featured {
    border-color: #ffd700;
}

.enhanced-popup.info .ai-popup-header {
    color: #00ffff;
}
.enhanced-popup.info {
    border-color: #00ffff;
}

.enhanced-popup.stats .ai-popup-header {
    color: #00ffaa;
}
.enhanced-popup.stats {
    border-color: #00ffaa;
}

.enhanced-popup.tools .ai-popup-header {
    color: #ffaa00;
}
.enhanced-popup.tools {
    border-color: #ffaa00;
}

.enhanced-popup.creative .ai-popup-header {
    color: #ff00ff;
}
.enhanced-popup.creative {
    border-color: #ff00ff;
}

/* Popup Timer */
.popup-timer {
    height: 3px;
    background: linear-gradient(90deg, var(--primary), #00ffaa);
    border-radius: 2px;
    margin-top: 10px;
    animation: timerProgress 3s linear forwards;
    transform-origin: left;
}

/* Mobile responsiveness */
@media (max-width: 768px) {
    .ai-popup-text {
        max-width: 280px !important;
        font-size: 0.8rem;
        padding: 12px !important;
    }
    
    .enhanced-popup .ai-popup-header {
        font-size: 0.8rem;
    }
    
    .enhanced-popup .ai-popup-message {
        font-size: 0.85rem;
    }
    
    .ai-toggle-container {
        top: 10px;
        right: 10px;
        padding: 6px 12px;
    }
    
    .ai-toggle-label {
        font-size: 0.7rem;
    }
}

/* Prevent too many popups instruction */
.popup-limit-warning {
    position: fixed;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(255, 50, 50, 0.9);
    color: white;
    padding: 10px 20px;
    border-radius: 8px;
    z-index: 1000001;
    font-size: 0.8rem;
}




/* =================== RESET & BASE =================== */
*, *::before, *::after {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

html, body {
  height: 100%;
  font-family: 'Arial', sans-serif;
  background-color: var(--bg);
  color: var(--text);
}

/* =================== HIDE SCROLLBARS =================== */
/* Hide scrollbar for all elements */
* {
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE and Edge */
}

*::-webkit-scrollbar {
  display: none; /* Chrome, Safari and Opera */
}

/* Ensure scrolling still works */
html, body {
  -ms-overflow-style: none; /* IE and Edge */
  scrollbar-width: none; /* Firefox */
  overflow: -moz-scrollbars-none; /* Old Firefox */
}

html::-webkit-scrollbar,
body::-webkit-scrollbar {
  display: none; /* Chrome, Safari and Opera */
}

/* Specific elements that might have scroll */
.modal-content,
.asset-preview-content,
.asset-detail-content,
.popup-content,
.testimonial-nav-content,
.carousel-track {
  -ms-overflow-style: none; /* IE and Edge */
  scrollbar-width: none; /* Firefox */
  overflow: -moz-scrollbars-none; /* Old Firefox */
}

.modal-content::-webkit-scrollbar,
.asset-preview-content::-webkit-scrollbar,
.asset-detail-content::-webkit-scrollbar,
.popup-content::-webkit-scrollbar,
.testimonial-nav-content::-webkit-scrollbar,
.carousel-track::-webkit-scrollbar {
  display: none; /* Chrome, Safari and Opera */
}

/* Ensure touch scrolling still works on mobile */
.modal-content,
.asset-preview-content,
.asset-detail-content,
.popup-content,
.testimonial-nav-content {
  -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */
}

/* Fix for specific sections that need scrolling but no scrollbar */
.library-controls,
.assets-library-grid,
.projects-grid,
.featured-grid,
.process-steps {
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE and Edge */
}

.library-controls::-webkit-scrollbar,
.assets-library-grid::-webkit-scrollbar,
.projects-grid::-webkit-scrollbar,
.featured-grid::-webkit-scrollbar,
.process-steps::-webkit-scrollbar {
  display: none; /* Chrome, Safari and Opera */
}

/* =================== CUSTOM CURSOR FIX =================== */
* {
  cursor: none !important;
}

/* Body cursor none sebagai fallback */
body {
  cursor: none !important;
}

/* Custom cursor styling */
#circle-cursor {
  position: fixed;
  top: 0;
  left: 0;
  width: 12px;
  height: 12px;
  background: var(--primary);
  border-radius: 50%;
  pointer-events: none;
  transform: translate(-50%, -50%);
  z-index: 1000003;
  mix-blend-mode: difference;
  transition: transform 0.15s ease, width 0.25s ease, height 0.25s ease;
  visibility: visible !important;
  opacity: 1 !important;
  display: block !important;
}

#circle-cursor.hovering {
  width: 40px;
  height: 40px;
  background: rgba(0, 255, 255, 0.8);
}

#circle-cursor.pointer {
  width: 24px;
  height: 24px;
  background: rgba(0, 255, 255, 0.7);
  border: 2px solid var(--primary);
}

/* Pastikan tidak ada elemen yang menimpa cursor */
html, body, div, span, applet, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, img, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var,
b, u, i, center,
dl, dt, dd, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, embed, 
figure, figcaption, footer, header, hgroup, 
menu, nav, output, ruby, section, summary,
time, mark, audio, video, button, input, textarea, select {
  cursor: none !important;
}

/* Override untuk semua state elemen interaktif */
a:hover, a:focus, a:active,
button:hover, button:focus, button:active,
input:hover, input:focus, input:active,
textarea:hover, textarea:focus, textarea:active,
select:hover, select:focus, select:active,
[role="button"]:hover, [role="button"]:focus, [role="button"]:active {
  cursor: none !important;
}

/* =================== BROWSER SPECIFIC CURSOR FIXES =================== */
/* Firefox specific */
@-moz-document url-prefix() {
  * {
    cursor: none !important;
  }
}

/* Safari specific */
@media not all and (min-resolution:.001dpcm) { 
  @supports (-webkit-appearance:none) {
    * {
      cursor: none !important;
    }
  }
}

/* Chrome specific */
@media all and (-webkit-min-device-pixel-ratio:0) and (min-resolution: .001dpcm) {
  * {
    cursor: none !important;
  }
}

/* Mobile devices - show default cursor */
@media (max-width: 768px), (hover: none) and (pointer: coarse) {
  * {
    cursor: auto !important;
  }
  
  #circle-cursor {
    display: none !important;
  }
}

html * {
  cursor: none !important;
}

/* =================== MINIMAL TEXT CLOCK =================== */
.floating-clock {
  position: fixed;
  bottom: 90px; 
  left: 50%;
  transform: translateX(-50%);
  z-index: 9998;
  text-align: center;
  color: var(--text);
  font-family: 'JetBrains Mono', 'Fira Code', 'Cascadia Code', monospace;
}

.clock-time {
  font-size: 1rem;
  font-weight: 400;
  color: var(--primary);
  letter-spacing: 2px;
  margin-bottom: 2px;
  font-variant-numeric: tabular-nums;
}

.clock-date {
  font-size: 0.7rem;
  color: var(--muted);
  font-weight: 300;
  letter-spacing: 1px;
  text-transform: uppercase;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .floating-clock {
    bottom: 85px;
  }
  
  .clock-time {
    font-size: 0.9rem;
    letter-spacing: 1.5px;
  }
  
  .clock-date {
    font-size: 0.65rem;
  }
}

@media (max-width: 480px) {
  .floating-clock {
    bottom: 80px;
  }
  
  .clock-time {
    font-size: 0.85rem;
    letter-spacing: 1px;
  }
  
  .clock-date {
    font-size: 0.6rem;
  }
}

/* =================== FIX Z-INDEX HIERARCHY =================== */
#particle-canvas {
  position: fixed;
  top: 0;
  left: 0;
  z-index: 0 !important;
  width: 100%;
  height: 100%;
  pointer-events: none; 
}

section {
  position: relative;
  z-index: 2 !important;
}

.hero-content, .about-container, .projects-container, 
.skills-container, .tools-container, .workflow-container,
.testimonials-container, .contact-container {
  position: relative;
  z-index: 3 !important;
}

/* =================== DOCK NAVBAR =================== */
.dock-nav {
  position: fixed;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 9999;
  background: var(--blur);
  backdrop-filter: blur(20px) saturate(180%);
  border: 1px solid var(--highlight);
  border-radius: 24px;
  padding: 8px 16px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.dock-container {
  display: flex;
  justify-content: center;
}

.dock-items {
  display: flex;
  gap: 8px;
  align-items: end;
}

.dock-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-decoration: none;
  padding: 8px 12px;
  border-radius: 16px;
  transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  position: relative;
}

.dock-icon {
  font-size: 1.5rem;
  transition: all 0.3s ease;
  filter: grayscale(0.3);
}

.dock-item:hover {
  background: rgba(0, 255, 255, 0.1);
  transform: translateY(-8px);
}

.dock-item:hover .dock-icon {
  filter: grayscale(0);
  transform: scale(1.2);
}

/* Dock magnification effect */
.dock-item:nth-child(1):hover { transform: translateY(-12px) scale(1.1); }
.dock-item:nth-child(2):hover { transform: translateY(-14px) scale(1.15); }
.dock-item:nth-child(3):hover { transform: translateY(-16px) scale(1.2); }
.dock-item:nth-child(4):hover { transform: translateY(-16px) scale(1.2); }
.dock-item:nth-child(5):hover { transform: translateY(-14px) scale(1.15); }
.dock-item:nth-child(6):hover { transform: translateY(-12px) scale(1.1); }
.dock-item:nth-child(7):hover { transform: translateY(-10px) scale(1.05); }
.dock-item:nth-child(8):hover { transform: translateY(-8px) scale(1.02); }

/* Tooltip */
.dock-item::after {
  content: attr(data-title);
  position: absolute;
  bottom: -30px;
  background: var(--primary);
  color: #000;
  padding: 4px 8px;
  border-radius: 6px;
  font-size: 0.7rem;
  font-weight: bold;
  opacity: 0;
  transform: translateY(10px);
  transition: all 0.3s ease;
  white-space: nowrap;
  pointer-events: none;
}

.dock-item:hover::after {
  opacity: 1;
  transform: translateY(0);
}


/* =================== SECTION LAYOUT =================== */
section {
  min-height: 100vh;
  padding: 80px 20px 30px;
}

.center {
  display: flex;
  justify-content: center;
  align-items: center;
  text-align: center;
  flex-direction: column;
}

.section-title {
  font-size: 2.5rem;
  margin-bottom: 3rem;
  color: var(--primary);
  text-align: center;
}

/* =================== HOME SECTION =================== */
#home {
  display: flex;
  justify-content: center;
  align-items: center;
  text-align: center;
  position: relative;
  overflow: hidden;
}

.hero-content {
  z-index: 2;
  position: relative;
}

.hero-title {
  font-size: clamp(2.5rem, 5vw, 4rem);
  font-weight: bold;
  margin-bottom: 1rem;
  color: var(--text);
}

.typing-container {
  display: inline-block;
  position: relative;
}

#typed-text {
  font-size: clamp(1.5rem, 3vw, 2.5rem);
  color: var(--primary);
  font-weight: bold;
  border-right: 3px solid var(--primary);
  padding-right: 5px;
  animation: blink-caret 0.7s infinite;
}

@keyframes blink-caret {
  from, to { border-color: transparent; }
  50% { border-color: var(--primary); }
}

.hero-subtitle {
  font-size: clamp(1rem, 2vw, 1.2rem);
  color: var(--muted);
  margin-top: 1rem;
  line-height: 1.6;
  max-width: 600px;
}

.scroll-indicator {
  position: absolute;
  bottom: 30px;
  left: 50%;
  transform: translateX(-50%);
  color: var(--muted);
  font-size: 0.9rem;
  animation: bounce 2s infinite;
}

@keyframes bounce {
  0%, 20%, 50%, 80%, 100% {
    transform: translateX(-50%) translateY(0);
  }
  40% {
    transform: translateX(-50%) translateY(-10px);
  }
  60% {
    transform: translateX(-50%) translateY(-5px);
  }
}

/* =================== ABOUT SECTION =================== */
#about {
  padding: 4rem 1rem;
  background-color: rgba(255, 255, 255, 0.02);
  position: relative;
}

.about-container {
  max-width: 1200px;
  margin: 0 auto;
  display: grid;
  grid-template-columns: 1fr 2fr;
  gap: 4rem;
  align-items: center;
}

.about-image {
  text-align: center;
  position: relative;
}

.about-photo {
  width: 300px;
  height: 300px;
  border-radius: 50%;
  object-fit: cover;
  border: 4px solid var(--primary);
  box-shadow: 0 0 30px rgba(0, 255, 255, 0.3);
  transition: all 0.3s ease;
}

.about-photo:hover {
  transform: scale(1.05);
  box-shadow: 0 0 40px rgba(0, 255, 255, 0.5);
}

.about-content {
  padding: 2rem;
}

.about-title {
  font-size: 2.5rem;
  color: var(--primary);
  margin-bottom: 1.5rem;
  position: relative;
}

.about-title::after {
  content: '';
  position: absolute;
  bottom: -10px;
  left: 0;
  width: 60px;
  height: 3px;
  background: var(--primary);
}

.about-text {
  color: var(--muted);
  line-height: 1.8;
  margin-bottom: 2rem;
  font-size: 1.1rem;
}

.about-highlights {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1.5rem;
  margin-bottom: 2rem;
}

.highlight-card {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid var(--highlight);
  border-radius: 12px;
  padding: 1.5rem;
  text-align: center;
  transition: all 0.3s ease;
}

.highlight-card:hover {
  transform: translateY(-5px);
  background: rgba(0, 255, 255, 0.1);
  border-color: var(--primary);
}

.highlight-icon {
  font-size: 2rem;
  margin-bottom: 1rem;
  display: block;
}

.highlight-title {
  color: var(--primary);
  font-weight: bold;
  margin-bottom: 0.5rem;
  font-size: 1.1rem;
}

.highlight-desc {
  color: var(--muted);
  font-size: 0.9rem;
}

.about-facts {
  background: rgba(255, 255, 255, 0.03);
  border-radius: 16px;
  padding: 2rem;
  border: 1px solid var(--highlight);
}

.about-facts h3 {
  color: var(--primary);
  margin-bottom: 1.5rem;
  font-size: 1.3rem;
}

.facts-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1rem;
}

.fact-item {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 0.8rem;
  border-radius: 8px;
  transition: background 0.3s ease;
}

.fact-item:hover {
  background: rgba(255, 255, 255, 0.05);
}

.fact-icon {
  font-size: 1.5rem;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0, 255, 255, 0.1);
  border-radius: 8px;
}

.fact-text {
  color: var(--text);
  font-size: 1rem;
}

/* =================== PROJECTS SECTION =================== */
#projects {
  padding: 4rem 1rem;
  background-color: rgba(255, 255, 255, 0.02);
  position: relative;
}

.projects-container {
  max-width: 1200px;
  margin: 0 auto;
}

.project-filters {
  display: flex;
  justify-content: center;
  gap: 1rem;
  margin-bottom: 3rem;
  flex-wrap: wrap;
}

.filter-btn {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid var(--highlight);
  color: var(--text);
  padding: 0.8rem 1.5rem;
  border-radius: 25px;
  cursor: pointer;
  transition: all 0.3s ease;
  font-weight: 600;
  position: relative;
  z-index: 10; /* Ensure buttons are clickable */
}

.filter-btn:hover,
.filter-btn.active {
  background: var(--primary);
  color: #000;
  border-color: var(--primary);
  transform: translateY(-2px);
}

.projects-interactive-grid {
  display: flex;
  flex-direction: column;
  gap: 3rem;
}

.featured-project {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 3rem;
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid var(--highlight);
  border-radius: 20px;
  padding: 2rem;
  position: relative;
  overflow: hidden;
}

.featured-project::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 2px;
  background: linear-gradient(90deg, var(--primary), transparent);
}

.project-badge {
  position: absolute;
  top: 1rem;
  right: 1rem;
  background: var(--primary);
  color: #000;
  padding: 0.3rem 1rem;
  border-radius: 15px;
  font-size: 0.8rem;
  font-weight: bold;
}

.featured-content {
  display: flex;
  flex-direction: column;
  justify-content: center;
}

.project-stats {
  display: flex;
  gap: 2rem;
  margin: 1.5rem 0;
}

.stat {
  text-align: center;
}

.stat-number {
  display: block;
  font-size: 1.8rem;
  font-weight: bold;
  color: var(--primary);
}

.stat-label {
  font-size: 0.8rem;
  color: var(--muted);
}

.featured-preview {
  position: relative;
}

.preview-container {
  position: relative;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
}

/* =================== VIDEO STYLING =================== */
.preview-video {
  width: 100%;
  height: 300px;
  object-fit: cover;
  border-radius: 12px;
  transition: transform 0.3s ease;
}

.preview-container:hover .preview-video {
  transform: scale(1.05);
}

.video-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(
    to bottom,
    transparent 70%,
    rgba(0, 0, 0, 0.7) 100%
  );
  display: flex;
  align-items: flex-end;
  justify-content: flex-start;
  padding: 1rem;
  opacity: 0;
  transition: opacity 0.3s ease;
  border-radius: 12px;
}

.preview-container:hover .video-overlay {
  opacity: 1;
}

.play-indicator {
  background: rgba(0, 255, 255, 0.9);
  color: #000;
  padding: 0.5rem 1rem;
  border-radius: 20px;
  font-size: 0.8rem;
  font-weight: bold;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

/* Fallback image styling */
.preview-image {
  width: 100%;
  height: 300px;
  object-fit: cover;
  transition: transform 0.3s ease;
}

.preview-container:hover .preview-image {
  transform: scale(1.05);
}

.play-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.7);
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.preview-container:hover .play-overlay {
  opacity: 1;
}

.play-button {
  width: 60px;
  height: 60px;
  background: var(--primary);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.5rem;
  color: #000;
  cursor: pointer;
  transition: transform 0.3s ease;
}

.play-button:hover {
  transform: scale(1.1);
}

/* Manual play button for autoplay restrictions */
.manual-play-button {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: var(--primary);
  color: #000;
  border: none;
  padding: 1rem 2rem;
  border-radius: 25px;
  font-weight: bold;
  cursor: pointer;
  z-index: 5;
  transition: all 0.3s ease;
}

.manual-play-button:hover {
  background: #fff;
  transform: translate(-50%, -50%) scale(1.1);
}

/* =================== PROJECT CARD HOVER EFFECTS =================== */
.projects-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
  gap: 2rem;
  margin-top: 2rem;
}

.project-card {
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid var(--highlight);
  border-radius: 16px;
  overflow: hidden;
  transition: all 0.3s ease;
  position: relative;
  height: 400px;
  cursor: pointer;
}

.project-card:hover {
  transform: scale(1.02);
  border-color: var(--primary);
  box-shadow: 0 8px 25px rgba(0, 255, 255, 0.15);
}

.project-card:hover .project-image {
  transform: scale(1.05);
}

/* Project image container */
.project-image-container {
  position: relative;
  overflow: hidden;
  height: 200px;
}

.project-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.3s ease;
}

.project-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.7);
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.project-card:hover .project-overlay {
  opacity: 1;
}

.view-project-btn {
  background: var(--primary);
  color: #000;
  border: none;
  padding: 0.8rem 1.5rem;
  border-radius: 25px;
  font-weight: bold;
  cursor: pointer;
  transition: all 0.3s ease;
}

.view-project-btn:hover {
  background: #fff;
  transform: translateY(-2px);
  box-shadow: 0 5px 15px rgba(0, 255, 255, 0.4);
}

.project-content {
  padding: 1.5rem;
}

.project-title {
  color: var(--primary);
  font-size: 1.3rem;
  margin-bottom: 0.8rem;
  font-weight: bold;
}

.project-description {
  color: var(--muted);
  line-height: 1.6;
  margin-bottom: 1rem;
  font-size: 0.95rem;
}

.project-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  margin-bottom: 1.5rem;
}

.project-tag {
  background: rgba(0, 255, 255, 0.1);
  color: var(--primary);
  padding: 0.3rem 0.8rem;
  border-radius: 20px;
  font-size: 0.8rem;
  border: 1px solid rgba(0, 255, 255, 0.3);
}

.project-links {
  display: flex;
  gap: 1rem;
}

.project-link {
  background: var(--primary);
  color: #000;
  padding: 0.6rem 1.2rem;
  border-radius: 6px;
  text-decoration: none;
  font-weight: bold;
  font-size: 0.9rem;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  position: relative;
  z-index: 10; /* Ensure links are clickable */
}

.project-link:hover {
  background: #fff;
  transform: translateY(-2px);
  box-shadow: 0 5px 15px rgba(0, 255, 255, 0.4);
}

.project-link.secondary {
  background: transparent;
  color: var(--primary);
  border: 1px solid var(--primary);
}

.project-link.secondary:hover {
  background: rgba(0, 255, 255, 0.1);
}

.link-icon {
  margin-left: 0.5rem;
}

/* Animation for filter */
.project-card.hidden {
  opacity: 0;
  transform: scale(0.8);
  display: none;
}

/* =================== PROJECT MODAL =================== */
.project-modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.9);
  z-index: 20000; /* Lower than cursor */
  backdrop-filter: blur(10px);
}

.modal-content {
  position: relative;
  background: var(--bg);
  margin: 2% auto;
  padding: 2rem;
  width: 90%;
  max-width: 1000px;
  max-height: 90vh;
  border-radius: 20px;
  border: 1px solid var(--primary);
  box-shadow: 0 20px 60px rgba(0, 255, 255, 0.3);
  overflow-y: auto;
  z-index: 20001;
}

.close-modal {
  position: absolute;
  top: 1rem;
  right: 1rem;
  background: none;
  border: none;
  color: var(--primary);
  font-size: 2rem;
  cursor: pointer;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s ease;
  z-index: 20002;
}

.close-modal:hover {
  background: rgba(0, 255, 255, 0.1);
  transform: scale(1.1);
}

.modal-header {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 3rem;
  margin-bottom: 2rem;
  align-items: start;
}

.modal-image {
  width: 100%;
  height: 300px;
  object-fit: cover;
  border-radius: 12px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
}

.modal-info {
  padding: 1rem 0;
}

.modal-title {
  color: var(--primary);
  font-size: 2rem;
  margin-bottom: 1rem;
}

.modal-description {
  color: var(--text);
  line-height: 1.6;
  margin-bottom: 1.5rem;
  font-size: 1.1rem;
}

.modal-stats {
  display: flex;
  gap: 2rem;
  margin-bottom: 1.5rem;
}

.modal-stat {
  text-align: center;
}

.modal-stat-number {
  display: block;
  font-size: 1.5rem;
  font-weight: bold;
  color: var(--primary);
}

.modal-stat-label {
  font-size: 0.8rem;
  color: var(--muted);
}

.modal-features {
  margin: 2rem 0;
}

.modal-features h4 {
  color: var(--primary);
  margin-bottom: 1rem;
  font-size: 1.2rem;
}

.modal-features-list {
  list-style: none;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 0.5rem;
}

.modal-features-list li {
  color: var(--text);
  padding: 0.5rem;
  border-left: 3px solid var(--primary);
  background: rgba(255, 255, 255, 0.03);
}

.modal-footer {
  display: flex;
  gap: 1rem;
  margin-top: 2rem;
  flex-wrap: wrap;
}

/* =================== SKILLS SECTION =================== */
#skills {
  padding: 4rem 1rem;
  text-align: center;
  background-color: rgba(255, 255, 255, 0.02);
  border-top: 1px solid var(--highlight);
  position: relative;
}

.skills-container {
  max-width: 1200px;
  margin: 0 auto;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 3rem;
  align-items: start;
}

.skills-chart-container {
  background: rgba(255, 255, 255, 0.03);
  border-radius: 16px;
  padding: 2rem;
  border: 1px solid var(--highlight);
  box-shadow: 0 8px 32px rgba(0, 255, 255, 0.1);
}

.skills-bars-container {
  background: rgba(255, 255, 255, 0.03);
  border-radius: 16px;
  padding: 2rem;
  border: 1px solid var(--highlight);
  box-shadow: 0 8px 32px rgba(0, 255, 255, 0.1);
}

.skills-bars-container h3 {
  color: var(--primary);
  margin-bottom: 2rem;
  font-size: 1.5rem;
}

.skill-category {
  margin-bottom: 2rem;
}

.skill-category h4 {
  color: var(--text);
  margin-bottom: 1rem;
  font-size: 1.2rem;
  text-align: left;
  border-left: 3px solid var(--primary);
  padding-left: 1rem;
}

.skill-item {
  margin-bottom: 1.5rem;
  text-align: left;
}

.skill-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 0.5rem;
}

.skill-name {
  color: var(--text);
  font-weight: 600;
}

.skill-percent {
  color: var(--primary);
  font-weight: bold;
}

.skill-bar {
  width: 100%;
  height: 8px;
  background: #2b2b2b;
  border-radius: 4px;
  overflow: hidden;
  position: relative;
}

.skill-progress {
  height: 100%;
  background: linear-gradient(90deg, var(--primary), #0099ff);
  border-radius: 4px;
  width: 0;
  transition: width 1.5s ease-in-out;
  position: relative;
}

.skill-progress::after {
  content: '';
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  width: 20px;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3));
  animation: shine 2s infinite;
}

@keyframes shine {
  0%, 100% { opacity: 0.3; }
  50% { opacity: 0.8; }
}

/* Chart Container */
.chart-container {
  position: relative;
  height: 400px;
  width: 100%;
}

/* =================== TOOLS CAROUSEL =================== */
.tools-carousel-container {
  max-width: 1200px;
  margin: 0 auto;
  position: relative;
  padding: 0 60px;
}

.carousel-wrapper {
  overflow: hidden;
  border-radius: 20px;
  position: relative;
}

.carousel-track {
  display: flex;
  transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  gap: 2rem;
  padding: 2rem 0;
}

.tool-card {
  flex: 0 0 350px;
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid var(--highlight);
  border-radius: 20px;
  padding: 2rem;
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
  backdrop-filter: blur(10px);
}

.tool-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 2px;
  background: linear-gradient(90deg, var(--primary), transparent);
  opacity: 0;
  transition: opacity 0.3s ease;
}

.tool-card:hover::before {
  opacity: 1;
}

.tool-card:hover {
  border-color: var(--primary);
  transform: translateY(-5px);
  box-shadow: 0 10px 30px rgba(0, 255, 255, 0.15);
}

.tool-header {
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 1.5rem;
}

.tool-icon {
  font-size: 3rem;
  width: 60px;
  height: 60px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0, 255, 255, 0.1);
  border-radius: 12px;
}

.tool-title {
  color: var(--primary);
  font-size: 1.4rem;
  font-weight: bold;
  margin-bottom: 0.3rem;
}

.tool-category {
  color: var(--muted);
  font-size: 0.9rem;
}

.tool-description {
  color: var(--text);
  line-height: 1.6;
  margin-bottom: 1.5rem;
  font-size: 0.95rem;
}

.tool-features {
  list-style: none;
  margin-bottom: 2rem;
}

.tool-features li {
  color: var(--text);
  padding: 0.5rem 0;
  position: relative;
  padding-left: 1.5rem;
  font-size: 0.9rem;
}

.tool-features li::before {
  content: 'â–¸';
  color: var(--primary);
  position: absolute;
  left: 0;
  font-weight: bold;
}

.tool-proficiency {
  margin-top: auto;
}

.proficiency-label {
  color: var(--muted);
  font-size: 0.8rem;
  display: block;
  margin-bottom: 0.5rem;
}

.proficiency-bar {
  width: 100%;
  height: 6px;
  background: #2b2b2b;
  border-radius: 3px;
  overflow: hidden;
  margin-bottom: 0.5rem;
}

.proficiency-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--primary), #00ccff);
  border-radius: 3px;
  transition: width 1s ease-in-out;
}

.proficiency-percent {
  color: var(--primary);
  font-size: 0.9rem;
  font-weight: bold;
  float: right;
}

/* Carousel Navigation */
.carousel-dots {
  display: flex;
  justify-content: center;
  gap: 0.5rem;
  margin-top: 2rem;
}

.carousel-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--muted);
  border: none;
  cursor: pointer;
  transition: all 0.3s ease;
  opacity: 0.5;
}

.carousel-dot.active {
  background: var(--primary);
  opacity: 1;
  transform: scale(1.2);
}

.carousel-arrow {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid var(--highlight);
  color: var(--primary);
  width: 50px;
  height: 50px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.3s ease;
  font-size: 1.5rem;
  z-index: 10;
}

.carousel-arrow:hover {
  background: rgba(0, 255, 255, 0.1);
  border-color: var(--primary);
  transform: translateY(-50%) scale(1.1);
}

.carousel-arrow-prev {
  left: 0;
}

.carousel-arrow-next {
  right: 0;
}

/* Touch/swipe support */
.carousel-track {
  cursor: grab;
}

.carousel-track:active {
  cursor: grabbing;
}

/* Responsive Design */
@media (max-width: 1024px) {
  .tool-card {
    flex: 0 0 300px;
  }
  
  .tools-carousel-container {
    padding: 0 50px;
  }
}

@media (max-width: 768px) {
  .tools-carousel-container {
    padding: 0 40px;
  }
  
  .tool-card {
    flex: 0 0 280px;
    padding: 1.5rem;
  }
  
  .tool-icon {
    font-size: 2.5rem;
    width: 50px;
    height: 50px;
  }
  
  .tool-title {
    font-size: 1.2rem;
  }
  
  .carousel-arrow {
    width: 40px;
    height: 40px;
    font-size: 1.2rem;
  }
}

@media (max-width: 480px) {
  .tools-carousel-container {
    padding: 0 30px;
  }
  
  .tool-card {
    flex: 0 0 250px;
    padding: 1rem;
  }
  
  .tool-header {
    flex-direction: column;
    text-align: center;
    gap: 0.5rem;
  }
  
  .tool-icon {
    font-size: 2rem;
    width: 40px;
    height: 40px;
  }
  
  .carousel-arrow {
    width: 35px;
    height: 35px;
    font-size: 1rem;
  }
}

/* =================== BOUNCE CARDS WORKFLOW SECTION =================== */
#workflow {
  padding: 4rem 1rem;
  background-color: rgba(255, 255, 255, 0.02);
  position: relative;
  overflow: hidden;
}

.workflow-container {
  max-width: 1200px;
  margin: 0 auto;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 4rem;
  align-items: center;
}

/* Bounce Cards Container */
.bounce-cards-container {
  position: relative;
  width: 100%;
  height: 400px;
  display: flex;
  justify-content: center;
  align-items: center;
  perspective: 1000px;
}

.bounce-card {
  position: absolute;
  width: 180px;
  height: 240px;
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
  border: 2px solid var(--highlight);
  transition: all 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
  cursor: pointer;
  background: linear-gradient(135deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
  backdrop-filter: blur(10px);
  opacity: 0;
  transform: scale(0.8) rotate(-10deg);
}

/* Initial positions for cards */
.bounce-card:nth-child(1) {
  transform: rotate(5deg) translateX(-160px) translateY(-10px) scale(0.8);
  z-index: 1;
  transition-delay: 0.1s;
}

.bounce-card:nth-child(2) {
  transform: rotate(2deg) translateX(-80px) translateY(-5px) scale(0.85);
  z-index: 2;
  transition-delay: 0.2s;
}

.bounce-card:nth-child(3) {
  transform: rotate(0deg) scale(0.9);
  z-index: 3;
  transition-delay: 0.3s;
}

.bounce-card:nth-child(4) {
  transform: rotate(-2deg) translateX(80px) translateY(-5px) scale(0.85);
  z-index: 2;
  transition-delay: 0.4s;
}

.bounce-card:nth-child(5) {
  transform: rotate(-5deg) translateX(160px) translateY(-10px) scale(0.8);
  z-index: 1;
  transition-delay: 0.5s;
}

/* Animation when section becomes visible */
#workflow.visible .bounce-card {
  opacity: 1;
  transform: scale(1);
}

#workflow.visible .bounce-card:nth-child(1) {
  transform: rotate(5deg) translateX(-160px) translateY(-10px) scale(1);
}

#workflow.visible .bounce-card:nth-child(2) {
  transform: rotate(2deg) translateX(-80px) translateY(-5px) scale(1);
}

#workflow.visible .bounce-card:nth-child(3) {
  transform: rotate(0deg) scale(1);
}

#workflow.visible .bounce-card:nth-child(4) {
  transform: rotate(-2deg) translateX(80px) translateY(-5px) scale(1);
}

#workflow.visible .bounce-card:nth-child(5) {
  transform: rotate(-5deg) translateX(160px) translateY(-10px) scale(1);
}

/* Hover states */
.bounce-card:hover {
  border-color: var(--primary);
  box-shadow: 0 20px 50px rgba(0, 255, 255, 0.3);
  z-index: 20 !important;
}

.bounce-card.active {
  border-color: var(--primary);
  box-shadow: 0 15px 40px rgba(0, 255, 255, 0.2);
  z-index: 15;
}

.card-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.4s ease;
}

.bounce-card:hover .card-image {
  transform: scale(1.08);
}

.card-step {
  position: absolute;
  top: 12px;
  left: 12px;
  background: var(--primary);
  color: #000;
  width: 28px;
  height: 28px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  font-size: 0.8rem;
  z-index: 2;
}

.card-content {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background: linear-gradient(transparent, rgba(0, 0, 0, 0.9));
  padding: 1.2rem 0.8rem 0.8rem;
  transform: translateY(100%);
  transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.bounce-card:hover .card-content,
.bounce-card.active .card-content {
  transform: translateY(0);
}

.card-content h4 {
  color: var(--primary);
  font-size: 0.9rem;
  font-weight: bold;
  margin-bottom: 0.4rem;
}

.card-content p {
  color: var(--text);
  font-size: 0.7rem;
  line-height: 1.3;
  opacity: 0.9;
}

/* Workflow Description */
.workflow-description {
  padding: 2rem;
}

.workflow-description h3 {
  color: var(--primary);
  font-size: 2rem;
  margin-bottom: 1rem;
}

.workflow-description > p {
  color: var(--muted);
  line-height: 1.6;
  margin-bottom: 2rem;
  font-size: 1.1rem;
}

.process-steps {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.process-step {
  padding: 1.5rem;
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid var(--highlight);
  border-radius: 12px;
  cursor: pointer;
  transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  opacity: 0.6;
}

.process-step.active {
  opacity: 1;
  border-color: var(--primary);
  background: rgba(0, 255, 255, 0.05);
  transform: translateX(10px);
}

.process-step:hover {
  border-color: var(--primary);
  transform: translateX(5px);
}

.process-step h4 {
  color: var(--primary);
  margin-bottom: 0.5rem;
  font-size: 1.1rem;
}

.process-step p {
  color: var(--muted);
  font-size: 0.9rem;
  line-height: 1.5;
}

/* Responsive Design */
@media (max-width: 1024px) {
  .workflow-container {
    grid-template-columns: 1fr;
    gap: 3rem;
  }
  
  .bounce-cards-container {
    height: 350px;
    order: -1;
  }
  
  .bounce-card {
    width: 160px;
    height: 220px;
  }
  
  .bounce-card:nth-child(1) {
    transform: rotate(5deg) translateX(-140px) translateY(-10px) scale(0.8);
  }
  
  .bounce-card:nth-child(2) {
    transform: rotate(2deg) translateX(-70px) translateY(-5px) scale(0.85);
  }
  
  .bounce-card:nth-child(4) {
    transform: rotate(-2deg) translateX(70px) translateY(-5px) scale(0.85);
  }
  
  .bounce-card:nth-child(5) {
    transform: rotate(-5deg) translateX(140px) translateY(-10px) scale(0.8);
  }
}

@media (max-width: 768px) {
  .bounce-cards-container {
    height: 300px;
  }
  
  .bounce-card {
    width: 140px;
    height: 190px;
  }
  
  .bounce-card:nth-child(1) {
    transform: rotate(5deg) translateX(-120px) translateY(-10px) scale(0.8);
  }
  
  .bounce-card:nth-child(2) {
    transform: rotate(2deg) translateX(-60px) translateY(-5px) scale(0.85);
  }
  
  .bounce-card:nth-child(4) {
    transform: rotate(-2deg) translateX(60px) translateY(-5px) scale(0.85);
  }
  
  .bounce-card:nth-child(5) {
    transform: rotate(-5deg) translateX(120px) translateY(-10px) scale(0.8);
  }
  
  .workflow-description {
    padding: 1rem 0;
  }
  
  .workflow-description h3 {
    font-size: 1.5rem;
  }
}

@media (max-width: 480px) {
  .bounce-cards-container {
    height: 250px;
  }
  
  .bounce-card {
    width: 110px;
    height: 160px;
  }
  
  .bounce-card:nth-child(1) {
    transform: rotate(5deg) translateX(-90px) translateY(-5px) scale(0.8);
  }
  
  .bounce-card:nth-child(2) {
    transform: rotate(2deg) translateX(-45px) translateY(-2px) scale(0.85);
  }
  
  .bounce-card:nth-child(3) {
    transform: rotate(0deg) scale(0.9);
  }
  
  .bounce-card:nth-child(4) {
    transform: rotate(-2deg) translateX(45px) translateY(-2px) scale(0.85);
  }
  
  .bounce-card:nth-child(5) {
    transform: rotate(-5deg) translateX(90px) translateY(-5px) scale(0.8);
  }
  
  .card-content {
    padding: 0.8rem 0.6rem 0.6rem;
  }
  
  .card-content h4 {
    font-size: 0.8rem;
  }
  
  .card-content p {
    font-size: 0.65rem;
  }
  
  .process-step {
    padding: 1rem;
  }
  
  .process-step h4 {
    font-size: 1rem;
  }
}

/* =================== SEARCH SUGGESTIONS STYLES =================== */
.search-suggestions {
  position: absolute;
  top: 100%;
  left: 0;
  right: 0;
  background: rgba(15, 15, 15, 0.95);
  border: 1px solid var(--highlight);
  border-radius: 8px;
  margin-top: 5px;
  max-height: 200px;
  overflow-y: auto;
  z-index: 1000;
  display: none;
  backdrop-filter: blur(10px);
}

.search-suggestion {
  padding: 8px 12px;
  cursor: pointer;
  transition: background-color 0.2s ease;
  border-bottom: 1px solid rgba(255,255,255,0.1);
  color: var(--text);
  display: flex;
  align-items: center;
  gap: 8px;
}

.search-suggestion:hover {
  background-color: rgba(0, 255, 255, 0.1);
}

.search-suggestion:last-child {
  border-bottom: none;
}

.suggestion-icon {
  font-size: 0.8rem;
  opacity: 0.7;
}

/* Search highlight */
.highlight {
  background: rgba(0, 255, 255, 0.2);
  color: var(--primary);
  padding: 0.1rem 0.2rem;
  border-radius: 3px;
}

/* No results message */
.no-results {
  grid-column: 1 / -1;
  text-align: center;
  color: var(--muted);
  padding: 2rem;
  font-style: italic;
}

/* =================== CARD NAV TESTIMONIALS =================== */
#testimonials {
  padding: 4rem 1rem;
  background-color: rgba(255, 255, 255, 0.02);
  position: relative;
  min-height: 100vh;
}

.testimonials-container {
  max-width: 1200px;
  margin: 0 auto;
  display: grid;
  grid-template-columns: 1fr;
  gap: 3rem;
}

.card-nav-testimonials {
  position: relative;
  width: 100%;
  max-width: 900px;
  margin: 0 auto;
}

.testimonial-nav {
  display: block;
  height: 70px;
  padding: 0;
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid var(--highlight);
  border-radius: 16px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
  position: relative;
  overflow: hidden;
  transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  backdrop-filter: blur(10px);
}

.testimonial-nav.expanded {
  height: 500px;
  border-color: var(--primary);
}

.testimonial-nav-top {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 70px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 1.5rem;
  z-index: 10;
  background: rgba(15, 15, 15, 0.8);
  border-radius: 16px;
}

.hamburger-menu-testimonial {
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  gap: 6px;
  width: 30px;
  transition: all 0.3s ease;
}

.hamburger-menu-testimonial:hover {
  transform: scale(1.1);
}

.hamburger-line-testimonial {
  width: 25px;
  height: 2px;
  background-color: var(--primary);
  transition: all 0.3s ease;
  transform-origin: center;
}

.testimonial-nav.expanded .hamburger-line-testimonial:first-child {
  transform: rotate(45deg) translate(6px, 6px);
}

.testimonial-nav.expanded .hamburger-line-testimonial:last-child {
  transform: rotate(-45deg) translate(6px, -6px);
}

.testimonial-logo-container h3 {
  color: var(--primary);
  font-size: 1.5rem;
  font-weight: bold;
  margin: 0;
}

.testimonial-search-container {
  position: relative;
  width: 200px;
}

.testimonial-search {
  width: 100%;
  padding: 0.5rem 2rem 0.5rem 1rem;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid var(--highlight);
  border-radius: 25px;
  color: var(--text);
  font-size: 0.9rem;
  transition: all 0.3s ease;
}

.testimonial-search:focus {
  outline: none;
  border-color: var(--primary);
  box-shadow: 0 0 0 2px rgba(0, 255, 255, 0.1);
}

.testimonial-search::placeholder {
  color: var(--muted);
}

.search-icon {
  position: absolute;
  right: 12px;
  top: 50%;
  transform: translateY(-50%);
  color: var(--muted);
  font-size: 0.9rem;
}

.testimonial-nav-content {
  position: absolute;
  left: 0;
  right: 0;
  top: 70px;
  bottom: 0;
  padding: 1.5rem;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 1rem;
  opacity: 0;
  visibility: hidden;
  transform: translateY(20px);
  transition: all 0.4s ease;
  overflow-y: auto;
  max-height: 400px;
}

.testimonial-nav.expanded .testimonial-nav-content {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
}

.testimonial-card {
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid var(--highlight);
  border-radius: 12px;
  padding: 1.5rem;
  transition: all 0.3s ease;
  cursor: pointer;
  opacity: 0;
  transform: translateY(30px);
}

.testimonial-nav.expanded .testimonial-card {
  opacity: 1;
  transform: translateY(0);
}

.testimonial-card:hover {
  border-color: var(--primary);
  transform: translateY(-5px);
  box-shadow: 0 10px 30px rgba(0, 255, 255, 0.1);
}

.testimonial-content {
  color: var(--text);
  font-style: italic;
  line-height: 1.6;
  margin-bottom: 1.5rem;
  position: relative;
  font-size: 0.95rem;
}

.testimonial-content::before {
  content: '"';
  font-size: 3rem;
  color: var(--primary);
  opacity: 0.3;
  position: absolute;
  top: -1.5rem;
  left: -0.5rem;
  line-height: 1;
}

.testimonial-author {
  display: flex;
  align-items: center;
  gap: 1rem;
}

.author-avatar {
  width: 45px;
  height: 45px;
  border-radius: 50%;
  object-fit: cover;
  border: 2px solid var(--primary);
}

.author-info h4 {
  color: var(--primary);
  margin-bottom: 0.2rem;
  font-size: 1rem;
}

.author-info p {
  color: var(--muted);
  font-size: 0.8rem;
}

.testimonial-rating {
  margin-top: 0.5rem;
  color: #ffd700;
  font-size: 0.9rem;
}

/* Featured Testimonials */
.featured-testimonials {
  margin-top: 2rem;
}

.featured-testimonials h3 {
  color: var(--primary);
  font-size: 1.8rem;
  margin-bottom: 2rem;
  text-align: center;
}

.featured-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 2rem;
}

.featured-testimonial {
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid var(--highlight);
  border-radius: 16px;
  padding: 2rem;
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
}

.featured-testimonial::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: linear-gradient(90deg, var(--primary), transparent);
}

.featured-testimonial:hover {
  transform: translateY(-5px);
  border-color: var(--primary);
  box-shadow: 0 15px 40px rgba(0, 255, 255, 0.15);
}

.featured-content {
  color: var(--text);
  font-style: italic;
  line-height: 1.7;
  margin-bottom: 1.5rem;
  position: relative;
  font-size: 1rem;
}

.featured-content::before {
  content: '"';
  font-size: 4rem;
  color: var(--primary);
  opacity: 0.2;
  position: absolute;
  top: -2rem;
  left: -1rem;
  line-height: 1;
}

.featured-author {
  display: flex;
  align-items: center;
  gap: 1rem;
}

.featured-avatar {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  object-fit: cover;
  border: 2px solid var(--primary);
}

.featured-author-info h4 {
  color: var(--primary);
  margin-bottom: 0.3rem;
  font-size: 1.1rem;
}

.featured-author-info p {
  color: var(--muted);
  font-size: 0.9rem;
}

.featured-rating {
  margin-top: 0.5rem;
  color: #ffd700;
  font-size: 1rem;
}

/* Stagger animation for cards */
.testimonial-card:nth-child(1) { transition-delay: 0.1s; }
.testimonial-card:nth-child(2) { transition-delay: 0.2s; }
.testimonial-card:nth-child(3) { transition-delay: 0.3s; }
.testimonial-card:nth-child(4) { transition-delay: 0.4s; }
.testimonial-card:nth-child(5) { transition-delay: 0.5s; }
.testimonial-card:nth-child(6) { transition-delay: 0.6s; }
.testimonial-card:nth-child(7) { transition-delay: 0.7s; }
.testimonial-card:nth-child(8) { transition-delay: 0.8s; }
.testimonial-card:nth-child(9) { transition-delay: 0.9s; }
.testimonial-card:nth-child(10) { transition-delay: 1s; }

/* Responsive Design */
@media (max-width: 768px) {
  .testimonial-nav-top {
    padding: 0 1rem;
    flex-wrap: wrap;
    height: auto;
    min-height: 70px;
  }
  
  .testimonial-search-container {
    width: 150px;
    order: 3;
    margin-top: 0.5rem;
    flex-basis: 100%;
  }
  
  .hamburger-menu-testimonial {
    order: 1;
  }
  
  .testimonial-logo-container {
    order: 2;
    flex: 1;
    text-align: center;
  }
  
  .testimonial-logo-container h3 {
    font-size: 1.3rem;
  }
  
  .testimonial-nav.expanded {
    height: 600px;
  }
  
  .testimonial-nav-content {
    grid-template-columns: 1fr;
    padding: 1rem;
  }
  
  .featured-grid {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 480px) {
  .testimonial-nav-top {
    padding: 0.5rem;
  }
  
  .testimonial-search {
    font-size: 0.8rem;
  }
  
  .testimonial-card {
    padding: 1rem;
  }
  
  .featured-testimonial {
    padding: 1.5rem;
  }
  
  .featured-content {
    font-size: 0.9rem;
  }
}

/* Search highlight */
.highlight {
  background: rgba(0, 255, 255, 0.2);
  color: var(--primary);
  padding: 0.1rem 0.2rem;
  border-radius: 3px;
}

/* No results message */
.no-results {
  grid-column: 1 / -1;
  text-align: center;
  color: var(--muted);
  padding: 2rem;
  font-style: italic;
}

/* =================== ASSET PREVIEW MODAL STYLES =================== */
.asset-preview-modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.95);
  z-index: 100000;
  backdrop-filter: blur(10px);
  opacity: 0;
  transition: opacity 0.3s ease;
}

.asset-preview-modal.active {
  display: block;
  opacity: 1;
}

.asset-preview-content {
  position: relative;
  background: var(--bg);
  margin: 2% auto;
  padding: 2rem;
  width: 90%;
  max-width: 900px;
  max-height: 90vh;
  border-radius: 20px;
  border: 1px solid var(--primary);
  box-shadow: 0 20px 60px rgba(0, 255, 255, 0.3);
  transform: scale(0.9);
  transition: transform 0.3s ease;
  overflow-y: auto;
}

.asset-preview-modal.active .asset-preview-content {
  transform: scale(1);
}

.close-asset-preview {
  position: absolute;
  top: 1rem;
  right: 1rem;
  background: none;
  border: none;
  color: var(--primary);
  font-size: 2rem;
  cursor: pointer;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s ease;
  z-index: 2;
}

.close-asset-preview:hover {
  background: rgba(0, 255, 255, 0.1);
  transform: scale(1.1);
}

.preview-header {
  margin-bottom: 1.5rem;
  text-align: center;
}

.preview-header h3 {
  color: var(--primary);
  font-size: 1.8rem;
  margin: 0;
}

.preview-body {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2rem;
  margin-bottom: 2rem;
}

.preview-image {
  width: 100%;
  height: 300px;
  object-fit: cover;
  border-radius: 12px;
  border: 2px solid var(--highlight);
}

.preview-info {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.preview-info p {
  color: var(--text);
  line-height: 1.6;
  margin: 0;
}

.preview-meta {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.meta-item {
  color: var(--muted);
  font-size: 0.9rem;
}

.meta-item strong {
  color: var(--primary);
}

.preview-actions {
  display: flex;
  gap: 1rem;
  justify-content: center;
}

.preview-download-btn, .preview-close-btn {
  padding: 0.8rem 1.5rem;
  border: none;
  border-radius: 8px;
  font-weight: bold;
  cursor: pointer;
  transition: all 0.3s ease;
}

.preview-download-btn {
  background: var(--primary);
  color: #000;
}

.preview-download-btn:hover {
  background: #fff;
  transform: translateY(-2px);
}

.preview-close-btn {
  background: transparent;
  color: var(--primary);
  border: 1px solid var(--primary);
}

.preview-close-btn:hover {
  background: rgba(0, 255, 255, 0.1);
}

/* Responsive Design untuk Asset Preview */
@media (max-width: 768px) {
  .asset-preview-content {
    margin: 5% auto;
    padding: 1.5rem;
    width: 95%;
  }

  .preview-body {
    grid-template-columns: 1fr;
    gap: 1.5rem;
  }

  .preview-image {
    height: 250px;
  }

  .preview-actions {
    flex-direction: column;
  }
}

@media (max-width: 480px) {
  .asset-preview-content {
    padding: 1rem;
  }

  .preview-header h3 {
    font-size: 1.4rem;
  }

  .preview-image {
    height: 200px;
  }
}

/* =================== ASSETS LIBRARY STYLES =================== */
.library-controls {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 2rem;
  gap: 2rem;
  flex-wrap: wrap;
}

.search-box {
  position: relative;
  flex: 1;
  min-width: 300px;
}

.search-box input {
  width: 100%;
  padding: 1rem 3rem 1rem 1.5rem;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid var(--highlight);
  border-radius: 25px;
  color: var(--text);
  font-size: 1rem;
  transition: all 0.3s ease;
}

.search-box input:focus {
  outline: none;
  border-color: var(--primary);
  box-shadow: 0 0 0 2px rgba(0, 255, 255, 0.1);
}

.search-icon {
  position: absolute;
  right: 1.5rem;
  top: 50%;
  transform: translateY(-50%);
  color: var(--muted);
}

.filter-controls {
  display: flex;
  gap: 1rem;
  flex-wrap: wrap;
}

.filter-controls select {
  padding: 0.8rem 1.5rem;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid var(--highlight);
  border-radius: 25px;
  color: var(--text);
  font-size: 0.9rem;
  cursor: pointer;
  transition: all 0.3s ease;
}

.filter-controls select:focus {
  outline: none;
  border-color: var(--primary);
}

.library-stats {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 1rem;
  margin-bottom: 2rem;
}

.stat-card {
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid var(--highlight);
  border-radius: 12px;
  padding: 1.5rem;
  text-align: center;
  transition: all 0.3s ease;
}

.stat-card:hover {
  border-color: var(--primary);
  transform: translateY(-2px);
}

.stat-number {
  display: block;
  font-size: 2rem;
  font-weight: bold;
  color: var(--primary);
  margin-bottom: 0.5rem;
}

.stat-label {
  color: var(--muted);
  font-size: 0.9rem;
}

.assets-library-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 2rem;
  margin-bottom: 3rem;
}

.asset-library-card {
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid var(--highlight);
  border-radius: 16px;
  overflow: hidden;
  transition: all 0.3s ease;
  position: relative;
}

.asset-library-card:hover {
  transform: translateY(-5px);
  border-color: var(--primary);
  box-shadow: 0 10px 30px rgba(0, 255, 255, 0.1);
}

.asset-preview-container {
  position: relative;
  height: 200px;
  overflow: hidden;
}

.asset-preview {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.3s ease;
}

.asset-library-card:hover .asset-preview {
  transform: scale(1.05);
}

.asset-badge {
  position: absolute;
  top: 1rem;
  right: 1rem;
  background: var(--primary);
  color: #000;
  padding: 0.3rem 0.8rem;
  border-radius: 15px;
  font-size: 0.7rem;
  font-weight: bold;
  z-index: 2;
}

.asset-badge.free {
  background: #00ff00;
  color: #000;
}

.asset-badge.premium {
  background: #ffd700;
  color: #000;
}

.asset-content {
  padding: 1.5rem;
}

.asset-title {
  color: var(--primary);
  font-size: 1.2rem;
  font-weight: bold;
  margin-bottom: 0.8rem;
  line-height: 1.3;
}

.asset-description {
  color: var(--text);
  font-size: 0.9rem;
  line-height: 1.5;
  margin-bottom: 1rem;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.asset-meta {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
  font-size: 0.8rem;
  color: var(--muted);
}

.asset-type {
  background: rgba(0, 255, 255, 0.1);
  color: var(--primary);
  padding: 0.2rem 0.6rem;
  border-radius: 12px;
  font-weight: 600;
}

.asset-file-size {
  font-weight: 600;
}

.asset-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  margin-bottom: 1.5rem;
}

.asset-tag {
  background: rgba(255, 255, 255, 0.05);
  color: var(--muted);
  padding: 0.2rem 0.6rem;
  border-radius: 10px;
  font-size: 0.7rem;
  border: 1px solid var(--highlight);
}

.asset-actions {
  display: flex;
  gap: 0.8rem;
}

.asset-download-btn, .asset-preview-btn {
  flex: 1;
  padding: 0.8rem 1rem;
  border: none;
  border-radius: 8px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  font-size: 0.9rem;
}

.asset-download-btn {
  background: var(--primary);
  color: #000;
}

.asset-download-btn:hover {
  background: #fff;
  transform: translateY(-2px);
}

.asset-preview-btn {
  background: transparent;
  color: var(--primary);
  border: 1px solid var(--primary);
}

.asset-preview-btn:hover {
  background: rgba(0, 255, 255, 0.1);
}

.load-more-container {
  text-align: center;
  margin-top: 2rem;
}

.load-more-btn {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid var(--highlight);
  color: var(--text);
  padding: 1rem 2rem;
  border-radius: 25px;
  cursor: pointer;
  transition: all 0.3s ease;
  font-weight: 600;
}

.load-more-btn:hover {
  border-color: var(--primary);
  color: var(--primary);
  transform: translateY(-2px);
}

/* Asset Detail Modal */
.asset-detail-modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.95);
  z-index: 100000;
  backdrop-filter: blur(10px);
}

.asset-detail-content {
  position: relative;
  background: var(--bg);
  margin: 2% auto;
  padding: 2rem;
  width: 90%;
  max-width: 1000px;
  max-height: 90vh;
  border-radius: 20px;
  border: 1px solid var(--primary);
  box-shadow: 0 20px 60px rgba(0, 255, 255, 0.3);
  overflow-y: auto;
}

.asset-detail-header {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 3rem;
  margin-bottom: 2rem;
}

.asset-detail-preview {
  position: relative;
}

.asset-detail-preview img {
  width: 100%;
  height: 300px;
  object-fit: cover;
  border-radius: 12px;
}

.asset-detail-info h3 {
  color: var(--primary);
  font-size: 1.8rem;
  margin-bottom: 1rem;
}

.asset-detail-description {
  color: var(--text);
  line-height: 1.6;
  margin-bottom: 1.5rem;
}

.asset-detail-meta {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 1rem;
  margin-bottom: 1.5rem;
}

.meta-item {
  background: rgba(255, 255, 255, 0.03);
  padding: 1rem;
  border-radius: 8px;
  border: 1px solid var(--highlight);
}

.meta-label {
  color: var(--muted);
  font-size: 0.8rem;
  display: block;
  margin-bottom: 0.5rem;
}

.meta-value {
  color: var(--text);
  font-weight: 600;
}

.asset-detail-actions {
  display: flex;
  gap: 1rem;
  margin-top: 2rem;
}

/* Responsive Design */
@media (max-width: 768px) {
  .library-controls {
    flex-direction: column;
    align-items: stretch;
  }
  
  .search-box {
    min-width: auto;
  }
  
  .filter-controls {
    justify-content: center;
  }
  
  .assets-library-grid {
    grid-template-columns: 1fr;
  }
  
  .asset-detail-header {
    grid-template-columns: 1fr;
    gap: 1.5rem;
  }
  
  .asset-detail-actions {
    flex-direction: column;
  }
}

/* =================== ASSETS LIBRARY STYLES =================== */
.library-controls {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 2rem;
  gap: 2rem;
  flex-wrap: wrap;
}

.search-box {
  position: relative;
  flex: 1;
  min-width: 300px;
}

.search-box input {
  width: 100%;
  padding: 1rem 3rem 1rem 1.5rem;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid var(--highlight);
  border-radius: 25px;
  color: var(--text);
  font-size: 1rem;
  transition: all 0.3s ease;
}

.search-box input:focus {
  outline: none;
  border-color: var(--primary);
  box-shadow: 0 0 0 2px rgba(0, 255, 255, 0.1);
}

.search-icon {
  position: absolute;
  right: 1.5rem;
  top: 50%;
  transform: translateY(-50%);
  color: var(--muted);
}

.filter-controls {
  display: flex;
  gap: 1rem;
  flex-wrap: wrap;
}

.filter-controls select {
  padding: 0.8rem 1.5rem;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid var(--highlight);
  border-radius: 25px;
  color: var(--text);
  font-size: 0.9rem;
  cursor: pointer;
  transition: all 0.3s ease;
}

.filter-controls select:focus {
  outline: none;
  border-color: var(--primary);
}

.library-stats {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 1rem;
  margin-bottom: 2rem;
}

.stat-card {
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid var(--highlight);
  border-radius: 12px;
  padding: 1.5rem;
  text-align: center;
  transition: all 0.3s ease;
}

.stat-card:hover {
  border-color: var(--primary);
  transform: translateY(-2px);
}

.stat-number {
  display: block;
  font-size: 2rem;
  font-weight: bold;
  color: var(--primary);
  margin-bottom: 0.5rem;
}

.stat-label {
  color: var(--muted);
  font-size: 0.9rem;
}

.assets-library-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 2rem;
  margin-bottom: 3rem;
}

.asset-library-card {
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid var(--highlight);
  border-radius: 16px;
  overflow: hidden;
  transition: all 0.3s ease;
  position: relative;
}

.asset-library-card:hover {
  transform: translateY(-5px);
  border-color: var(--primary);
  box-shadow: 0 10px 30px rgba(0, 255, 255, 0.1);
}

.asset-preview-container {
  position: relative;
  height: 200px;
  overflow: hidden;
}

.asset-preview {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.3s ease;
}

.asset-library-card:hover .asset-preview {
  transform: scale(1.05);
}

.asset-badge {
  position: absolute;
  top: 1rem;
  right: 1rem;
  background: var(--primary);
  color: #000;
  padding: 0.3rem 0.8rem;
  border-radius: 15px;
  font-size: 0.7rem;
  font-weight: bold;
  z-index: 2;
}

.asset-badge.free {
  background: #00ff00;
  color: #000;
}

.asset-badge.premium {
  background: #ffd700;
  color: #000;
}

.asset-content {
  padding: 1.5rem;
}

.asset-title {
  color: var(--primary);
  font-size: 1.2rem;
  font-weight: bold;
  margin-bottom: 0.8rem;
  line-height: 1.3;
}

.asset-description {
  color: var(--text);
  font-size: 0.9rem;
  line-height: 1.5;
  margin-bottom: 1rem;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.asset-meta {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
  font-size: 0.8rem;
  color: var(--muted);
}

.asset-type {
  background: rgba(0, 255, 255, 0.1);
  color: var(--primary);
  padding: 0.2rem 0.6rem;
  border-radius: 12px;
  font-weight: 600;
}

.asset-file-size {
  font-weight: 600;
}

.asset-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  margin-bottom: 1.5rem;
}

.asset-tag {
  background: rgba(255, 255, 255, 0.05);
  color: var(--muted);
  padding: 0.2rem 0.6rem;
  border-radius: 10px;
  font-size: 0.7rem;
  border: 1px solid var(--highlight);
}

.asset-actions {
  display: flex;
  gap: 0.8rem;
}

.asset-download-btn, .asset-preview-btn {
  flex: 1;
  padding: 0.8rem 1rem;
  border: none;
  border-radius: 8px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  font-size: 0.9rem;
}

.asset-download-btn {
  background: var(--primary);
  color: #000;
}

.asset-download-btn:hover {
  background: #fff;
  transform: translateY(-2px);
}

.asset-preview-btn {
  background: transparent;
  color: var(--primary);
  border: 1px solid var(--primary);
}

.asset-preview-btn:hover {
  background: rgba(0, 255, 255, 0.1);
}

.load-more-container {
  text-align: center;
  margin-top: 2rem;
}

.load-more-btn {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid var(--highlight);
  color: var(--text);
  padding: 1rem 2rem;
  border-radius: 25px;
  cursor: pointer;
  transition: all 0.3s ease;
  font-weight: 600;
}

.load-more-btn:hover {
  border-color: var(--primary);
  color: var(--primary);
  transform: translateY(-2px);
}

/* Asset Detail Modal */
.asset-detail-modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.95);
  z-index: 100000;
  backdrop-filter: blur(10px);
}

.asset-detail-content {
  position: relative;
  background: var(--bg);
  margin: 2% auto;
  padding: 2rem;
  width: 90%;
  max-width: 1000px;
  max-height: 90vh;
  border-radius: 20px;
  border: 1px solid var(--primary);
  box-shadow: 0 20px 60px rgba(0, 255, 255, 0.3);
  overflow-y: auto;
}

.asset-detail-header {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 3rem;
  margin-bottom: 2rem;
}

.asset-detail-preview {
  position: relative;
}

.asset-detail-preview img {
  width: 100%;
  height: 300px;
  object-fit: cover;
  border-radius: 12px;
}

.asset-detail-info h3 {
  color: var(--primary);
  font-size: 1.8rem;
  margin-bottom: 1rem;
}

.asset-detail-description {
  color: var(--text);
  line-height: 1.6;
  margin-bottom: 1.5rem;
}

.asset-detail-meta {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 1rem;
  margin-bottom: 1.5rem;
}

.meta-item {
  background: rgba(255, 255, 255, 0.03);
  padding: 1rem;
  border-radius: 8px;
  border: 1px solid var(--highlight);
}

.meta-label {
  color: var(--muted);
  font-size: 0.8rem;
  display: block;
  margin-bottom: 0.5rem;
}

.meta-value {
  color: var(--text);
  font-weight: 600;
}

.asset-detail-actions {
  display: flex;
  gap: 1rem;
  margin-top: 2rem;
}

/* Responsive Design */
@media (max-width: 768px) {
  .library-controls {
    flex-direction: column;
    align-items: stretch;
  }
  
  .search-box {
    min-width: auto;
  }
  
  .filter-controls {
    justify-content: center;
  }
  
  .assets-library-grid {
    grid-template-columns: 1fr;
  }
  
  .asset-detail-header {
    grid-template-columns: 1fr;
    gap: 1.5rem;
  }
  
  .asset-detail-actions {
    flex-direction: column;
  }
}



/* Hire Me CTA Section */
.contact-cta-section {
  min-height: 60vh;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 4rem 2rem;
  background: linear-gradient(135deg, rgba(0, 255, 255, 0.05) 0%, rgba(15, 15, 15, 0.8) 100%);
}

.cta-content {
  max-width: 600px;
}

.cta-subtitle {
  color: var(--muted);
  font-size: 1.2rem;
  margin-bottom: 3rem;
  line-height: 1.6;
}

/* Animated Hire Me Button */
.hire-me-btn {
  position: relative;
  background: linear-gradient(135deg, var(--primary) 0%, #00ccff 100%);
  color: #000;
  border: none;
  padding: 1.5rem 3rem;
  border-radius: 50px;
  font-size: 1.3rem;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  overflow: hidden;
  box-shadow: 0 10px 30px rgba(0, 255, 255, 0.3);
  margin-bottom: 3rem;
}

.hire-me-btn:hover {
  transform: translateY(-5px) scale(1.05);
  box-shadow: 0 20px 50px rgba(0, 255, 255, 0.5);
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0%, 100% { box-shadow: 0 20px 50px rgba(0, 255, 255, 0.5); }
  50% { box-shadow: 0 20px 60px rgba(0, 255, 255, 0.8); }
}

.btn-sparkle {
  margin-left: 0.5rem;
  animation: sparkle 3s ease-in-out infinite;
}

@keyframes sparkle {
  0%, 100% { opacity: 1; transform: scale(1); }
  50% { opacity: 0.7; transform: scale(1.2); }
}

.btn-ripple {
  position: absolute;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.6);
  transform: scale(0);
  animation: ripple 0.6s linear;
  pointer-events: none;
}

@keyframes ripple {
  to {
    transform: scale(4);
    opacity: 0;
  }
}

.cta-stats {
  display: flex;
  justify-content: center;
  gap: 3rem;
  margin-top: 2rem;
}

.stat {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.stat-number {
  font-size: 2rem;
  font-weight: 700;
  color: var(--primary);
  margin-bottom: 0.5rem;
}

.stat-label {
  color: var(--muted);
  font-size: 0.9rem;
}

/* Popup Modal */
.popup-modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 10000;
}

.popup-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.8);
  backdrop-filter: blur(10px);
}

.popup-container {
  position: relative;
  background: var(--bg);
  margin: 2% auto;
  width: 90%;
  max-width: 800px;
  max-height: 90vh;
  border-radius: 20px;
  border: 1px solid var(--primary);
  box-shadow: 0 25px 80px rgba(0, 255, 255, 0.3);
  overflow: hidden;
  animation: modalSlideIn 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

@keyframes modalSlideIn {
  from {
    opacity: 0;
    transform: translateY(50px) scale(0.9);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.popup-header {
  background: rgba(0, 255, 255, 0.05);
  border-bottom: 1px solid var(--highlight);
  padding: 2rem;
  text-align: center;
  position: relative;
}

.popup-header h3 {
  color: var(--primary);
  margin-bottom: 0.5rem;
  font-size: 1.5rem;
}

.popup-header p {
  color: var(--muted);
}

.close-popup {
  position: absolute;
  top: 1rem;
  right: 1rem;
  background: none;
  border: none;
  color: var(--primary);
  font-size: 2rem;
  cursor: pointer;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  transition: all 0.3s ease;
}

.close-popup:hover {
  background: rgba(0, 255, 255, 0.1);
  transform: scale(1.1);
}

.popup-content {
  padding: 2rem;
  max-height: 60vh;
  overflow-y: auto;
}

/* Progress Steps */
.popup-progress {
  margin-bottom: 2rem;
}

.progress-steps {
  display: flex;
  justify-content: space-between;
  margin-bottom: 1rem;
}

.progress-step {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.5rem;
  color: var(--muted);
  transition: all 0.3s ease;
  flex: 1;
}

.progress-step.active {
  color: var(--primary);
}

.step-bubble {
  width: 35px;
  height: 35px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.05);
  border: 2px solid var(--highlight);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 600;
  font-size: 0.9rem;
  transition: all 0.3s ease;
}

.progress-step.active .step-bubble {
  background: var(--primary);
  border-color: var(--primary);
  color: #000;
}

.progress-bar {
  height: 4px;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 2px;
  overflow: hidden;
}

.progress-fill {
  height: 100%;
  background: var(--primary);
  transition: width 0.3s ease;
}

/* Form Steps */
.form-step {
  display: none;
  animation: fadeInUp 0.5s ease;
}

.form-step.active {
  display: block;
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.form-step h4 {
  color: var(--primary);
  margin-bottom: 2rem;
  text-align: center;
  font-size: 1.3rem;
}

/* Project Type Grid */
.project-type-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1rem;
  margin-bottom: 2rem;
}

.project-type-card {
  position: relative;
  background: rgba(255, 255, 255, 0.03);
  border: 2px solid var(--highlight);
  border-radius: 12px;
  padding: 1.5rem;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  align-items: flex-start;
  gap: 1rem;
}

.project-type-card:hover,
.project-type-card.selected {
  border-color: var(--primary);
  transform: translateY(-5px);
  background: rgba(0, 255, 255, 0.05);
}

.type-icon {
  font-size: 2rem;
  flex-shrink: 0;
}

.type-content {
  flex: 1;
}

.type-content h5 {
  color: var(--text);
  margin-bottom: 0.5rem;
  font-size: 1.1rem;
}

.type-content p {
  color: var(--muted);
  font-size: 0.9rem;
  margin-bottom: 0.5rem;
  line-height: 1.4;
}

.type-duration {
  color: var(--primary);
  font-size: 0.8rem;
  font-weight: 600;
}

.type-check {
  position: absolute;
  top: 1rem;
  right: 1rem;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: var(--primary);
  color: #000;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.8rem;
  font-weight: bold;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.project-type-card.selected .type-check {
  opacity: 1;
}

/* Input Groups */
.detail-inputs,
.contact-inputs-grid {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

.input-group {
  position: relative;
}

.input-group input,
.input-group textarea {
  width: 100%;
  padding: 1rem;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid var(--highlight);
  border-radius: 8px;
  color: var(--text);
  font-family: inherit;
  font-size: 1rem;
  transition: all 0.3s ease;
}

.input-group textarea {
  resize: vertical;
  min-height: 100px;
}

.input-group label {
  position: absolute;
  left: 1rem;
  top: 50%;
  transform: translateY(-50%);
  color: var(--muted);
  pointer-events: none;
  transition: all 0.3s ease;
  background: var(--bg);
  padding: 0 0.5rem;
}

.input-group textarea + label {
  top: 1.5rem;
  transform: none;
}

.input-group input:focus,
.input-group textarea:focus {
  outline: none;
  border-color: var(--primary);
  box-shadow: 0 0 0 2px rgba(0, 255, 255, 0.1);
}

.input-group input:focus + label,
.input-group textarea:focus + label,
.input-group input:not(:placeholder-shown) + label,
.input-group textarea:not(:placeholder-shown) + label {
  top: 0;
  transform: translateY(-50%) scale(0.85);
  color: var(--primary);
}

.char-counter {
  text-align: right;
  color: var(--muted);
  font-size: 0.8rem;
  margin-top: 0.5rem;
}

/* Budget Slider */
.budget-section,
.timeline-section,
.contact-method-section {
  margin-top: 2rem;
}

.budget-section label,
.timeline-section label,
.contact-method-section label {
  display: block;
  color: var(--text);
  margin-bottom: 1rem;
  font-weight: 600;
}

.budget-options {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 0.5rem;
}

.budget-option {
  background: rgba(255, 255, 255, 0.03);
  border: 2px solid var(--highlight);
  border-radius: 8px;
  padding: 1rem;
  text-align: center;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  flex-direction: column;
  gap: 0.3rem;
}

.budget-option:hover,
.budget-option.selected {
  border-color: var(--primary);
  background: rgba(0, 255, 255, 0.1);
}

.budget-amount {
  color: var(--primary);
  font-weight: 700;
  font-size: 1.1rem;
}

.budget-label {
  color: var(--muted);
  font-size: 0.8rem;
}

/* Timeline Options */
.timeline-options {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 0.5rem;
}

.timeline-option {
  background: rgba(255, 255, 255, 0.03);
  border: 2px solid var(--highlight);
  border-radius: 8px;
  padding: 1rem;
  text-align: center;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  flex-direction: column;
  gap: 0.3rem;
}

.timeline-option:hover,
.timeline-option.selected {
  border-color: var(--primary);
  background: rgba(0, 255, 255, 0.1);
}

.timeline-option span {
  color: var(--text);
  font-weight: 600;
}

.timeline-option small {
  color: var(--muted);
  font-size: 0.7rem;
}

/* Contact Methods */
.contact-methods {
  display: flex;
  gap: 1rem;
}

.contact-method-option {
  flex: 1;
  background: rgba(255, 255, 255, 0.03);
  border: 2px solid var(--highlight);
  border-radius: 8px;
  padding: 1rem;
  text-align: center;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.5rem;
}

.contact-method-option:hover,
.contact-method-option.selected {
  border-color: var(--primary);
  background: rgba(0, 255, 255, 0.1);
}

.method-icon {
  font-size: 1.5rem;
}

/* Review Summary */
.review-summary-card {
  background: rgba(255, 255, 255, 0.03);
  border-radius: 12px;
  padding: 2rem;
  margin-bottom: 2rem;
}

.summary-section {
  margin-bottom: 2rem;
}

.summary-section:last-child {
  margin-bottom: 0;
}

.summary-section h5 {
  color: var(--primary);
  margin-bottom: 1rem;
  font-size: 1.1rem;
}

.summary-item {
  display: flex;
  justify-content: space-between;
  margin-bottom: 0.8rem;
  padding-bottom: 0.8rem;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.summary-item:last-child {
  border-bottom: none;
  margin-bottom: 0;
}

.summary-label {
  color: var(--muted);
  font-weight: 500;
}

.summary-value {
  color: var(--text);
  font-weight: 600;
}

/* Quote Estimate */
.quote-estimate {
  background: rgba(0, 255, 255, 0.05);
  border: 1px solid var(--primary);
  border-radius: 12px;
  padding: 1.5rem;
  margin-top: 2rem;
}

.quote-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
}

.quote-header h5 {
  color: var(--primary);
  margin: 0;
}

.quote-badge {
  background: var(--primary);
  color: #000;
  padding: 0.3rem 0.8rem;
  border-radius: 15px;
  font-size: 0.8rem;
  font-weight: 600;
}

.quote-details {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.quote-item {
  display: flex;
  justify-content: space-between;
  color: var(--text);
}

.quote-note {
  color: var(--muted);
  font-size: 0.8rem;
  margin-top: 1rem;
  font-style: italic;
}

/* Send Request Button */
.send-request-btn {
  position: relative;
  width: 100%;
  background: linear-gradient(135deg, var(--primary) 0%, #00ccff 100%);
  color: #000;
  border: none;
  padding: 1.2rem 2rem;
  border-radius: 8px;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.3s ease;
  overflow: hidden;
}

.send-request-btn:hover:not(.loading):not(.success) {
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(0, 255, 255, 0.4);
}

.btn-loading,
.btn-success {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  opacity: 0;
  transition: opacity 0.3s ease;
}

.loading-spinner {
  width: 20px;
  height: 20px;
  border: 2px solid transparent;
  border-top: 2px solid #000;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.send-request-btn.loading .btn-text {
  opacity: 0;
}

.send-request-btn.loading .btn-loading {
  opacity: 1;
}

.send-request-btn.success .btn-text {
  opacity: 0;
}

.send-request-btn.success .btn-success {
  opacity: 1;
  font-size: 1.5rem;
}

/* Navigation */
.popup-navigation {
  display: flex;
  justify-content: space-between;
  padding: 1.5rem 2rem;
  border-top: 1px solid var(--highlight);
  background: rgba(255, 255, 255, 0.02);
}

.nav-btn {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid var(--highlight);
  color: var(--text);
  padding: 0.8rem 1.5rem;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.3s ease;
}

.nav-btn:hover:not(:disabled) {
  border-color: var(--primary);
  color: var(--primary);
}

.nav-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.next-btn {
  background: var(--primary);
  color: #000;
}

.next-btn:hover:not(:disabled) {
  background: #fff;
}

/* Responsive */
@media (max-width: 768px) {
  .project-type-grid {
    grid-template-columns: 1fr;
  }
  
  .budget-options,
  .timeline-options {
    grid-template-columns: 1fr 1fr;
  }
  
  .contact-methods {
    flex-direction: column;
  }
  
  .popup-container {
    width: 95%;
    margin: 5% auto;
  }
  
  .cta-stats {
    flex-direction: column;
    gap: 1.5rem;
  }
}

@media (max-width: 480px) {
  .popup-content {
    padding: 1rem;
  }
  
  .progress-steps span {
    font-size: 0.8rem;
  }
  
  .budget-options,
  .timeline-options {
    grid-template-columns: 1fr;
  }
}

/* =================== FOOTER =================== */
footer {
  background: rgba(15, 15, 15, 0.95);
  border-top: 1px solid var(--highlight);
  padding: 2rem 1rem;
  text-align: center;
  position: relative;
  z-index: 3;
}

.footer-content {
  max-width: 1200px;
  margin: 0 auto;
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.copyright {
  color: var(--muted);
  font-size: 0.9rem;
  margin-bottom: 0.5rem;
}

.footer-signature {
  color: var(--primary);
  font-weight: bold;
  font-size: 1rem;
}

.footer-note {
  color: var(--muted);
  font-size: 0.8rem;
  opacity: 0.7;
}

/* =================== RESPONSIVE =================== */
@media (max-width: 1024px) {
  .about-container,
  .skills-container,
  .contact-container {
    grid-template-columns: 1fr;
    gap: 2rem;
  }
  
  .about-image {
    order: -1;
  }
  
  .about-photo {
    width: 250px;
    height: 250px;
  }
  
  .chart-container {
    height: 350px;
  }

  .projects-grid {
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  }

  .featured-project {
    grid-template-columns: 1fr;
    gap: 2rem;
  }
  
  .project-stats {
    justify-content: center;
  }

  .modal-header {
    grid-template-columns: 1fr;
    gap: 1.5rem;
  }

  .card-swap-grid {
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  }
}

@media (max-width: 768px) {
  .dock-nav {
    bottom: 10px;
    padding: 6px 12px;
  }
  
  .dock-items {
    gap: 4px;
  }
  
  .dock-item {
    padding: 6px 8px;
  }
  
  .dock-icon {
    font-size: 1.2rem;
  }

  .section-title {
    font-size: 2rem;
  }

  .about-container,
  .skills-container,
  .contact-container {
    padding: 0 1rem;
  }

  .about-content {
    padding: 1rem 0;
  }

  .about-title {
    font-size: 2rem;
  }

  .about-highlights {
    grid-template-columns: 1fr;
  }

  .facts-grid {
    grid-template-columns: 1fr;
  }

  .skills-chart-container,
  .skills-bars-container {
    padding: 1.5rem;
  }

  .chart-container {
    height: 300px;
  }

  #home {
    padding: 60px 20px;
  }

  .projects-grid {
    grid-template-columns: 1fr;
  }

  .workflow-steps::before {
    left: 25px;
  }

  .step-number {
    width: 50px;
    height: 50px;
    font-size: 1.2rem;
  }

  .testimonials-grid {
    grid-template-columns: 1fr;
  }

  .project-filters {
    gap: 0.5rem;
  }
  
  .filter-btn {
    padding: 0.6rem 1rem;
    font-size: 0.9rem;
  }
  
  .featured-project {
    padding: 1.5rem;
  }
  
  .project-stats {
    gap: 1rem;
  }
  
  .stat-number {
    font-size: 1.5rem;
  }

  .modal-content {
    margin: 5% auto;
    padding: 1.5rem;
    width: 95%;
  }
  
  .modal-title {
    font-size: 1.5rem;
  }
  
  .modal-footer {
    flex-direction: column;
  }

  .card-swap-grid {
    grid-template-columns: 1fr;
    gap: 1.5rem;
  }
  
  .card-swap {
    height: 250px;
  }

  footer {
    padding: 1.5rem 1rem;
  }
  
  .copyright {
    font-size: 0.8rem;
  }
  
  .footer-signature {
    font-size: 0.9rem;
  }
}

@media (max-width: 480px) {
  .dock-item span {
    font-size: 1rem;
  }
  
  .dock-item::after {
    font-size: 0.6rem;
    bottom: -25px;
  }

  .section-title {
    font-size: 1.8rem;
  }
  
  .about-photo {
    width: 200px;
    height: 200px;
  }
  
  .about-title {
    font-size: 1.8rem;
  }
  
  .highlight-card {
    padding: 1rem;
  }

  .skills-chart-container,
  .skills-bars-container {
    padding: 1rem;
  }
  
  .chart-container {
    height: 250px;
  }

  .hero-title {
    font-size: 2rem;
  }

  #typed-text {
    font-size: 1.2rem;
  }

  .project-links {
    flex-direction: column;
  }

  .project-link {
    text-align: center;
    justify-content: center;
  }

  .workflow-step {
    flex-direction: column;
    gap: 1rem;
  }

  .workflow-steps::before {
    display: none;
  }

  .contact-item {
    flex-direction: column;
    text-align: center;
  }

  .project-card {
    height: 350px;
  }

  .card-swap {
    height: 230px;
  }
}

/* =================== LAZY LOAD ANIMATION =================== */
.lazy-section {
  opacity: 0;
  transform: translateY(40px);
  transition: opacity 0.6s ease-out, transform 0.6s ease-out;
}

.lazy-section.visible {
  opacity: 1;
  transform: translateY(0);
}

/* =================== PROJECT ANIMATIONS =================== */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* =================== FIX CURSOR IN MODAL =================== */
.project-modal * {
  cursor: none !important;
}

.modal-content *:hover {
  cursor: none !important;
}

/* Mobile flip support */
@media (max-width: 768px) {
  .card-swap.flipped .card-front {
    transform: rotateY(-180deg);
  }
  
  .card-swap.flipped .card-back {
    transform: rotateY(0deg);
  }
  
  .card-hover-indicator {
    display: none;
  }
}
</style>
</head>
<body>

<!-- Background Particle Canvas -->
<canvas id="particle-canvas"></canvas>
<canvas id="calmCanvas" style="position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:99997;"></canvas><!-- Custom Cursor -->
<div id="circle-cursor"></div>

<!-- Floating Digital Clock -->
<div class="floating-clock">
  <div class="clock-time">
    <span id="floating-hours">00</span>:<span id="floating-minutes">00</span>
  </div>
  <div class="clock-date">
    <span id="floating-day">Senin</span>, <span id="floating-date">1 Jan</span>
  </div>
</div>

<!-- Dock Navbar -->
<nav class="dock-nav">
  <div class="dock-container">
 <div class="dock-items">
  <a href="#home" class="dock-item" data-title="Home">
    <span class="dock-icon">ðŸ </span>
  </a>
  <a href="#about" class="dock-item" data-title="About">
    <span class="dock-icon">ðŸ‘¤</span>
  </a>
  <a href="#projects" class="dock-item" data-title="Projects">
    <span class="dock-icon">ðŸ’¼</span>
  </a>
  <a href="#skills" class="dock-item" data-title="Skills">
    <span class="dock-icon">âš¡</span>
  </a>
  <a href="#tools" class="dock-item" data-title="Tools">
    <span class="dock-icon">ðŸ› ï¸</span>
  </a>
  <a href="#workflow" class="dock-item" data-title="Workflow">
    <span class="dock-icon">ðŸ“Š</span>
  </a>
  <a href="#testimonials" class="dock-item" data-title="Testimonials">
    <span class="dock-icon">ðŸ’¬</span>
  </a>
  <a href="#assets" class="dock-item" data-title="Assets">
    <span class="dock-icon">ðŸ“¦</span>
  </a>
  <a href="#contact" class="dock-item" data-title="Contact">
    <span class="dock-icon">ðŸ“ž</span>
  </a>
</div>
  </div>
</nav>

<!-- Home Section -->
<section id="home" class="lazy-section">
  <div class="hero-content">
    <h1 class="hero-title">Hello, I'm</h1>
    <div class="typing-container">
      <span id="typed-text"></span>
    </div>
    <p class="hero-subtitle">
      3D Animator & Web Developer passionate about creating immersive digital experiences. 
      Bringing ideas to life through animation and code.
    </p>
  </div>
  <div class="scroll-indicator">
    Scroll down to explore â†“
  </div>
</section>

<!-- About Section -->
<section id="about" class="lazy-section">
  <div class="about-container">
    <!-- Image Section -->
    <div class="about-image">
      <img 
        src="https://github.com/Toonomaly/Portofolio/blob/main/Toonomaly.jpg?raw=true" 
        alt="Asri - 3D Animator & Web Developer" 
        class="about-photo"
        onerror="this.src='https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=300&h=300&q=80'"
      >
    </div>

    <!-- Content Section -->
    <div class="about-content">
      <h2 class="about-title">About Me</h2>
      
      <div class="about-text">
        <p>Hello! I'm <strong>Asri</strong>, but you might know me better as <strong>Toonomaly</strong>. I'm a passionate creative professional with a love for bringing ideas to life through 3D animation and web development.</p>
        
        <p>As the second son in my family, I've always been drawn to creative exploration. From childhood drawings to complex 3D animations, my journey has been about pushing the boundaries of digital creativity.</p>
        
        <p>When I'm not animating or coding, you can find me studying Japanese, creating content for my online presence, or developing my original character - a cute turtle named Kumi!</p>
      </div>

      <!-- Highlights -->
      <div class="about-highlights">
        <div class="highlight-card">
          <span class="highlight-icon">ðŸŽ¬</span>
          <h4 class="highlight-title">3D Animation</h4>
          <p class="highlight-desc">Bringing characters and stories to life through animation</p>
        </div>
        
        <div class="highlight-card">
          <span class="highlight-icon">ðŸ’»</span>
          <h4 class="highlight-title">Web Development</h4>
          <p class="highlight-desc">Creating interactive and responsive web experiences</p>
        </div>
        
        <div class="highlight-card">
          <span class="highlight-icon">ðŸŽ¨</span>
          <h4 class="highlight-title">Content Creation</h4>
          <p class="highlight-desc">Producing engaging digital content and motion graphics</p>
        </div>
      </div>

      <!-- Facts -->
      <div class="about-facts">
        <h3>Quick Facts</h3>
        <div class="facts-grid">
          <div class="fact-item">
            <div class="fact-icon">ðŸŽ¯</div>
            <span class="fact-text">Goal: Live & work in Japan</span>
          </div>
          <div class="fact-item">
            <div class="fact-icon">ðŸ¢</div>
            <span class="fact-text">OC: Kumi the Turtle</span>
          </div>
          <div class="fact-item">
            <div class="fact-icon">ðŸ—¾</div>
            <span class="fact-text">Learning Japanese</span>
          </div>
          <div class="fact-item">
            <div class="fact-icon">ðŸ—ï¸</div>
            <span class="fact-text">Interest in Architecture</span>
          </div>
          <div class="fact-item">
            <div class="fact-icon">ðŸŽ¥</div>
            <span class="fact-text">YouTube Content Creator</span>
          </div>
          <div class="fact-item">
            <div class="fact-icon">ðŸš€</div>
            <span class="fact-text">Always Learning New Tech</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Projects Section -->
<section id="projects" class="lazy-section">
  <h2 class="section-title">Featured Projects</h2>
  <div class="projects-container">
    
    <!-- Project Filter -->
    <div class="project-filters">
      <button class="filter-btn active" data-filter="all">All Projects</button>
      <button class="filter-btn" data-filter="animation">3D Animation</button>
      <button class="filter-btn" data-filter="web">Web Development</button>
      <button class="filter-btn" data-filter="motion">Motion Graphics</button>
    </div>

    <!-- Interactive Project Grid -->
    <div class="projects-interactive-grid">
      
      <!-- Main Featured Project -->
      <div class="featured-project" data-category="animation">
        <div class="featured-content">
          <div class="project-badge">Featured</div>
          <h3 class="project-title">Kumi the Turtle - Full 3D Series</h3>
          <p class="project-description">
            Complete 3D animated series featuring my original character Kumi. 
            Includes character design, rigging, and episode production with
            advanced lighting and texturing techniques.
          </p>
          <div class="project-stats">
            <div class="stat">
              <span class="stat-number">12</span>
              <span class="stat-label">Episodes</span>
            </div>
            <div class="stat">
              <span class="stat-number">6</span>
              <span class="stat-label">Months</span>
            </div>
            <div class="stat">
              <span class="stat-number">95%</span>
              <span class="stat-label">Completion</span>
            </div>
          </div>
          <div class="project-links">
            <a href="https://www.youtube.com/@Toonomaly" class="project-link" target="_blank">
              <span>Watch Trailer</span>
              <span class="link-icon">â–¶ï¸</span>
            </a>
            <a href="https://drive.google.com" class="project-link secondary" target="_blank">
              <span>Behind Scenes</span>
              <span class="link-icon">ðŸŽ¬</span>
            </a>
          </div>
        </div>
        <div class="featured-preview">
          <div class="preview-container">
            <video class="preview-video" autoplay loop muted playsinline>
              <source src="https://storage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4" type="video/mp4">
              Your browser does not support the video tag.
            </video>
            <div class="video-overlay">
              <div class="play-indicator">ðŸ”Š Autoplay</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Project Grid -->
      <div class="projects-grid">
        
        <!-- Project 1 -->
        <div class="project-card" data-category="web" data-project="1">
          <div class="project-image-container">
            <img src="https://images.unsplash.com/photo-1551650975-87deedd944c3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&h=400&q=80" 
                 alt="Portfolio Website" class="project-image">
            <div class="project-overlay">
              <button class="view-project-btn">View Project</button>
            </div>
          </div>
          <div class="project-content">
            <h3 class="project-title">Interactive Portfolio</h3>
            <p class="project-description">
              Responsive portfolio with custom animations and particle effects
            </p>
            <div class="project-tags">
              <span class="project-tag">HTML/CSS</span>
              <span class="project-tag">JavaScript</span>
              <span class="project-tag">UI/UX</span>
            </div>
          </div>
        </div>

        <!-- Project 2 -->
        <div class="project-card" data-category="motion" data-project="2">
          <div class="project-image-container">
            <img src="https://images.unsplash.com/photo-1611224923853-80b023f02d71?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&h=400&q=80" 
                 alt="Motion Graphics" class="project-image">
            <div class="project-overlay">
              <button class="view-project-btn">View Project</button>
            </div>
          </div>
          <div class="project-content">
            <h3 class="project-title">Motion Graphics Showreel</h3>
            <p class="project-description">
              Dynamic animations and visual effects showcase
            </p>
            <div class="project-tags">
              <span class="project-tag">After Effects</span>
              <span class="project-tag">Motion Graphics</span>
              <span class="project-tag">VFX</span>
            </div>
          </div>
        </div>

        <!-- Project 3 -->
        <div class="project-card" data-category="animation" data-project="3">
          <div class="project-image-container">
            <img src="https://images.unsplash.com/photo-1578662996442-48f60103fc96?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&h=400&q=80" 
                 alt="Character Design" class="project-image">
            <div class="project-overlay">
              <button class="view-project-btn">View Project</button>
            </div>
          </div>
          <div class="project-content">
            <h3 class="project-title">Character Design Pack</h3>
            <p class="project-description">
              Complete character design and modeling package
            </p>
            <div class="project-tags">
              <span class="project-tag">Blender</span>
              <span class="project-tag">Character Design</span>
              <span class="project-tag">3D Modeling</span>
            </div>
          </div>
        </div>

        <!-- Project 4 -->
        <div class="project-card" data-category="web" data-project="4">
          <div class="project-image-container">
            <img src="https://images.unsplash.com/photo-1555066931-4365d14bab8c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&h=400&q=80" 
                 alt="E-Commerce Website" class="project-image">
            <div class="project-overlay">
              <button class="view-project-btn">View Project</button>
            </div>
          </div>
          <div class="project-content">
            <h3 class="project-title">Modern E-Commerce Platform</h3>
            <p class="project-description">
              Full-stack e-commerce solution with payment integration and admin dashboard
            </p>
            <div class="project-tags">
              <span class="project-tag">React</span>
              <span class="project-tag">Node.js</span>
              <span class="project-tag">MongoDB</span>
              <span class="project-tag">Stripe API</span>
            </div>
          </div>
        </div>

        <!-- Project 5 -->
        <div class="project-card" data-category="animation" data-project="5">
          <div class="project-image-container">
            <img src="https://images.unsplash.com/photo-1618005198919-d3d4b5a92ead?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&h=400&q=80" 
                 alt="3D Environment" class="project-image">
            <div class="project-overlay">
              <button class="view-project-btn">View Project</button>
            </div>
          </div>
          <div class="project-content">
            <h3 class="project-title">Fantasy 3D Environment</h3>
            <p class="project-description">
              Immersive fantasy world with detailed landscapes and atmospheric effects
            </p>
            <div class="project-tags">
              <span class="project-tag">Blender</span>
              <span class="project-tag">Substance Painter</span>
              <span class="project-tag">Unreal Engine</span>
              <span class="project-tag">Environment Design</span>
            </div>
          </div>
        </div>

        <!-- Project 6 -->
        <div class="project-card" data-category="motion" data-project="6">
          <div class="project-image-container">
            <img src="https://images.unsplash.com/photo-1611224885990-ab7363d7f2a9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&h=400&q=80" 
                 alt="Product Animation" class="project-image">
            <div class="project-overlay">
              <button class="view-project-btn">View Project</button>
            </div>
          </div>
          <div class="project-content">
            <h3 class="project-title">Product Explainer Animation</h3>
            <p class="project-description">
              Engaging product demonstration with 3D animation and motion graphics
            </p>
            <div class="project-tags">
              <span class="project-tag">Cinema 4D</span>
              <span class="project-tag">After Effects</span>
              <span class="project-tag">Motion Graphics</span>
              <span class="project-tag">Product Visualization</span>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>
</section>

<!-- Skills Section -->
<section id="skills" class="section lazy-section">
  <h2 class="section-title">My Skills</h2>
  
  <div class="skills-container">
    <!-- Chart Section -->
    <div class="skills-chart-container">
      <div class="chart-container">
        <canvas id="skillsChart"></canvas>
      </div>
    </div>

    <!-- Skills Bars Section -->
    <div class="skills-bars-container">
      <h3>Technical Skills</h3>
      
      <!-- 3D Animation Skills -->
      <div class="skill-category">
        <h4>ðŸŽ¬ 3D Animation</h4>
        
        <div class="skill-item">
          <div class="skill-header">
            <span class="skill-name">Character Animation</span>
            <span class="skill-percent">90%</span>
          </div>
          <div class="skill-bar">
            <div class="skill-progress" data-width="90%"></div>
          </div>
        </div>
        
        <div class="skill-item">
          <div class="skill-header">
            <span class="skill-name">3D Modeling</span>
            <span class="skill-percent">85%</span>
          </div>
          <div class="skill-bar">
            <div class="skill-progress" data-width="85%"></div>
          </div>
        </div>
        
        <div class="skill-item">
          <div class="skill-header">
            <span class="skill-name">Rigging</span>
            <span class="skill-percent">80%</span>
          </div>
          <div class="skill-bar">
            <div class="skill-progress" data-width="80%"></div>
          </div>
        </div>
      </div>

      <!-- Web Development Skills -->
      <div class="skill-category">
        <h4>ðŸ’» Web Development</h4>
        
        <div class="skill-item">
          <div class="skill-header">
            <span class="skill-name">Frontend Development</span>
            <span class="skill-percent">75%</span>
          </div>
          <div class="skill-bar">
            <div class="skill-progress" data-width="75%"></div>
          </div>
        </div>
        
        <div class="skill-item">
          <div class="skill-header">
            <span class="skill-name">UI/UX Design</span>
            <span class="skill-percent">80%</span>
          </div>
          <div class="skill-bar">
            <div class="skill-progress" data-width="80%"></div>
          </div>
        </div>
        
        <div class="skill-item">
          <div class="skill-header">
            <span class="skill-name">Responsive Design</span>
            <span class="skill-percent">85%</span>
          </div>
          <div class="skill-bar">
            <div class="skill-progress" data-width="85%"></div>
          </div>
        </div>
      </div>

      <!-- Content Creation -->
      <div class="skill-category">
        <h4>ðŸŽ¨ Content Creation</h4>
        
        <div class="skill-item">
          <div class="skill-header">
            <span class="skill-name">Video Editing</span>
            <span class="skill-percent">85%</span>
          </div>
          <div class="skill-bar">
            <div class="skill-progress" data-width="85%"></div>
          </div>
        </div>
        
        <div class="skill-item">
          <div class="skill-header">
            <span class="skill-name">Motion Graphics</span>
            <span class="skill-percent">80%</span>
          </div>
          <div class="skill-bar">
            <div class="skill-progress" data-width="80%"></div>
          </div>
        </div>
        
        <div class="skill-item">
          <div class="skill-header">
            <span class="skill-name">Graphic Design</span>
            <span class="skill-percent">75%</span>
          </div>
          <div class="skill-bar">
            <div class="skill-progress" data-width="75%"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Tools Section dengan Carousel -->
<section id="tools" class="lazy-section">
  <h2 class="section-title">My Tools & Technologies</h2>
  <div class="tools-carousel-container">
    <div class="carousel-wrapper">
      <div class="carousel-track">
        <!-- Tools akan di-generate oleh JavaScript -->
      </div>
    </div>
    
    <!-- Navigation Dots -->
    <div class="carousel-dots">
      <!-- Dots akan di-generate oleh JavaScript -->
    </div>
    
    <!-- Navigation Arrows -->
    <button class="carousel-arrow carousel-arrow-prev">
      <span>â€¹</span>
    </button>
    <button class="carousel-arrow carousel-arrow-next">
      <span>â€º</span>
    </button>
  </div>
</section>

<!-- Workflow Section -->
<section id="workflow" class="lazy-section">
  <h2 class="section-title">My Creative Process</h2>
  <div class="workflow-container">
    <div class="bounce-cards-container">
      <div class="bounce-card" data-step="0">
        <div class="card-step">1</div>
        <img src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300&q=80" alt="Discovery" class="card-image">
        <div class="card-content">
          <h4>Discovery & Research</h4>
          <p>Understanding your vision and project requirements</p>
        </div>
      </div>
      <div class="bounce-card" data-step="1">
        <div class="card-step">2</div>
        <img src="https://images.unsplash.com/photo-1460925895917-afdab827c52f?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300&q=80" alt="Planning" class="card-image">
        <div class="card-content">
          <h4>Planning & Strategy</h4>
          <p>Creating detailed project roadmap and timeline</p>
        </div>
      </div>
      <div class="bounce-card" data-step="2">
        <div class="card-step">3</div>
        <img src="https://images.unsplash.com/photo-1561070791-2526d30994b5?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300&q=80" alt="Design" class="card-image">
        <div class="card-content">
          <h4>Design & Prototyping</h4>
          <p>Developing concepts and interactive prototypes</p>
        </div>
      </div>
      <div class="bounce-card" data-step="3">
        <div class="card-step">4</div>
        <img src="https://images.unsplash.com/photo-1627398242454-45a1465c2479?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300&q=80" alt="Development" class="card-image">
        <div class="card-content">
          <h4>Development & Animation</h4>
          <p>Bringing designs to life with code and motion</p>
        </div>
      </div>
      <div class="bounce-card" data-step="4">
        <div class="card-step">5</div>
        <img src="https://images.unsplash.com/photo-1556655848-f3a7049ea836?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300&q=80" alt="Testing" class="card-image">
        <div class="card-content">
          <h4>Testing & Refinement</h4>
          <p>Ensuring quality and perfecting every detail</p>
        </div>
      </div>
    </div>
    
    <div class="workflow-description">
      <h3>From Concept to Completion</h3>
      <p>My workflow follows a structured yet creative process that ensures every project receives the attention to detail it deserves.</p>
      <div class="process-steps">
        <div class="process-step active" data-step="0">
          <h4>Discovery & Research</h4>
          <p>Understanding your vision and project requirements</p>
        </div>
        <div class="process-step" data-step="1">
          <h4>Planning & Strategy</h4>
          <p>Creating detailed project roadmap and timeline</p>
        </div>
        <div class="process-step" data-step="2">
          <h4>Design & Prototyping</h4>
          <p>Developing concepts and interactive prototypes</p>
        </div>
        <div class="process-step" data-step="3">
          <h4>Development & Animation</h4>
          <p>Bringing designs to life with code and motion</p>
        </div>
        <div class="process-step" data-step="4">
          <h4>Testing & Refinement</h4>
          <p>Ensuring quality and perfecting every detail</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Testimonials Section -->
<section id="testimonials" class="lazy-section">
  <h2 class="section-title">What Clients Say</h2>
  <div class="testimonials-container">
    <div class="card-nav-testimonials">
      <nav class="testimonial-nav">
        <div class="testimonial-nav-top">
          <div class="hamburger-menu-testimonial">
            <div class="hamburger-line-testimonial"></div>
            <div class="hamburger-line-testimonial"></div>
          </div>

          <div class="testimonial-logo-container">
            <h3>Testimonials</h3>
          </div>

          <div class="testimonial-search-container">
            <input type="text" class="testimonial-search" placeholder="Search testimonials..." id="testimonialSearch">
            <span class="search-icon">ðŸ”</span>
          </div>
        </div>

        <div class="testimonial-nav-content">
          <!-- Testimonial cards will be generated by JavaScript -->
        </div>
      </nav>
    </div>

    <!-- Featured Testimonials (3 random) -->
    <div class="featured-testimonials">
      <h3>Featured Testimonials</h3>
      <div class="featured-grid" id="featuredTestimonials">
        <!-- Random 3 testimonials will be inserted here -->
      </div>
    </div>
  </div>
</section>

<!-- Ganti section Assets yang sudah ada dengan ini -->

<!-- Assets Section dengan Layout Library -->
<section id="assets" class="lazy-section">
  <h2 class="section-title">Asset Library</h2>
  <div class="assets-container">
    
    <!-- Search & Filter Bar -->
    <div class="library-controls">
      <div class="search-box">
        <input type="text" id="assetSearch" placeholder="Search assets (3D models, textures, addons)...">
        <span class="search-icon">ðŸ”</span>
      </div>
      
      <div class="filter-controls">
        <select id="assetCategory">
          <option value="all">All Categories</option>
          <option value="3d-model">3D Models</option>
          <option value="texture">Textures</option>
          <option value="addon">Addons</option>
          <option value="material">Materials</option>
          <option value="script">Scripts</option>
        </select>
        
        <select id="assetSoftware">
          <option value="all">All Software</option>
          <option value="blender">Blender</option>
          <option value="maya">Maya</option>
          <option value="3dsmax">3DS Max</option>
          <option value="substance">Substance</option>
        </select>
        
        <select id="assetLicense">
          <option value="all">All Licenses</option>
          <option value="free">Free</option>
          <option value="premium">Premium</option>
          <option value="cc0">CC0</option>
        </select>
      </div>
    </div>

    <!-- Quick Stats -->
    <div class="library-stats">
      <div class="stat-card">
        <span class="stat-number" id="totalAssets">0</span>
        <span class="stat-label">Total Assets</span>
      </div>
      <div class="stat-card">
        <span class="stat-number" id="freeAssets">0</span>
        <span class="stat-label">Free Assets</span>
      </div>
      <div class="stat-card">
        <span class="stat-number" id="categoriesCount">0</span>
        <span class="stat-label">Categories</span>
      </div>
    </div>

    <!-- Assets Grid -->
    <div class="assets-library-grid" id="assetsGrid">
      <!-- Assets akan di-load oleh JavaScript -->
    </div>

    <!-- Load More Button -->
    <div class="load-more-container">
      <button id="loadMoreAssets" class="load-more-btn">Load More Assets</button>
    </div>
  </div>
</section>

<!-- Ganti section contact dengan ini -->
<section id="contact" class="lazy-section">
  <div class="contact-cta-section">
    <div class="cta-content">
      <h2 class="section-title">Ready to Bring Your Vision to Life?</h2>
      <p class="cta-subtitle">Let's create something extraordinary together</p>
      
      <!-- Main Hire Me Button -->
      <button class="hire-me-btn" id="openHireMePopup">
        <span class="btn-text">Hire Me</span>
        <span class="btn-sparkle">âœ¨</span>
        <div class="btn-ripple"></div>
      </button>
      
      <div class="cta-stats">
        <div class="stat">
          <span class="stat-number">24</span>
          <span class="stat-label">Hours Response</span>
        </div>
        <div class="stat">
          <span class="stat-number">50+</span>
          <span class="stat-label">Projects Completed</span>
        </div>
        <div class="stat">
          <span class="stat-number">100%</span>
          <span class="stat-label">Satisfaction</span>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Hire Me Popup Modal -->
<div id="hireMePopup" class="popup-modal">
  <div class="popup-overlay"></div>
  <div class="popup-container">
    <!-- Popup Header -->
    <div class="popup-header">
      <h3>Start Your Project</h3>
      <p>Let's discuss your ideas and create something amazing</p>
      <button class="close-popup">&times;</button>
    </div>

    <!-- Interactive Form Steps -->
    <div class="popup-content">
      <!-- Progress Indicator -->
      <div class="popup-progress">
        <div class="progress-steps">
          <div class="progress-step active" data-step="1">
            <div class="step-bubble">1</div>
            <span>Project Type</span>
          </div>
          <div class="progress-step" data-step="2">
            <div class="step-bubble">2</div>
            <span>Details</span>
          </div>
          <div class="progress-step" data-step="3">
            <div class="step-bubble">3</div>
            <span>Contact Info</span>
          </div>
          <div class="progress-step" data-step="4">
            <div class="step-bubble">4</div>
            <span>Review & Send</span>
          </div>
        </div>
        <div class="progress-bar">
          <div class="progress-fill" style="width: 25%"></div>
        </div>
      </div>

      <!-- Step 1: Project Type Selection -->
      <div class="form-step active" data-step="1">
        <h4>What kind of project do you have in mind?</h4>
        <div class="project-type-grid">
          <div class="project-type-card" data-type="3d-animation">
            <div class="type-icon">ðŸŽ¬</div>
            <div class="type-content">
              <h5>3D Animation</h5>
              <p>Character animation, modeling, VFX</p>
              <span class="type-duration">2-8 weeks</span>
            </div>
            <div class="type-check">âœ“</div>
          </div>

          <div class="project-type-card" data-type="web-development">
            <div class="type-icon">ðŸ’»</div>
            <div class="type-content">
              <h5>Web Development</h5>
              <p>Portfolio sites, web apps, interactive experiences</p>
              <span class="type-duration">1-4 weeks</span>
            </div>
            <div class="type-check">âœ“</div>
          </div>

          <div class="project-type-card" data-type="motion-graphics">
            <div class="type-icon">ðŸŽ¨</div>
            <div class="type-content">
              <h5>Motion Graphics</h5>
              <p>Animated videos, explainers, promotional content</p>
              <span class="type-duration">1-3 weeks</span>
            </div>
            <div class="type-check">âœ“</div>
          </div>

          <div class="project-type-card" data-type="consultation">
            <div class="type-icon">ðŸ¤</div>
            <div class="type-content">
              <h5>Consultation</h5>
              <p>Project advice, technical guidance, creative direction</p>
              <span class="type-duration">1-2 hours</span>
            </div>
            <div class="type-check">âœ“</div>
          </div>
        </div>
      </div>

      <!-- Step 2: Project Details -->
      <div class="form-step" data-step="2">
        <h4>Tell me more about your project</h4>
        
        <div class="detail-inputs">
          <div class="input-group">
            <input type="text" id="projectName" required>
            <label for="projectName">Project Name</label>
          </div>

          <div class="input-group">
            <textarea id="projectDescription" rows="4" required></textarea>
            <label for="projectDescription">Project Description</label>
            <div class="char-counter">0/500</div>
          </div>

          <!-- Budget Selector -->
          <div class="budget-section">
            <label>What's your budget range?</label>
            <div class="budget-slider">
              <div class="budget-options">
                <div class="budget-option" data-budget="1k">
                  <span class="budget-amount">$1k</span>
                  <span class="budget-label">Small Project</span>
                </div>
                <div class="budget-option" data-budget="5k">
                  <span class="budget-amount">$5k</span>
                  <span class="budget-label">Medium Project</span>
                </div>
                <div class="budget-option" data-budget="10k">
                  <span class="budget-amount">$10k</span>
                  <span class="budget-label">Large Project</span>
                </div>
                <div class="budget-option" data-budget="custom">
                  <span class="budget-amount">Custom</span>
                  <span class="budget-label">Let's discuss</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Timeline Selector -->
          <div class="timeline-section">
            <label>What's your timeline?</label>
            <div class="timeline-options">
              <div class="timeline-option" data-timeline="asap">
                <span>ðŸš€ ASAP</span>
                <small>Urgent project</small>
              </div>
              <div class="timeline-option" data-timeline="2weeks">
                <span>â±ï¸ 2 Weeks</span>
                <small>Standard timeline</small>
              </div>
              <div class="timeline-option" data-timeline="1month">
                <span>ðŸ“… 1 Month</span>
                <small>Flexible schedule</small>
              </div>
              <div class="timeline-option" data-timeline="flexible">
                <span>ðŸ’« Flexible</span>
                <small>No rush</small>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Step 3: Contact Information -->
      <div class="form-step" data-step="3">
        <h4>How should I contact you?</h4>
        
        <div class="contact-inputs-grid">
          <div class="input-group">
            <input type="text" id="clientName" required>
            <label for="clientName">Your Name</label>
          </div>

          <div class="input-group">
            <input type="email" id="clientEmail" required>
            <label for="clientEmail">Email Address</label>
          </div>

          <div class="input-group">
            <input type="tel" id="clientPhone">
            <label for="clientPhone">Phone Number (Optional)</label>
          </div>

          <div class="input-group">
            <input type="text" id="clientCompany">
            <label for="clientCompany">Company/Organization</label>
          </div>
        </div>

        <!-- Preferred Contact Method -->
        <div class="contact-method-section">
          <label>Preferred contact method</label>
          <div class="contact-methods">
            <div class="contact-method-option" data-method="email">
              <div class="method-icon">ðŸ“§</div>
              <span>Email</span>
            </div>
            <div class="contact-method-option" data-method="phone">
              <div class="method-icon">ðŸ“ž</div>
              <span>Phone Call</span>
            </div>
            <div class="contact-method-option" data-method="video">
              <div class="method-icon">ðŸŽ¥</div>
              <span>Video Call</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Step 4: Review & Summary -->
      <div class="form-step" data-step="4">
        <h4>Review your project request</h4>
        
        <div class="review-summary-card">
          <div class="summary-section">
            <h5>Project Overview</h5>
            <div class="summary-item">
              <span class="summary-label">Project Type:</span>
              <span class="summary-value" id="review-project-type">-</span>
            </div>
            <div class="summary-item">
              <span class="summary-label">Project Name:</span>
              <span class="summary-value" id="review-project-name">-</span>
            </div>
            <div class="summary-item">
              <span class="summary-label">Budget Range:</span>
              <span class="summary-value" id="review-budget">-</span>
            </div>
            <div class="summary-item">
              <span class="summary-label">Timeline:</span>
              <span class="summary-value" id="review-timeline">-</span>
            </div>
          </div>

          <div class="summary-section">
            <h5>Contact Information</h5>
            <div class="summary-item">
              <span class="summary-label">Name:</span>
              <span class="summary-value" id="review-client-name">-</span>
            </div>
            <div class="summary-item">
              <span class="summary-label">Email:</span>
              <span class="summary-value" id="review-client-email">-</span>
            </div>
            <div class="summary-item">
              <span class="summary-label">Contact Method:</span>
              <span class="summary-value" id="review-contact-method">-</span>
            </div>
          </div>

          <!-- Real-time Quote Estimate -->
          <div class="quote-estimate">
            <div class="quote-header">
              <h5>Estimated Timeline & Quote</h5>
              <div class="quote-badge" id="quote-complexity">Standard</div>
            </div>
            <div class="quote-details">
              <div class="quote-item">
                <span>Estimated Duration:</span>
                <span id="quote-duration">-</span>
              </div>
              <div class="quote-item">
                <span>Starting Price:</span>
                <span id="quote-price">-</span>
              </div>
              <div class="quote-note">
                * Final quote will be provided after detailed discussion
              </div>
            </div>
          </div>
        </div>

        <!-- Final CTA -->
        <button class="send-request-btn" id="sendProjectRequest">
          <span class="btn-text">Send Project Request</span>
          <div class="btn-loading">
            <div class="loading-spinner"></div>
          </div>
          <div class="btn-success">âœ“</div>
        </button>
      </div>
    </div>

    <!-- Navigation Buttons -->
    <div class="popup-navigation">
      <button class="nav-btn prev-btn" disabled>
        <span>â† Previous</span>
      </button>
      <button class="nav-btn next-btn">
        <span>Next â†’</span>
      </button>
    </div>
  </div>
</div>

<!-- Footer Section -->
<footer>
  <div class="footer-content">
    <p class="copyright">&copy; 2025 All Rights Reserved</p>
    <p class="footer-note">Portfolio - Asri | 3D Animator & Web Developer</p>
  </div>
</footer>

<!-- Project Modal -->
<div id="projectModal" class="project-modal">
  <div class="modal-content">
    <button class="close-modal">&times;</button>
    
    <div class="modal-header">
      <div>
        <img id="modalImage" src="" alt="" class="modal-image">
      </div>
      <div class="modal-info">
        <h2 id="modalTitle" class="modal-title"></h2>
        <p id="modalDescription" class="modal-description"></p>
        
        <div class="modal-stats">
          <div class="modal-stat">
            <span id="modalStat1" class="modal-stat-number">0</span>
            <span class="modal-stat-label" id="modalLabel1">Projects</span>
          </div>
          <div class="modal-stat">
            <span id="modalStat2" class="modal-stat-number">0</span>
            <span class="modal-stat-label" id="modalLabel2">Months</span>
          </div>
          <div class="modal-stat">
            <span id="modalStat3" class="modal-stat-number">0%</span>
            <span class="modal-stat-label" id="modalLabel3">Completion</span>
          </div>
        </div>
        
        <div class="project-tags" id="modalTags"></div>
      </div>
    </div>
    
    <div class="modal-features">
      <h4>Project Features</h4>
      <ul class="modal-features-list" id="modalFeatures"></ul>
    </div>
    
    <div class="modal-footer">
      <a href="#" id="modalLiveLink" class="project-link" target="_blank">
        <span>Live Demo</span>
        <span class="link-icon">ðŸŒ</span>
      </a>
      <a href="#" id="modalGithubLink" class="project-link secondary" target="_blank">
        <span>GitHub</span>
        <span class="link-icon">ðŸ’»</span>
      </a>
      <a href="#" id="modalDetailsLink" class="project-link secondary" target="_blank">
        <span>View Details</span>
        <span class="link-icon">ðŸ“–</span>
      </a>
    </div>
  </div>
</div>


<!-- AI Toggle -->
<div class="ai-toggle-container">
  <span class="ai-toggle-label">AI Assistant</span>
  <div class="ai-toggle active" id="aiToggle">
    <div class="ai-toggle-handle">ðŸ¤–</div>
  </div>
</div>

<!-- Background Particle Canvas -->
<canvas id="particle-canvas"></canvas>

<!-- Custom Cursor -->
<div id="circle-cursor"></div>
<!-- Supabase Client -->
<script src="https://unpkg.com/@supabase/supabase-js@2"></script>


<!-- JavaScript -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>

// =================== TYPING EFFECT ===================
function initializeTypingEffect() {
  const text = "Toonomaly";
  const typedTextElement = document.getElementById('typed-text');
  let index = 0;
  let isDeleting = false;
  let typingSpeed = 100;

  function type() {
    const currentText = text.substring(0, index);
    
    if (!isDeleting) {
      // Typing phase
      typedTextElement.textContent = currentText;
      index++;
      
      if (index > text.length) {
        // Pause at the end
        isDeleting = true;
        typingSpeed = 1500; // Pause before deleting
      } else {
        typingSpeed = 100 + Math.random() * 50; // Random typing speed
      }
    } else {
      // Deleting phase
      typedTextElement.textContent = currentText;
      index--;
      
      if (index === 0) {
        // Start typing again
        isDeleting = false;
        typingSpeed = 500; // Pause before typing again
      } else {
        typingSpeed = 50; // Faster deleting
      }
    }

    setTimeout(type, typingSpeed);
  }

  // Start the typing effect
  setTimeout(type, 1000);
}

// =================== SKILLS SECTION ===================
function initializeSkillsSection() {
  initializeSkillsChart();
  initializeSkillsAnimation();
}

function initializeSkillsChart() {
  const ctx = document.getElementById('skillsChart').getContext('2d');
  
  // Destroy existing chart if any
  if (window.skillsChartInstance) {
    window.skillsChartInstance.destroy();
  }

  window.skillsChartInstance = new Chart(ctx, {
    type: 'doughnut',
    data: {
      labels: [
        '3D Animation', 
        'Web Development', 
        'Content Creation', 
        'UI/UX Design',
        'Motion Graphics',
        'Character Design'
      ],
      datasets: [{
        data: [30, 20, 25, 15, 15, 20],
        backgroundColor: [
          '#00ffff',
          '#0099ff',
          '#00ffaa',
          '#ff00ff',
          '#ffaa00',
          '#aa00ff'
        ],
        borderColor: '#0f0f0f',
        borderWidth: 2,
        hoverOffset: 15
      }]
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: {
        legend: {
          position: 'bottom',
          labels: {
            color: '#ffffff',
            font: {
              size: 12,
              family: 'Arial'
            },
            padding: 20
          }
        },
        tooltip: {
          backgroundColor: 'rgba(15, 15, 15, 0.9)',
          titleColor: '#00ffff',
          bodyColor: '#ffffff',
          borderColor: '#00ffff',
          borderWidth: 1,
          cornerRadius: 8,
          callbacks: {
            label: function(context) {
              return `${context.label}: ${context.parsed}%`;
            }
          }
        }
      },
      cutout: '60%',
      animation: {
        animateScale: true,
        animateRotate: true,
        duration: 2000,
        easing: 'easeOutQuart'
      }
    }
  });
}

function initializeSkillsAnimation() {
  const skillProgresses = document.querySelectorAll('.skill-progress');
  
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        const progress = entry.target;
        const width = progress.getAttribute('data-width');
        
        setTimeout(() => {
          progress.style.width = width;
        }, 300);
        
        observer.unobserve(progress);
      }
    });
  }, { threshold: 0.5 });

  skillProgresses.forEach(progress => {
    progress.style.width = '0%';
    observer.observe(progress);
  });
}

// =================== CUSTOM CURSOR ===================
function initializeCursor() {
  const cursor = document.getElementById('circle-cursor');
  
  // Update cursor position
  document.addEventListener('mousemove', (e) => {
    cursor.style.left = e.clientX + 'px';
    cursor.style.top = e.clientY + 'px';
  });

  // Elements that should show the pointer style
  const pointerElements = document.querySelectorAll(
    'a, button, .filter-btn, .project-link, .submit-btn, .play-button, .close-modal, .view-project-btn, .dock-item'
  );
  
  // Elements that should show the hovering style
  const hoverElements = document.querySelectorAll(
    '.skill-item, .skills-chart-container, .skills-bars-container, .highlight-card, .fact-item, .about-photo, .project-card, .card-swap, .step-content, .testimonial-card, .contact-item, .modal-content, .modal-features-list li'
  );

  // Add pointer style for clickable elements
  pointerElements.forEach(el => {
    el.addEventListener('mouseenter', () => {
      cursor.classList.add('pointer');
      cursor.classList.remove('hovering');
    });
    el.addEventListener('mouseleave', () => {
      cursor.classList.remove('pointer');
    });
  });

  // Add hovering style for interactive elements
  hoverElements.forEach(el => {
    el.addEventListener('mouseenter', () => {
      if (!cursor.classList.contains('pointer')) {
        cursor.classList.add('hovering');
      }
    });
    el.addEventListener('mouseleave', () => {
      cursor.classList.remove('hovering');
    });
  });
}

// =================== PARTICLE NETWORK BACKGROUND ===================
function initializeParticles() {
  const canvas = document.getElementById('particle-canvas');
  const ctx = canvas.getContext('2d');
  let particles = [];
  const mouse = { x: null, y: null, radius: 100 };

  function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  }

  class Particle {
    constructor() {
      this.x = Math.random() * canvas.width;
      this.y = Math.random() * canvas.height;
      this.size = Math.random() * 2 + 0.5;
      this.speedX = Math.random() * 0.5 - 0.25;
      this.speedY = Math.random() * 0.5 - 0.25;
      this.color = '#00ffff';
      this.alpha = Math.random() * 0.5 + 0.1;
    }

    update() {
      this.x += this.speedX;
      this.y += this.speedY;

      if (this.x < 0 || this.x > canvas.width) this.speedX *= -1;
      if (this.y < 0 || this.y > canvas.height) this.speedY *= -1;

      // Mouse interaction
      if (mouse.x && mouse.y) {
        const dx = mouse.x - this.x;
        const dy = mouse.y - this.y;
        const distance = Math.sqrt(dx * dx + dy * dy);
        if (distance < mouse.radius) {
          const force = (mouse.radius - distance) / mouse.radius;
          this.x -= dx * force * 0.05;
          this.y -= dy * force * 0.05;
        }
      }
    }

    draw() {
      ctx.save();
      ctx.globalAlpha = this.alpha;
      ctx.fillStyle = this.color;
      ctx.beginPath();
      ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
      ctx.fill();
      ctx.restore();
    }
  }

  function initParticles() {
    particles = [];
    const numberOfParticles = (canvas.width * canvas.height) / 9000;
    for (let i = 0; i < numberOfParticles; i++) {
      particles.push(new Particle());
    }
  }

  function connectParticles() {
    const maxDistance = 150;
    for (let i = 0; i < particles.length; i++) {
      for (let j = i + 1; j < particles.length; j++) {
        const dx = particles[i].x - particles[j].x;
        const dy = particles[i].y - particles[j].y;
        const distance = Math.sqrt(dx * dx + dy * dy);

        if (distance < maxDistance) {
          const opacity = 1 - (distance / maxDistance);
          ctx.save();
          ctx.globalAlpha = opacity * 0.2;
          ctx.strokeStyle = '#00ffff';
          ctx.lineWidth = 0.5;
          ctx.beginPath();
          ctx.moveTo(particles[i].x, particles[i].y);
          ctx.lineTo(particles[j].x, particles[j].y);
          ctx.stroke();
          ctx.restore();
        }
      }
    }
  }

  function animateParticles() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    
    particles.forEach(particle => {
      particle.update();
      particle.draw();
    });

    connectParticles();

    requestAnimationFrame(animateParticles);
  }

  window.addEventListener('mousemove', (e) => {
    mouse.x = e.x;
    mouse.y = e.y;
  });

  window.addEventListener('mouseout', () => {
    mouse.x = null;
    mouse.y = null;
  });

  window.addEventListener('resize', () => {
    resizeCanvas();
    initParticles();
  });

  resizeCanvas();
  initParticles();
  animateParticles();
}

// =================== ENHANCED LAZY LOADING ===================
function initializeEnhancedLazyLoading() {
  const lazySections = document.querySelectorAll('.lazy-section');
  
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        // Add visible class untuk trigger animation
        entry.target.classList.add('visible');
        
        // Stagger animation untuk children elements
        const childElements = entry.target.querySelectorAll('.project-card, .skill-item, .tool-card');
        childElements.forEach((child, index) => {
          setTimeout(() => {
            child.classList.add('visible');
          }, index * 100); // 100ms delay antara setiap element
        });
        
        observer.unobserve(entry.target);
      }
    });
  }, { 
    threshold: 0.1,
    rootMargin: '0px 0px -5% 0px' // Trigger sedikit lebih awal
  });

  lazySections.forEach(section => observer.observe(section));
}

// =================== FIX CSS CONFLICTS ===================
// Tambahkan CSS fixes yang tidak mengganggu kode existing
const lazyLoadingFixCSS = `
  /* Fix untuk memastikan lazy loading bekerja dengan baik */
  .lazy-section {
    opacity: 1 !important; /* Pastikan visible dulu */
    transform: translateY(0) !important;
    transition: all 0.8s ease-out !important;
  }
  
  /* Reset untuk testing - hapus nanti jika sudah berhasil */
  .lazy-section {
    opacity: 1 !important;
    visibility: visible !important;
  }
  
  /* Pastikan dock nav tetap visible */
  .dock-nav {
    display: flex !important;
    visibility: visible !important;
    opacity: 1 !important;
  }
`;

// Inject CSS fixes
const lazyFixStyle = document.createElement('style');
lazyFixStyle.textContent = lazyLoadingFixCSS;
document.head.appendChild(lazyFixStyle);

// =================== STEPPER CONTACT FORM - UPDATED VERSION ===================
function initializeStepperContact() {
  const stepper = document.querySelector('.stepper');
  if (!stepper) return;

  // Elements
  const stepIndicators = document.querySelectorAll('.step-indicator');
  const stepContents = document.querySelectorAll('.step-content');
  const stepConnectors = document.querySelectorAll('.step-connector');
  const btnBack = document.querySelector('.btn-back');
  const btnNext = document.querySelector('.btn-next');
  const btnSubmit = document.querySelector('.btn-submit');
  const purposeOptions = document.querySelectorAll('.purpose-option');
  const projectOptions = document.querySelectorAll('.project-option');
  const startNewProjectBtn = document.getElementById('startNewProject');
  const viewPortfolioBtn = document.getElementById('viewPortfolio');

  // State
  let currentStep = 1;
  const totalSteps = 7; // 7 steps total
  const formData = {
    contactPurpose: '',
    projectType: '',
    contactDetails: {},
    projectDetails: {}
  };

  // Initialize
  updateStepper();

  // Event Listeners
  btnBack.addEventListener('click', goToPreviousStep);
  btnNext.addEventListener('click', goToNextStep);
  btnSubmit.addEventListener('click', submitForm);

  // Step indicator clicks
  stepIndicators.forEach(indicator => {
    indicator.addEventListener('click', () => {
      const step = parseInt(indicator.dataset.step);
      if (step < currentStep) {
        goToStep(step);
      }
    });
  });

  // Contact purpose selection
  purposeOptions.forEach(option => {
    option.addEventListener('click', () => {
      // Remove selected class from all options
      purposeOptions.forEach(opt => opt.classList.remove('selected'));
      
      // Add selected class to clicked option
      option.classList.add('selected');
      
      // Store selected value
      formData.contactPurpose = option.dataset.value;
      
      // Enable next button
      btnNext.disabled = false;
    });
  });

  // Project option selection
  projectOptions.forEach(option => {
    option.addEventListener('click', () => {
      // Remove selected class from all options
      projectOptions.forEach(opt => opt.classList.remove('selected'));
      
      // Add selected class to clicked option
      option.classList.add('selected');
      
      // Store selected value
      formData.projectType = option.dataset.value;
      
      // Enable next button
      btnNext.disabled = false;
    });
  });

  // Form input changes
  document.querySelectorAll('input, select, textarea').forEach(input => {
    input.addEventListener('input', validateCurrentStep);
    input.addEventListener('change', validateCurrentStep);
  });

  // Completion step buttons
  if (startNewProjectBtn) {
    startNewProjectBtn.addEventListener('click', () => {
      resetStepper();
    });
  }

  if (viewPortfolioBtn) {
    viewPortfolioBtn.addEventListener('click', () => {
      window.location.href = '#projects';
    });
  }

  // Functions
  function goToNextStep() {
    if (currentStep < totalSteps) {
      const currentContent = document.querySelector(`.step-content[data-step="${currentStep}"]`);
      currentContent.classList.add('exit-left');
      
      setTimeout(() => {
        // Skip steps based on user selection
        if (currentStep === 2) {
          if (formData.contactPurpose === 'social') {
            // Skip to social media step (step 4)
            currentStep = 4;
          } else {
            currentStep = 3; // Go to project type
          }
        } else if (currentStep === 4 && formData.contactPurpose === 'social') {
          // Skip from social media to completion
          currentStep = 7;
        } else {
          currentStep++;
        }
        updateStepper();
      }, 300);
    }
  }

  function goToPreviousStep() {
    if (currentStep > 1) {
      const currentContent = document.querySelector(`.step-content[data-step="${currentStep}"]`);
      currentContent.classList.add('exit-right');
      
      setTimeout(() => {
        // Handle back navigation with skips
        if (currentStep === 4 && formData.contactPurpose === 'social') {
          currentStep = 2; // Back from social media to purpose selection
        } else if (currentStep === 7 && formData.contactPurpose === 'social') {
          currentStep = 4; // Back from completion to social media
        } else if (currentStep === 3 && formData.contactPurpose === 'hire') {
          currentStep = 2; // Back from project type to purpose selection
        } else {
          currentStep--;
        }
        updateStepper();
      }, 300);
    }
  }

  function goToStep(step) {
    if (step >= 1 && step <= totalSteps && step !== currentStep) {
      const currentContent = document.querySelector(`.step-content[data-step="${currentStep}"]`);
      const direction = step > currentStep ? 'exit-left' : 'exit-right';
      currentContent.classList.add(direction);
      
      setTimeout(() => {
        currentStep = step;
        updateStepper();
      }, 300);
    }
  }

  function updateStepper() {
    // Update step indicators
    stepIndicators.forEach((indicator, index) => {
      const step = index + 1;
      
      indicator.classList.remove('active', 'completed');
      
      if (step === currentStep) {
        indicator.classList.add('active');
      } else if (step < currentStep) {
        indicator.classList.add('completed');
      }
    });

    // Update step connectors
    stepConnectors.forEach((connector, index) => {
      connector.classList.remove('completed');
      
      if (index + 1 < currentStep) {
        connector.classList.add('completed');
      }
    });

    // Update step contents
    stepContents.forEach(content => {
      content.classList.remove('active', 'exit-left', 'exit-right');
      
      if (parseInt(content.dataset.step) === currentStep) {
        setTimeout(() => {
          content.classList.add('active');
        }, 50);
      }
    });

    // Update buttons
    btnBack.disabled = currentStep === 1;
    
    // Show/hide buttons based on current step and user selection
    if (currentStep === totalSteps) {
      // Completion step
      btnNext.style.display = 'none';
      btnSubmit.style.display = 'none';
    } else if (currentStep === 6) {
      // Project details step - show submit
      btnNext.style.display = 'none';
      btnSubmit.style.display = 'flex';
    } else if (currentStep === 4 && formData.contactPurpose === 'social') {
      // Social media step for social-only - show next (to completion)
      btnNext.style.display = 'flex';
      btnSubmit.style.display = 'none';
    } else {
      // Other steps - show next
      btnNext.style.display = 'flex';
      btnSubmit.style.display = 'none';
    }

    // Validate current step
    validateCurrentStep();
  }

  function validateCurrentStep() {
    let isValid = true;

    switch (currentStep) {
      case 1: // Welcome step - always valid
        isValid = true;
        break;
        
      case 2: // Contact purpose
        isValid = formData.contactPurpose !== '';
        break;
        
      case 3: // Project type (only for hire/both)
        isValid = (formData.contactPurpose === 'hire' || formData.contactPurpose === 'both') ? 
                 formData.projectType !== '' : true;
        break;
        
      case 4: // Social media (always valid - just display)
        isValid = true;
        break;
        
      case 5: // Contact details (only for hire/both)
        const name = document.getElementById('name');
        const email = document.getElementById('email');
        isValid = (formData.contactPurpose === 'hire' || formData.contactPurpose === 'both') ? 
                 (name.value.trim() !== '' && email.value.trim() !== '' && isValidEmail(email.value)) : true;
        break;
        
      case 6: // Project details (only for hire/both)
        const projectTitle = document.getElementById('project-title');
        const description = document.getElementById('description');
        isValid = (formData.contactPurpose === 'hire' || formData.contactPurpose === 'both') ? 
                 (projectTitle.value.trim() !== '' && description.value.trim() !== '') : true;
        break;
    }

    btnNext.disabled = !isValid;
    if (btnSubmit.style.display !== 'none') {
      btnSubmit.disabled = !isValid;
    }
  }

  function isValidEmail(email) {
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return emailRegex.test(email);
  }

  function submitForm() {
    // Collect all form data
    collectFormData();
    
    // Show completion step
    goToNextStep();
    
    // Update completion message based on user selection
    updateCompletionMessage();
    
    // Simulate API call
    simulateFormSubmission();
  }

  function collectFormData() {
    // Contact purpose
    formData.contactPurpose = formData.contactPurpose;

    // Contact details (only for hire/both)
    if (formData.contactPurpose === 'hire' || formData.contactPurpose === 'both') {
      formData.contactDetails = {
        name: document.getElementById('name').value,
        email: document.getElementById('email').value,
        company: document.getElementById('company').value,
        budget: document.getElementById('budget').value
      };

      // Project details
      formData.projectDetails = {
        title: document.getElementById('project-title').value,
        description: document.getElementById('description').value,
        timeline: document.getElementById('timeline').value,
        reference: document.getElementById('reference').value
      };
    }
  }

  function updateCompletionMessage() {
    const messageElement = document.getElementById('completion-message');
    const nextStepsElement = document.getElementById('next-steps');
    
    if (formData.contactPurpose === 'social') {
      messageElement.textContent = "Thank you for your interest in connecting with me! Feel free to follow me on social media and don't hesitate to reach out via DMs for any questions or collaborations.";
      nextStepsElement.style.display = 'none';
    } else if (formData.contactPurpose === 'hire') {
      messageElement.textContent = "Your project details have been submitted successfully. I'll review your information and get back to you within 24 hours.";
      nextStepsElement.style.display = 'block';
    } else if (formData.contactPurpose === 'both') {
      messageElement.textContent = "Thank you for your project inquiry and interest in connecting! I'll review your project details and get back to you within 24 hours. In the meantime, feel free to connect with me on social media.";
      nextStepsElement.style.display = 'block';
    }
  }

  function simulateFormSubmission() {
    // In a real application, you would send this to your backend
    setTimeout(() => {
      console.log('Form submitted with data:', formData);
    }, 1000);
  }

  function resetStepper() {
    // Reset form data
    formData.contactPurpose = '';
    formData.projectType = '';
    formData.contactDetails = {};
    formData.projectDetails = {};

    // Reset form inputs
    document.querySelectorAll('input, select, textarea').forEach(input => {
      if (input.type !== 'button' && input.type !== 'submit') {
        input.value = '';
      }
    });

    // Reset options
    purposeOptions.forEach(option => {
      option.classList.remove('selected');
    });
    
    projectOptions.forEach(option => {
      option.classList.remove('selected');
    });

    // Reset completion message
    const messageElement = document.getElementById('completion-message');
    const nextStepsElement = document.getElementById('next-steps');
    messageElement.textContent = "Your information has been submitted successfully. I'll review your details and get back to you within 24 hours.";
    nextStepsElement.style.display = 'block';

    // Go back to first step
    goToStep(1);
  }
}

// Panggil di DOMContentLoaded
document.addEventListener('DOMContentLoaded', function() {
  initializeStepperContact();
});

// =================== INTERACTIVE PROJECTS ===================
function initializeInteractiveProjects() {
  initializeProjectFilters();
  initializeProjectCards();
}

function initializeProjectFilters() {
  const filterButtons = document.querySelectorAll('.filter-btn');
  const projectCards = document.querySelectorAll('.project-card, .featured-project');

  filterButtons.forEach(button => {
    button.addEventListener('click', () => {
      // Remove active class from all buttons
      filterButtons.forEach(btn => btn.classList.remove('active'));
      // Add active class to clicked button
      button.classList.add('active');
      
      const filterValue = button.getAttribute('data-filter');
      
      // Filter projects
      projectCards.forEach(card => {
        if (filterValue === 'all') {
          card.classList.remove('hidden');
        } else {
          const category = card.getAttribute('data-category');
          if (category === filterValue) {
            card.classList.remove('hidden');
          } else {
            card.classList.add('hidden');
          }
        }
      });
    });
  });
}

function initializeProjectCards() {
  // Add animation on scroll for project cards
  const projectCards = document.querySelectorAll('.project-card');
  
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.style.animation = 'fadeInUp 0.6s ease-out forwards';
        observer.unobserve(entry.target);
      }
    });
  }, { threshold: 0.1 });

  projectCards.forEach(card => {
    card.style.opacity = '0';
    card.style.transform = 'translateY(30px)';
    observer.observe(card);
  });
}

// =================== VIDEO HANDLING ===================
function initializeVideoFeatures() {
  const video = document.querySelector('.preview-video');
  
  if (video) {
    // Handle video loading errors
    video.addEventListener('error', function() {
      console.error('Video failed to load');
      
      // Fallback ke gambar jika video gagal load
      const fallbackImage = document.createElement('img');
      fallbackImage.src = 'https://images.unsplash.com/photo-1633356122544-f134324a6cee?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&h=400&q=80';
      fallbackImage.alt = 'Kumi 3D Animation';
      fallbackImage.className = 'preview-image';
      fallbackImage.style.width = '100%';
      fallbackImage.style.height = '100%';
      fallbackImage.style.objectFit = 'cover';
      fallbackImage.style.borderRadius = '12px';
      
      // Ganti video dengan gambar
      video.parentNode.replaceChild(fallbackImage, video);
      
      // Tambahkan play overlay untuk gambar
      const playOverlay = document.createElement('div');
      playOverlay.className = 'play-overlay';
      playOverlay.innerHTML = '<div class="play-button">â–¶</div>';
      fallbackImage.parentNode.appendChild(playOverlay);
    });
    
    // Video loaded successfully
    video.addEventListener('loadeddata', function() {
      console.log('Video loaded successfully');
    });
    
    // Attempt to play video (handles autoplay restrictions)
    video.play().catch(function(error) {
      console.log('Autoplay prevented:', error);
      // Show play button if autoplay is blocked
      showPlayButton();
    });
  }
}

function showPlayButton() {
  const videoContainer = document.querySelector('.preview-container');
  const existingPlayBtn = document.querySelector('.manual-play-button');
  
  if (!existingPlayBtn && videoContainer) {
    const playButton = document.createElement('button');
    playButton.className = 'manual-play-button';
    playButton.innerHTML = 'â–¶ Play Video';
    
    playButton.addEventListener('click', function() {
      const video = document.querySelector('.preview-video');
      if (video) {
        video.play();
        playButton.style.display = 'none';
      }
    });
    
    videoContainer.appendChild(playButton);
  }
}

// =================== DOCK NAVBAR ===================
function initializeDockNav() {
  const dockItems = document.querySelectorAll('.dock-item');
  
  dockItems.forEach(item => {
    item.addEventListener('mouseenter', function() {
      // Add active class for additional effects
      this.classList.add('active');
    });
    
    item.addEventListener('mouseleave', function() {
      this.classList.remove('active');
    });
  });
}

// =================== CARD SWAP ===================
function initializeCardSwap() {
  const cards = document.querySelectorAll('.card-swap');
  
  cards.forEach(card => {
    // Add click event for mobile touch
    card.addEventListener('click', function() {
      if (window.innerWidth <= 768) {
        this.classList.toggle('flipped');
      }
    });
  });
}

// =================== VIDEO MANAGEMENT ===================
function changeFeaturedVideo(newVideoUrl, fallbackImageUrl = null) {
  const video = document.querySelector('.preview-video');
  
  if (!video) {
    console.error('Video element not found');
    return;
  }
  
  const source = video.querySelector('source');
  
  // Simpan URL fallback
  const fallback = fallbackImageUrl || 'https://images.unsplash.com/photo-1633356122544-f134324a6cee?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&h=400&q=80';
  
  // Update video source
  source.src = newVideoUrl;
  video.load(); // Reload video dengan source baru
  
  // Handle jika video baru gagal load
  video.addEventListener('error', function onError() {
    console.error('New video failed to load:', newVideoUrl);
    video.removeEventListener('error', onError);
    
    // Fallback ke gambar
    const fallbackImage = document.createElement('img');
    fallbackImage.src = fallback;
    fallbackImage.alt = 'Video preview';
    fallbackImage.className = 'preview-image';
    fallbackImage.style.cssText = `
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 12px;
    `;
    
    video.parentNode.replaceChild(fallbackImage, video);
  }, { once: true });
  
  // Coba play video baru
  video.play().catch(function(error) {
    console.log('Autoplay prevented for new video:', error);
    showPlayButton();
  });
}

// =================== PROJECT MODAL ===================
function initializeProjectModal() {
  const modal = document.getElementById('projectModal');
  const closeBtn = document.querySelector('.close-modal');
  const projectCards = document.querySelectorAll('.project-card');
  
  // Project data
  const projectsData = {
    1: {
      title: "Interactive Portfolio",
      image: "https://images.unsplash.com/photo-1551650975-87deedd944c3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&h=400&q=80",
      description: "A fully responsive portfolio website featuring custom particle animations, smooth scrolling, and interactive elements. Built with modern web technologies to showcase creative work in an engaging way.",
      stats: [
        { number: "1", label: "Project" },
        { number: "2", label: "Weeks" },
        { number: "100%", label: "Completed" }
      ],
      tags: ["HTML/CSS", "JavaScript", "UI/UX", "Responsive"],
      features: [
        "Custom particle background animations",
        "Smooth scrolling navigation",
        "Responsive design for all devices",
        "Interactive project cards",
        "Modern glass morphism design",
        "Performance optimized"
      ],
      links: {
        live: "https://toonomaly.github.io/Portofolio/",
        github: "https://github.com/Toonomaly/Portofolio",
        details: "https://github.com/Toonomaly/Portofolio"
      }
    },
    2: {
      title: "Motion Graphics Showreel",
      image: "https://images.unsplash.com/photo-1611224923853-80b023f02d71?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&h=400&q=80",
      description: "A dynamic motion graphics showcase featuring 30+ animation scenes with professional sound design and color grading. Created for commercial and artistic purposes.",
      stats: [
        { number: "30+", label: "Scenes" },
        { number: "3", label: "Months" },
        { number: "100%", label: "Completed" }
      ],
      tags: ["After Effects", "Motion Graphics", "VFX", "4K"],
      features: [
        "30+ unique animation scenes",
        "4K resolution rendering",
        "Professional sound design",
        "Advanced color grading",
        "Smooth transitions",
        "Multi-format exports"
      ],
      links: {
        live: "https://youtube.com",
        github: "https://github.com",
        details: "https://artstation.com"
      }
    },
    3: {
      title: "Character Design Pack",
      image: "https://images.unsplash.com/photo-1578662996442-48f60103fc96?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&h=400&q=80",
      description: "Complete character design and modeling package featuring 10+ unique characters with full rigging and animation capabilities.",
      stats: [
        { number: "10+", label: "Characters" },
        { number: "4", label: "Months" },
        { number: "90%", label: "Completed" }
      ],
      tags: ["Blender", "Character Design", "3D Modeling", "Rigging"],
      features: [
        "10+ unique character models",
        "Full skeletal rigging",
        "Advanced texture mapping",
        "Animation ready models",
        "Custom shaders and materials",
        "Optimized for real-time rendering"
      ],
      links: {
        live: "https://artstation.com",
        github: "https://github.com",
        details: "https://drive.google.com"
      }
    },
    4: {
      title: "Modern E-Commerce Platform",
      image: "https://images.unsplash.com/photo-1555066931-4365d14bab8c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&h=400&q=80",
      description: "Full-stack e-commerce solution with secure payment integration, admin dashboard, and responsive design for optimal user experience.",
      stats: [
        { number: "1", label: "Platform" },
        { number: "6", label: "Months" },
        { number: "95%", label: "Completed" }
      ],
      tags: ["React", "Node.js", "MongoDB", "Stripe API"],
      features: [
        "User authentication & authorization",
        "Payment processing with Stripe",
        "Admin dashboard for product management",
        "Responsive design for all devices",
        "Order tracking system",
        "Inventory management"
      ],
      links: {
        live: "https://example-ecommerce.com",
        github: "https://github.com/example/ecommerce",
        details: "https://github.com/example/ecommerce"
      }
    },
    5: {
      title: "Fantasy 3D Environment",
      image: "https://images.unsplash.com/photo-1618005198919-d3d4b5a92ead?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&h=400&q=80",
      description: "Immersive fantasy world with detailed landscapes, dynamic weather systems, and atmospheric effects optimized for real-time rendering.",
      stats: [
        { number: "1", label: "Environment" },
        { number: "8", label: "Months" },
        { number: "85%", label: "Completed" }
      ],
      tags: ["Blender", "Substance Painter", "Unreal Engine", "Environment Design"],
      features: [
        "Procedural terrain generation",
        "Dynamic weather system",
        "Real-time global illumination",
        "Interactive elements and NPCs",
        "Optimized for VR compatibility",
        "Custom particle effects"
      ],
      links: {
        live: "https://artstation.com/artwork/fantasy-environment",
        github: "https://github.com",
        details: "https://drive.google.com/fantasy-environment"
      }
    },
    6: {
      title: "Product Explainer Animation",
      image: "https://images.unsplash.com/photo-1611224885990-ab7363d7f2a9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&h=400&q=80",
      description: "Engaging product demonstration with 3D animation and motion graphics, featuring dynamic camera movements and professional sound design.",
      stats: [
        { number: "1", label: "Animation" },
        { number: "3", label: "Weeks" },
        { number: "100%", label: "Completed" }
      ],
      tags: ["Cinema 4D", "After Effects", "Motion Graphics", "Product Visualization"],
      features: [
        "3D product modeling and texturing",
        "Dynamic camera movements",
        "Particle effects and simulations",
        "Sound design and voiceover",
        "Multiple format outputs",
        "4K resolution rendering"
      ],
      links: {
        live: "https://youtube.com/product-animation",
        github: "https://github.com",
        details: "https://drive.google.com/product-breakdown"
      }
    }
  };

  // Open modal when project card is clicked
  projectCards.forEach(card => {
    card.addEventListener('click', (e) => {
      // Don't open modal if clicking on links inside the card
      if (e.target.tagName === 'A' || e.target.closest('a')) {
        return;
      }
      
      const projectId = card.getAttribute('data-project');
      const projectData = projectsData[projectId];
      
      if (projectData) {
        openModal(projectData);
      }
    });
  });

  // Also make view project buttons work
  document.querySelectorAll('.view-project-btn').forEach(btn => {
    btn.addEventListener('click', (e) => {
      e.stopPropagation();
      const card = btn.closest('.project-card');
      const projectId = card.getAttribute('data-project');
      const projectData = projectsData[projectId];
      
      if (projectData) {
        openModal(projectData);
      }
    });
  });

  // Close modal
  closeBtn.addEventListener('click', closeModal);
  
  modal.addEventListener('click', (e) => {
    if (e.target === modal) {
      closeModal();
    }
  });

  // Close on Escape key
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
      closeModal();
    }
  });

  function openModal(project) {
    // Set modal content
    document.getElementById('modalImage').src = project.image;
    document.getElementById('modalImage').alt = project.title;
    document.getElementById('modalTitle').textContent = project.title;
    document.getElementById('modalDescription').textContent = project.description;
    
    // Set stats
    const stats = project.stats;
    document.getElementById('modalStat1').textContent = stats[0].number;
    document.getElementById('modalLabel1').textContent = stats[0].label;
    document.getElementById('modalStat2').textContent = stats[1].number;
    document.getElementById('modalLabel2').textContent = stats[1].label;
    document.getElementById('modalStat3').textContent = stats[2].number;
    document.getElementById('modalLabel3').textContent = stats[2].label;
    
    // Set tags
    const tagsContainer = document.getElementById('modalTags');
    tagsContainer.innerHTML = '';
    project.tags.forEach(tag => {
      const tagElement = document.createElement('span');
      tagElement.className = 'project-tag';
      tagElement.textContent = tag;
      tagsContainer.appendChild(tagElement);
    });
    
    // Set features
    const featuresContainer = document.getElementById('modalFeatures');
    featuresContainer.innerHTML = '';
    project.features.forEach(feature => {
      const featureElement = document.createElement('li');
      featureElement.textContent = feature;
      featuresContainer.appendChild(featureElement);
    });
    
    // Set links
    document.getElementById('modalLiveLink').href = project.links.live;
    document.getElementById('modalGithubLink').href = project.links.github;
    document.getElementById('modalDetailsLink').href = project.links.details;
    
    // Show modal
    modal.style.display = 'block';
    document.body.style.overflow = 'hidden';
    
    // Ensure cursor stays on top
    const cursor = document.getElementById('circle-cursor');
    cursor.style.zIndex = '100000';
  }

  function closeModal() {
    modal.style.display = 'none';
    document.body.style.overflow = 'auto';
    
    // Reset cursor z-index if needed
    const cursor = document.getElementById('circle-cursor');
    cursor.style.zIndex = '100000';
  }
}

// =================== BOUNCE CARDS WORKFLOW - VANILLA JS ===================
function initializeBounceCards() {
  const cards = document.querySelectorAll('.bounce-card');
  const processSteps = document.querySelectorAll('.process-step');
  const workflowSection = document.getElementById('workflow');
  
  if (!cards.length) return;

  // Initial animation when section becomes visible
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('visible');
        
        // Add slight stagger effect
        cards.forEach((card, index) => {
          card.style.transitionDelay = `${index * 0.1}s`;
        });
      }
    });
  }, { threshold: 0.3 });

  if (workflowSection) {
    observer.observe(workflowSection);
  }

  // Card hover interactions
  cards.forEach((card, index) => {
    card.addEventListener('mouseenter', () => {
      pushSiblings(index);
      activateProcessStep(index);
    });

    card.addEventListener('mouseleave', () => {
      resetSiblings();
    });

    card.addEventListener('click', () => {
      focusCard(index);
    });
  });

  // Process steps interactions
  processSteps.forEach((step, index) => {
    step.addEventListener('click', () => {
      focusCard(index);
      activateProcessStep(index);
    });
  });
}

function pushSiblings(hoveredIndex) {
  const cards = document.querySelectorAll('.bounce-card');
  
  cards.forEach((card, index) => {
    const baseTransforms = [
      'rotate(5deg) translateX(-160px) translateY(-10px)',
      'rotate(2deg) translateX(-80px) translateY(-5px)', 
      'rotate(0deg)',
      'rotate(-2deg) translateX(80px) translateY(-5px)',
      'rotate(-5deg) translateX(160px) translateY(-10px)'
    ];
    
    if (index === hoveredIndex) {
      // Hovered card - bring to front and straighten
      card.style.transform = 'rotate(0deg) translateY(-20px) scale(1.1)';
      card.style.zIndex = '20';
      card.classList.add('active');
    } else {
      // Other cards - push away
      const offsetDirection = index < hoveredIndex ? -1 : 1;
      const distance = Math.abs(hoveredIndex - index);
      const pushDistance = 60 + (distance * 20);
      
      let newTransform = baseTransforms[index];
      
      // Extract current rotation and apply new translation
      const rotateMatch = newTransform.match(/rotate\(([^)]+)\)/);
      const rotateValue = rotateMatch ? rotateMatch[1] : '0deg';
      
      // Calculate new position
      let translateX;
      if (index === 0) translateX = -160 - pushDistance;
      else if (index === 1) translateX = -80 - pushDistance;
      else if (index === 2) translateX = 0 + (pushDistance * offsetDirection);
      else if (index === 3) translateX = 80 + pushDistance;
      else if (index === 4) translateX = 160 + pushDistance;
      
      card.style.transform = `rotate(${rotateValue}) translateX(${translateX}px) translateY(-10px) scale(0.9)`;
      card.style.zIndex = '10';
      card.classList.remove('active');
      
      // Stagger delay based on distance
      card.style.transitionDelay = `${distance * 0.05}s`;
    }
  });
}

function resetSiblings() {
  const cards = document.querySelectorAll('.bounce-card');
  const baseTransforms = [
    'rotate(5deg) translateX(-160px) translateY(-10px) scale(1)',
    'rotate(2deg) translateX(-80px) translateY(-5px) scale(1)',
    'rotate(0deg) scale(1)',
    'rotate(-2deg) translateX(80px) translateY(-5px) scale(1)',
    'rotate(-5deg) translateX(160px) translateY(-10px) scale(1)'
  ];
  
  cards.forEach((card, index) => {
    card.style.transform = baseTransforms[index];
    card.style.zIndex = index === 2 ? '3' : index === 1 || index === 3 ? '2' : '1';
    card.style.transitionDelay = `${index * 0.1}s`;
    card.classList.remove('active');
  });
  
  // Reset process steps
  const processSteps = document.querySelectorAll('.process-step');
  processSteps.forEach(step => step.classList.remove('active'));
}

function focusCard(cardIndex) {
  const cards = document.querySelectorAll('.bounce-card');
  const baseTransforms = [
    'rotate(5deg) translateX(-160px) translateY(-10px)',
    'rotate(2deg) translateX(-80px) translateY(-5px)',
    'rotate(0deg)',
    'rotate(-2deg) translateX(80px) translateY(-5px)',
    'rotate(-5deg) translateX(160px) translateY(-10px)'
  ];
  
  cards.forEach((card, index) => {
    if (index === cardIndex) {
      // Focused card - center and enlarge
      card.style.transform = 'rotate(0deg) translateY(-30px) scale(1.15)';
      card.style.zIndex = '30';
      card.classList.add('active');
    } else {
      // Other cards - push further away
      const offsetDirection = index < cardIndex ? -1 : 1;
      const distance = Math.abs(cardIndex - index);
      const pushDistance = 80 + (distance * 30);
      
      let newTransform = baseTransforms[index];
      const rotateMatch = newTransform.match(/rotate\(([^)]+)\)/);
      const rotateValue = rotateMatch ? rotateMatch[1] : '0deg';
      
      let translateX;
      if (index === 0) translateX = -160 - pushDistance;
      else if (index === 1) translateX = -80 - pushDistance;
      else if (index === 2) translateX = 0 + (pushDistance * offsetDirection);
      else if (index === 3) translateX = 80 + pushDistance;
      else if (index === 4) translateX = 160 + pushDistance;
      
      card.style.transform = `rotate(${rotateValue}) translateX(${translateX}px) translateY(-5px) scale(0.85)`;
      card.style.zIndex = '5';
      card.classList.remove('active');
    }
  });
  
  activateProcessStep(cardIndex);
}

function activateProcessStep(stepIndex) {
  const processSteps = document.querySelectorAll('.process-step');
  processSteps.forEach((step, index) => {
    if (index === stepIndex) {
      step.classList.add('active');
    } else {
      step.classList.remove('active');
    }
  });
}

// Initialize when DOM is loaded
document.addEventListener('DOMContentLoaded', function() {
  initializeBounceCards();
});

// =================== TESTIMONIALS DATA ===================
const testimonials = [
  {
    id: 1,
    name: "Sarah Johnson",
    position: "Creative Director, Animation Studio",
    content: "Asri's attention to detail in 3D animation is exceptional. He brought our character to life with fluid movements and personality that exceeded our expectations. The project was delivered on time and the communication was excellent throughout.",
    avatar: "https://images.unsplash.com/photo-1494790108755-2616b92a92d6?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&h=100&q=80",
    rating: 5,
    category: "animation",
    project: "Character Animation Series"
  },
  {
    id: 2,
    name: "Michael Chen",
    position: "CEO, Tech Startup",
    content: "The portfolio website Asri created for us is not only visually stunning but also highly functional. His understanding of both design and development is impressive. We've received numerous compliments from our clients.",
    avatar: "https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&h=100&q=80",
    rating: 5,
    category: "web development",
    project: "Corporate Website"
  },
  {
    id: 3,
    name: "Alex Rodriguez",
    position: "Marketing Manager",
    content: "Working with Asri was a pleasure. His motion graphics work added tremendous value to our marketing campaign, and he was professional throughout the entire process. The animations perfectly captured our brand identity.",
    avatar: "https://images.unsplash.com/photo-1519244703995-f4e0f30006d5?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&h=100&q=80",
    rating: 4,
    category: "motion graphics",
    project: "Product Launch Video"
  },
  {
    id: 4,
    name: "Emily Watson",
    position: "Game Studio Art Director",
    content: "The character design package we received was outstanding. Each character had unique personality and the rigging was flawless. Asri's understanding of anatomy and movement is remarkable.",
    avatar: "https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&h=100&q=80",
    rating: 5,
    category: "character design",
    project: "Game Character Pack"
  },
  {
    id: 5,
    name: "David Kim",
    position: "Product Manager",
    content: "Asri developed our e-commerce platform with precision and creativity. The user experience is seamless, and the backend is robust. His technical expertise combined with creative vision is rare.",
    avatar: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&h=100&q=80",
    rating: 5,
    category: "web development",
    project: "E-commerce Platform"
  },
  {
    id: 6,
    name: "Lisa Wang",
    position: "Film Director",
    content: "The 3D environments created by Asri transported our audience to another world. The attention to lighting, texture, and atmosphere was cinematic quality. He truly understands visual storytelling.",
    avatar: "https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&h=100&q=80",
    rating: 5,
    category: "3d environment",
    project: "Fantasy World Creation"
  },
  {
    id: 7,
    name: "Robert Martinez",
    position: "Advertising Agency Owner",
    content: "Asri's product animation made our client's product look incredible. The attention to detail and smooth transitions resulted in a 30% increase in engagement for our campaign. Highly recommended!",
    avatar: "https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&h=100&q=80",
    rating: 4,
    category: "product animation",
    project: "Product Explainer Video"
  },
  {
    id: 8,
    name: "Jennifer Lee",
    position: "UX Lead Designer",
    content: "Collaborating with Asri on our mobile app interface was fantastic. His animations brought our static designs to life and significantly improved user engagement metrics. The micro-interactions are perfect.",
    avatar: "https://images.unsplash.com/photo-1544725176-7c40e5a71c5e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&h=100&q=80",
    rating: 5,
    category: "ui animation",
    project: "Mobile App UI Animation"
  },
  {
    id: 9,
    name: "Thomas Brown",
    position: "Architectural Visualization",
    content: "The architectural walkthrough animation Asri created for our project was breathtaking. The lighting, materials, and camera work perfectly showcased our design. Clients were absolutely impressed.",
    avatar: "https://images.unsplash.com/photo-1519085360753-af0119f7cbe7?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&h=100&q=80",
    rating: 5,
    category: "architectural visualization",
    project: "Architectural Walkthrough"
  },
  {
    id: 10,
    name: "Maria Garcia",
    position: "Educational Content Producer",
    content: "Asri created engaging educational animations that made complex topics easy to understand. His ability to simplify concepts through animation is remarkable. The students loved it!",
    avatar: "https://images.unsplash.com/photo-1489424731084-a5d8b219a5bb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&h=100&q=80",
    rating: 4,
    category: "educational animation",
    project: "Educational Video Series"
  },
  {
    id: 11,
    name: "James Wilson",
    position: "Game Developer",
    content: "The 3D models Asri created for our game were optimized perfectly for real-time rendering. The texturing and UV mapping were flawless. He understood our technical requirements perfectly.",
    avatar: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&h=100&q=80",
    rating: 5,
    category: "3d modeling",
    project: "Game Asset Creation"
  },
  {
    id: 12,
    name: "Sophia Anderson",
    position: "Marketing Director",
    content: "Asri's social media animations helped our brand go viral. The creativity and timing were perfect for our target audience. We saw a significant increase in engagement and followers.",
    avatar: "https://images.unsplash.com/photo-1487412720507-e7ab37603c6f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&h=100&q=80",
    rating: 4,
    category: "social media animation",
    project: "Social Media Campaign"
  },
  {
    id: 13,
    name: "Daniel Thompson",
    position: "VR Studio Founder",
    content: "Working with Asri on our VR experience was incredible. His understanding of spatial design and interactive elements made our project stand out. The immersive quality was exceptional.",
    avatar: "https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&h=100&q=80",
    rating: 5,
    category: "vr development",
    project: "Virtual Reality Experience"
  },
  {
    id: 14,
    name: "Olivia Parker",
    position: "Fashion Brand Owner",
    content: "The 3D product visualization Asri created for our fashion line was stunning. Customers could see our products from every angle, which significantly boosted our online sales.",
    avatar: "https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&h=100&q=80",
    rating: 5,
    category: "product visualization",
    project: "Fashion Product Visualization"
  },
  {
    id: 15,
    name: "William Taylor",
    position: "Medical Animation Studio",
    content: "Asri's medical animations are both accurate and engaging. He managed to make complex biological processes understandable while maintaining scientific accuracy.",
    avatar: "https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&h=100&q=80",
    rating: 5,
    category: "medical animation",
    project: "Medical Education Series"
  },
  {
    id: 16,
    name: "Ava Robinson",
    position: "Event Production Manager",
    content: "The projection mapping animation Asri created for our corporate event was the highlight of the evening. The synchronization with music and architectural elements was perfect.",
    avatar: "https://images.unsplash.com/photo-1494790108755-2616b92a92d6?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&h=100&q=80",
    rating: 5,
    category: "projection mapping",
    project: "Corporate Event Projection"
  },
  {
    id: 17,
    name: "Ethan Harris",
    position: "Tech Startup Founder",
    content: "Asri developed our interactive web application with cutting-edge animations. The user experience is smooth and engaging. His technical skills are impressive.",
    avatar: "https://images.unsplash.com/photo-1519244703995-f4e0f30006d5?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&h=100&q=80",
    rating: 5,
    category: "web development",
    project: "Interactive Web App"
  },
  {
    id: 18,
    name: "Mia Clark",
    position: "Children's Book Publisher",
    content: "The animated book trailer Asri created brought our characters to life beautifully. The animation style matched our illustrations perfectly and helped increase book sales.",
    avatar: "https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&h=100&q=80",
    rating: 4,
    category: "book trailer",
    project: "Children's Book Trailer"
  },
  {
    id: 19,
    name: "Noah Lewis",
    position: "Automotive Company",
    content: "The 3D car configurator Asri developed for our website is outstanding. Customers can customize their vehicles in real-time with stunning visual quality.",
    avatar: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&h=100&q=80",
    rating: 5,
    category: "3d configurator",
    project: "Car Configurator"
  },
  {
    id: 20,
    name: "Isabella Walker",
    position: "Museum Curator",
    content: "Asri created interactive 3D exhibits for our museum that engaged visitors of all ages. The educational content was presented in an engaging and accessible way.",
    avatar: "https://images.unsplash.com/photo-1487412720507-e7ab37603c6f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&h=100&q=80",
    rating: 5,
    category: "interactive exhibit",
    project: "Museum Interactive Display"
  },
  {
    id: 21,
    name: "Liam Hall",
    position: "Film Production Company",
    content: "The VFX work Asri contributed to our film was seamless and professional. His attention to detail and understanding of cinematography elevated our production quality.",
    avatar: "https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&h=100&q=80",
    rating: 5,
    category: "visual effects",
    project: "Film VFX Sequences"
  },
  {
    id: 22,
    name: "Charlotte Young",
    position: "E-learning Platform",
    content: "Asri's animated educational content made our courses more engaging and effective. Student completion rates increased significantly after implementing his animations.",
    avatar: "https://images.unsplash.com/photo-1494790108755-2616b92a92d6?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&h=100&q=80",
    rating: 4,
    category: "e-learning",
    project: "Online Course Animations"
  },
  {
    id: 23,
    name: "Benjamin King",
    position: "Real Estate Developer",
    content: "The architectural visualization Asri created for our development project helped us secure funding and pre-sell units. The quality was photorealistic and compelling.",
    avatar: "https://images.unsplash.com/photo-1519085360753-af0119f7cbe7?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&h=100&q=80",
    rating: 5,
    category: "architectural visualization",
    project: "Real Estate Development"
  },
  {
    id: 24,
    name: "Amelia Scott",
    position: "Cosmetics Brand",
    content: "The product animation videos Asri created for our cosmetics line showcased our products beautifully. The visual storytelling increased our conversion rates significantly.",
    avatar: "https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&h=100&q=80",
    rating: 5,
    category: "product animation",
    project: "Cosmetics Product Videos"
  },
  {
    id: 25,
    name: "Lucas Green",
    position: "Music Video Director",
    content: "Asri's animation work on our music video was creative and perfectly synchronized with the music. The visual style matched the artist's vision exactly.",
    avatar: "https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&h=100&q=80",
    rating: 5,
    category: "music video",
    project: "Animated Music Video"
  },
  {
    id: 26,
    name: "Harper Adams",
    position: "Tech Conference Organizer",
    content: "The animated opening sequence Asri created for our tech conference set the perfect tone for the event. It was professional, modern, and engaging.",
    avatar: "https://images.unsplash.com/photo-1487412720507-e7ab37603c6f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&h=100&q=80",
    rating: 4,
    category: "event animation",
    project: "Conference Opening Sequence"
  },
  {
    id: 27,
    name: "Henry Baker",
    position: "Mobile Game Studio",
    content: "The character animations Asri created for our mobile game are smooth and full of personality. Players love the expressive movements and fluid transitions.",
    avatar: "https://images.unsplash.com/photo-1519244703995-f4e0f30006d5?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&h=100&q=80",
    rating: 5,
    category: "game animation",
    project: "Mobile Game Characters"
  },
  {
    id: 28,
    name: "Evelyn Nelson",
    position: "Fitness App Developer",
    content: "The exercise animation library Asri created for our fitness app makes workouts easy to follow. The clarity and precision of movements are exceptional.",
    avatar: "https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&h=100&q=80",
    rating: 5,
    category: "fitness animation",
    project: "Fitness App Animations"
  },
  {
    id: 29,
    name: "Alexander Carter",
    position: "Corporate Training Company",
    content: "The interactive training modules Asri developed improved employee engagement and knowledge retention. The animations made complex topics accessible and memorable.",
    avatar: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&h=100&q=80",
    rating: 4,
    category: "corporate training",
    project: "Interactive Training Modules"
  },
  {
    id: 30,
    name: "Sofia Mitchell",
    position: "Restaurant Chain Owner",
    content: "The animated menu displays Asri created for our restaurants improved customer experience and order accuracy. The visual appeal increased our average order value.",
    avatar: "https://images.unsplash.com/photo-1494790108755-2616b92a92d6?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&h=100&q=80",
    rating: 5,
    category: "digital menu",
    project: "Animated Restaurant Menu"
  }
];

// =================== TESTIMONIALS FUNCTIONALITY ===================
function initializeTestimonialSection() {
  const testimonialNav = document.querySelector('.testimonial-nav');
  const hamburger = document.querySelector('.hamburger-menu-testimonial');
  const searchInput = document.getElementById('testimonialSearch');
  const featuredContainer = document.getElementById('featuredTestimonials');
  const navContent = document.querySelector('.testimonial-nav-content');

  // Initialize
  displayRandomFeaturedTestimonials();
  populateAllTestimonials();
  initializeSearchSuggestions();

  // Hamburger menu toggle
  if (hamburger) {
    hamburger.addEventListener('click', function(e) {
      e.stopPropagation();
      toggleTestimonialNav();
    });
  }

  // Search functionality
  if (searchInput) {
    searchInput.addEventListener('input', handleSearch);
    searchInput.addEventListener('focus', showSearchSuggestions);
    searchInput.addEventListener('blur', hideSearchSuggestions);
  }

  // Close nav when clicking outside
  document.addEventListener('click', function(e) {
    if (!testimonialNav.contains(e.target) && testimonialNav.classList.contains('expanded')) {
      testimonialNav.classList.remove('expanded');
      hideSearchSuggestions();
    }
  });

  function toggleTestimonialNav() {
    testimonialNav.classList.toggle('expanded');
    
    // Change hamburger animation
    const isExpanded = testimonialNav.classList.contains('expanded');
    const hamburgerLines = document.querySelectorAll('.hamburger-line-testimonial');
    
    hamburgerLines.forEach(line => {
      line.style.transform = isExpanded ? 'scale(0.8)' : 'scale(1)';
    });
  }

  function displayRandomFeaturedTestimonials() {
    if (!featuredContainer) return;
    
    // Shuffle array and pick first 3
    const shuffled = [...testimonials].sort(() => 0.5 - Math.random());
    const featured = shuffled.slice(0, 3);

    featuredContainer.innerHTML = featured.map(testimonial => `
      <div class="featured-testimonial" data-category="${testimonial.category}">
        <div class="featured-content">${testimonial.content}</div>
        <div class="featured-rating">${'â˜…'.repeat(testimonial.rating)}${'â˜†'.repeat(5 - testimonial.rating)}</div>
        <div class="featured-author">
          <img src="${testimonial.avatar}" alt="${testimonial.name}" class="featured-avatar">
          <div class="featured-author-info">
            <h4>${testimonial.name}</h4>
            <p>${testimonial.position}</p>
            <small>Project: ${testimonial.project}</small>
          </div>
        </div>
      </div>
    `).join('');
  }

  function populateAllTestimonials() {
    if (!navContent) return;
    
    navContent.innerHTML = testimonials.map(testimonial => `
      <div class="testimonial-card" data-category="${testimonial.category}" data-search="${testimonial.name.toLowerCase()} ${testimonial.position.toLowerCase()} ${testimonial.content.toLowerCase()} ${testimonial.project.toLowerCase()}">
        <div class="testimonial-content">${testimonial.content}</div>
        <div class="testimonial-rating">${'â˜…'.repeat(testimonial.rating)}${'â˜†'.repeat(5 - testimonial.rating)}</div>
        <div class="testimonial-author">
          <img src="${testimonial.avatar}" alt="${testimonial.name}" class="author-avatar">
          <div class="author-info">
            <h4>${testimonial.name}</h4>
            <p>${testimonial.position}</p>
            <small>Project: ${testimonial.project}</small>
          </div>
        </div>
      </div>
    `).join('');

    // Add click events to testimonial cards
    document.querySelectorAll('.testimonial-card').forEach(card => {
      card.addEventListener('click', function() {
        // Add active state and smooth scroll
        document.querySelectorAll('.testimonial-card').forEach(c => c.classList.remove('active'));
        this.classList.add('active');
        
        // Smooth scroll to make card visible
        this.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
      });
    });
  }

  function initializeSearchSuggestions() {
    // Create suggestions container
    const suggestionsContainer = document.createElement('div');
    suggestionsContainer.className = 'search-suggestions';
    suggestionsContainer.style.cssText = `
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background: rgba(15, 15, 15, 0.95);
      border: 1px solid var(--highlight);
      border-radius: 8px;
      margin-top: 5px;
      max-height: 200px;
      overflow-y: auto;
      z-index: 1000;
      display: none;
      backdrop-filter: blur(10px);
    `;
    
    if (searchInput && searchInput.parentNode) {
      searchInput.parentNode.style.position = 'relative';
      searchInput.parentNode.appendChild(suggestionsContainer);
    }
  }

  function showSearchSuggestions() {
    const suggestionsContainer = document.querySelector('.search-suggestions');
    if (!suggestionsContainer || !searchInput) return;
    
    const searchTerm = searchInput.value.toLowerCase().trim();
    
    if (searchTerm === '') {
      // Show popular search terms
      const popularTerms = ['animation', 'web development', 'character design', 'motion graphics', '3d modeling'];
      suggestionsContainer.innerHTML = popularTerms.map(term => `
        <div class="search-suggestion" data-term="${term}">
          <span class="suggestion-icon">ðŸ”</span>
          <span>${term}</span>
        </div>
      `).join('');
      
      // Add click events to suggestions
      document.querySelectorAll('.search-suggestion').forEach(suggestion => {
        suggestion.addEventListener('mousedown', function(e) {
          e.preventDefault();
          searchInput.value = this.getAttribute('data-term');
          handleSearch({ target: searchInput });
          searchInput.focus();
        });
      });
    }
    
    suggestionsContainer.style.display = 'block';
  }

  function hideSearchSuggestions() {
    // Small delay to allow click events to register
    setTimeout(() => {
      const suggestionsContainer = document.querySelector('.search-suggestions');
      if (suggestionsContainer) {
        suggestionsContainer.style.display = 'none';
      }
    }, 150);
  }

  function handleSearch(e) {
    const searchTerm = e.target.value.toLowerCase().trim();
    const cards = document.querySelectorAll('.testimonial-card');
    let hasResults = false;

    // Update search suggestions based on current search
    updateSearchSuggestions(searchTerm);

    cards.forEach(card => {
      const searchData = card.getAttribute('data-search');
      
      if (searchTerm === '' || searchData.includes(searchTerm)) {
        card.style.display = 'block';
        hasResults = true;
        
        // Highlight matching text
        if (searchTerm !== '') {
          highlightText(card, searchTerm);
        } else {
          removeHighlights(card);
        }
      } else {
        card.style.display = 'none';
      }
    });

    // Show no results message
    const existingNoResults = document.querySelector('.no-results');
    if (existingNoResults) {
      existingNoResults.remove();
    }

    if (!hasResults && searchTerm !== '') {
      const noResults = document.createElement('div');
      noResults.className = 'no-results';
      noResults.textContent = `No testimonials found for "${searchTerm}"`;
      noResults.style.cssText = `
        grid-column: 1 / -1;
        text-align: center;
        color: var(--muted);
        padding: 2rem;
        font-style: italic;
      `;
      if (navContent) {
        navContent.appendChild(noResults);
      }
    }
  }

  function updateSearchSuggestions(searchTerm) {
    const suggestionsContainer = document.querySelector('.search-suggestions');
    if (!suggestionsContainer) return;

    if (searchTerm === '') {
      showSearchSuggestions();
      return;
    }

    // Find matching testimonials for suggestions
    const matchingTerms = new Set();
    
    testimonials.forEach(testimonial => {
      const searchableText = `${testimonial.name} ${testimonial.position} ${testimonial.content} ${testimonial.project}`.toLowerCase();
      if (searchableText.includes(searchTerm)) {
        // Extract relevant terms for suggestions
        const words = searchableText.split(' ');
        words.forEach(word => {
          if (word.includes(searchTerm) && word.length > 2) {
            matchingTerms.add(word);
          }
        });
      }
    });

    // Also add category matches
    testimonials.forEach(testimonial => {
      if (testimonial.category.includes(searchTerm)) {
        matchingTerms.add(testimonial.category);
      }
    });

    const suggestions = Array.from(matchingTerms).slice(0, 5);
    
    if (suggestions.length > 0) {
      suggestionsContainer.innerHTML = suggestions.map(term => `
        <div class="search-suggestion" data-term="${term}">
          <span class="suggestion-icon">ðŸ’¡</span>
          <span>${term}</span>
        </div>
      `).join('');

      // Add click events to suggestions
      document.querySelectorAll('.search-suggestion').forEach(suggestion => {
        suggestion.addEventListener('mousedown', function(e) {
          e.preventDefault();
          searchInput.value = this.getAttribute('data-term');
          handleSearch({ target: searchInput });
          searchInput.focus();
        });
        
        // Add hover effects
        suggestion.style.cssText = `
          padding: 8px 12px;
          cursor: pointer;
          transition: background-color 0.2s ease;
          border-bottom: 1px solid rgba(255,255,255,0.1);
        `;
        
        suggestion.addEventListener('mouseenter', function() {
          this.style.backgroundColor = 'rgba(0, 255, 255, 0.1)';
        });
        
        suggestion.addEventListener('mouseleave', function() {
          this.style.backgroundColor = 'transparent';
        });
      });
      
      suggestionsContainer.style.display = 'block';
    } else {
      suggestionsContainer.style.display = 'none';
    }
  }

  function highlightText(element, searchTerm) {
    const content = element.querySelector('.testimonial-content');
    const text = content.textContent;
    const regex = new RegExp(`(${searchTerm})`, 'gi');
    const highlighted = text.replace(regex, '<span class="highlight">$1</span>');
    content.innerHTML = highlighted;
  }

  function removeHighlights(element) {
    const content = element.querySelector('.testimonial-content');
    content.innerHTML = content.textContent;
  }
}

// Panggil di DOMContentLoaded
document.addEventListener('DOMContentLoaded', function() {
  initializeTestimonialSection();
});

// =================== TOOLS CAROUSEL ===================
function initializeToolsCarousel() {
  const tools = [
    {
      name: "Blender",
      icon: "ðŸŽ¬",
      category: "3D Animation Suite",
      description: "Complete 3D creation suite for modeling, animation, simulation, and rendering.",
      features: [
        "3D Modeling & Sculpting",
        "Character Animation",
        "VFX & Simulation", 
        "Rendering & Compositing",
        "Video Editing",
        "Motion Tracking"
      ],
      proficiency: 90
    },
    {
      name: "After Effects",
      icon: "ðŸŽ¨",
      category: "Motion Graphics",
      description: "Industry-standard motion graphics and visual effects software for film and video.",
      features: [
        "Motion Graphics",
        "Visual Effects",
        "Compositing",
        "Animation",
        "Keying & Tracking",
        "3D Camera Tracking"
      ],
      proficiency: 85
    },
    {
      name: "Notepad++",
      icon: "âš¡",
      category: "Code Editor",
      description: "Lightweight and powerful code editor with extensive plugin support.",
      features: [
        "Syntax Highlighting",
        "Multi-language Support",
        "Plugin Ecosystem",
        "Lightweight & Fast",
        "Macro Recording",
        "Multi-view Editing"
      ],
      proficiency: 95
    },
    {
      name: "Git & GitHub",
      icon: "ðŸŒ",
      category: "Version Control",
      description: "Distributed version control system and collaborative development platform.",
      features: [
        "Version Control",
        "Collaboration",
        "CI/CD Integration",
        "Project Management",
        "Code Review",
        "Open Source Hosting"
      ],
      proficiency: 80
    },
    {
      name: "Hitfilm",
      icon: "ðŸ“¹",
      category: "Video Editing",
      description: "Professional video editing and visual effects software with advanced compositing.",
      features: [
        "Video Editing",
        "Color Grading",
        "Audio Editing",
        "Export Optimization",
        "3D Compositing",
        "Particle Systems"
      ],
      proficiency: 75
    },
    {
      name: "Photoshop",
      icon: "ðŸŽ¯",
      category: "Graphic Design",
      description: "Industry-leading image editing and graphic design software.",
      features: [
        "Image Editing",
        "Digital Painting",
        "UI/UX Design",
        "Photo Manipulation",
        "Typography",
        "Digital Art"
      ],
      proficiency: 70
    },
    {
      name: "Visual Studio Code",
      icon: "ðŸ’»",
      category: "Code Editor",
      description: "Modern code editor with built-in Git support and extensive extensions.",
      features: [
        "IntelliSense",
        "Debugging",
        "Git Integration",
        "Extensions Marketplace",
        "Terminal Integration",
        "Multi-language Support"
      ],
      proficiency: 88
    },
    {
      name: "Substance Painter",
      icon: "ðŸŽ¨",
      category: "3D Texturing",
      description: "3D painting software with advanced material creation and texturing tools.",
      features: [
        "PBR Texturing",
        "Smart Materials",
        "Real-time Viewport",
        "Baking Tools",
        "Export Optimization",
        "Material Creation"
      ],
      proficiency: 82
    }
  ];

  const carouselTrack = document.querySelector('.carousel-track');
  const dotsContainer = document.querySelector('.carousel-dots');
  const prevBtn = document.querySelector('.carousel-arrow-prev');
  const nextBtn = document.querySelector('.carousel-arrow-next');

  let currentIndex = 0;
  let startX = 0;
  let currentX = 0;
  let isDragging = false;

  // Generate tool cards
  function generateTools() {
    carouselTrack.innerHTML = tools.map((tool, index) => `
      <div class="tool-card" data-index="${index}">
        <div class="tool-header">
          <div class="tool-icon">${tool.icon}</div>
          <div>
            <h3 class="tool-title">${tool.name}</h3>
            <p class="tool-category">${tool.category}</p>
          </div>
        </div>
        <p class="tool-description">${tool.description}</p>
        <ul class="tool-features">
          ${tool.features.map(feature => `<li>${feature}</li>`).join('')}
        </ul>
        <div class="tool-proficiency">
          <span class="proficiency-label">Proficiency:</span>
          <div class="proficiency-bar">
            <div class="proficiency-fill" style="width: ${tool.proficiency}%"></div>
          </div>
          <span class="proficiency-percent">${tool.proficiency}%</span>
        </div>
      </div>
    `).join('');

    generateDots();
    updateCarousel();
  }

  // Generate navigation dots
  function generateDots() {
    dotsContainer.innerHTML = tools.map((_, index) => `
      <button class="carousel-dot ${index === 0 ? 'active' : ''}" data-index="${index}"></button>
    `).join('');
  }

  // Update carousel position
  function updateCarousel() {
    const cardWidth = document.querySelector('.tool-card').offsetWidth;
    const gap = 32; // 2rem in pixels
    const translateX = -(currentIndex * (cardWidth + gap));
    
    carouselTrack.style.transform = `translateX(${translateX}px)`;
    
    // Update active dot
    document.querySelectorAll('.carousel-dot').forEach((dot, index) => {
      dot.classList.toggle('active', index === currentIndex);
    });
  }

  // Navigate to specific slide
  function goToSlide(index) {
    currentIndex = Math.max(0, Math.min(index, tools.length - 1));
    updateCarousel();
  }

  // Next slide
  function nextSlide() {
    if (currentIndex < tools.length - 1) {
      currentIndex++;
      updateCarousel();
    }
  }

  // Previous slide
  function prevSlide() {
    if (currentIndex > 0) {
      currentIndex--;
      updateCarousel();
    }
  }

  // Touch/swipe handlers
  function handleTouchStart(e) {
    isDragging = true;
    startX = e.type.includes('mouse') ? e.pageX : e.touches[0].pageX;
    currentX = startX;
    carouselTrack.style.transition = 'none';
  }

  function handleTouchMove(e) {
    if (!isDragging) return;
    
    currentX = e.type.includes('mouse') ? e.pageX : e.touches[0].pageX;
    const diff = currentX - startX;
    
    if (Math.abs(diff) > 10) { // Minimum drag threshold
      carouselTrack.style.transform = `translateX(calc(-${currentIndex * 100}% + ${diff}px))`;
    }
  }

  function handleTouchEnd(e) {
    if (!isDragging) return;
    
    isDragging = false;
    carouselTrack.style.transition = 'transform 0.5s cubic-bezier(0.4, 0, 0.2, 1)';
    
    const diff = currentX - startX;
    const threshold = 50; // Minimum swipe distance
    
    if (Math.abs(diff) > threshold) {
      if (diff > 0) {
        prevSlide();
      } else {
        nextSlide();
      }
    } else {
      updateCarousel(); // Return to current position
    }
  }

  // Event listeners
  prevBtn.addEventListener('click', prevSlide);
  nextBtn.addEventListener('click', nextSlide);

  // Dot navigation
  dotsContainer.addEventListener('click', (e) => {
    if (e.target.classList.contains('carousel-dot')) {
      const index = parseInt(e.target.getAttribute('data-index'));
      goToSlide(index);
    }
  });

  // Touch events
  carouselTrack.addEventListener('mousedown', handleTouchStart);
  carouselTrack.addEventListener('mousemove', handleTouchMove);
  carouselTrack.addEventListener('mouseup', handleTouchEnd);
  carouselTrack.addEventListener('mouseleave', handleTouchEnd);

  carouselTrack.addEventListener('touchstart', handleTouchStart);
  carouselTrack.addEventListener('touchmove', handleTouchMove);
  carouselTrack.addEventListener('touchend', handleTouchEnd);

  // Keyboard navigation
  document.addEventListener('keydown', (e) => {
    if (e.key === 'ArrowLeft') prevSlide();
    if (e.key === 'ArrowRight') nextSlide();
  });

  // Initialize
  generateTools();

  // Handle window resize
  window.addEventListener('resize', updateCarousel);
}

// Panggil di DOMContentLoaded
document.addEventListener('DOMContentLoaded', function() {
  // ... kode yang sudah ada ...
  initializeToolsCarousel();
});


// Hire Me Popup Functionality
document.addEventListener('DOMContentLoaded', function() {
  const hireMeBtn = document.getElementById('openHireMePopup');
  const popup = document.getElementById('hireMePopup');
  const closeBtn = document.querySelector('.close-popup');
  const overlay = document.querySelector('.popup-overlay');
  const formSteps = document.querySelectorAll('.form-step');
  const progressSteps = document.querySelectorAll('.progress-step');
  const progressFill = document.querySelector('.progress-fill');
  const nextBtn = document.querySelector('.next-btn');
  const prevBtn = document.querySelector('.prev-btn');
  const sendBtn = document.getElementById('sendProjectRequest');

  // Form Data
  const formData = {
    projectType: '',
    projectName: '',
    projectDescription: '',
    budget: '',
    timeline: '',
    clientName: '',
    clientEmail: '',
    clientPhone: '',
    clientCompany: '',
    contactMethod: 'email'
  };

  let currentStep = 1;

  // Open popup
  hireMeBtn.addEventListener('click', function() {
    popup.style.display = 'block';
    document.body.style.overflow = 'hidden';
    createRippleEffect(this);
  });

  // Close popup
  closeBtn.addEventListener('click', closePopup);
  overlay.addEventListener('click', closePopup);

  function closePopup() {
    popup.style.display = 'none';
    document.body.style.overflow = 'auto';
    resetForm();
  }

  // Ripple effect for hire me button
  function createRippleEffect(button) {
    const ripple = document.createElement('span');
    ripple.classList.add('btn-ripple');
    
    const rect = button.getBoundingClientRect();
    const size = Math.max(rect.width, rect.height);
    const x = event.clientX - rect.left - size / 2;
    const y = event.clientY - rect.top - size / 2;
    
    ripple.style.width = ripple.style.height = size + 'px';
    ripple.style.left = x + 'px';
    ripple.style.top = y + 'px';
    
    button.appendChild(ripple);
    
    setTimeout(() => {
      ripple.remove();
    }, 600);
  }

  // Project type selection
  const projectTypeCards = document.querySelectorAll('.project-type-card');
  projectTypeCards.forEach(card => {
    card.addEventListener('click', function() {
      projectTypeCards.forEach(c => c.classList.remove('selected'));
      this.classList.add('selected');
      formData.projectType = this.getAttribute('data-type');
      updateQuoteEstimate();
    });
  });

  // Budget selection
  const budgetOptions = document.querySelectorAll('.budget-option');
  budgetOptions.forEach(option => {
    option.addEventListener('click', function() {
      budgetOptions.forEach(o => o.classList.remove('selected'));
      this.classList.add('selected');
      formData.budget = this.getAttribute('data-budget');
      updateQuoteEstimate();
    });
  });

  // Timeline selection
  const timelineOptions = document.querySelectorAll('.timeline-option');
  timelineOptions.forEach(option => {
    option.addEventListener('click', function() {
      timelineOptions.forEach(o => o.classList.remove('selected'));
      this.classList.add('selected');
      formData.timeline = this.getAttribute('data-timeline');
      updateQuoteEstimate();
    });
  });

  // Contact method selection
  const contactMethodOptions = document.querySelectorAll('.contact-method-option');
  contactMethodOptions.forEach(option => {
    option.addEventListener('click', function() {
      contactMethodOptions.forEach(o => o.classList.remove('selected'));
      this.classList.add('selected');
      formData.contactMethod = this.getAttribute('data-method');
    });
  });

  // Real-time input updates
  const projectNameInput = document.getElementById('projectName');
  const projectDescInput = document.getElementById('projectDescription');
  const clientNameInput = document.getElementById('clientName');
  const clientEmailInput = document.getElementById('clientEmail');
  const clientPhoneInput = document.getElementById('clientPhone');
  const clientCompanyInput = document.getElementById('clientCompany');
  const charCounter = document.querySelector('.char-counter');

  projectNameInput.addEventListener('input', function() {
    formData.projectName = this.value;
  });

  projectDescInput.addEventListener('input', function() {
    formData.projectDescription = this.value;
    charCounter.textContent = `${this.value.length}/500`;
    updateQuoteEstimate();
  });

  clientNameInput.addEventListener('input', function() {
    formData.clientName = this.value;
  });

  clientEmailInput.addEventListener('input', function() {
    formData.clientEmail = this.value;
  });

  clientPhoneInput.addEventListener('input', function() {
    formData.clientPhone = this.value;
  });

  clientCompanyInput.addEventListener('input', function() {
    formData.clientCompany = this.value;
  });

  // Form navigation
  nextBtn.addEventListener('click', function() {
    if (validateStep(currentStep)) {
      if (currentStep < 4) {
        currentStep++;
        updateFormSteps();
      } else {
        submitForm();
      }
    }
  });

  prevBtn.addEventListener('click', function() {
    if (currentStep > 1) {
      currentStep--;
      updateFormSteps();
    }
  });

  function updateFormSteps() {
    // Update form steps
    formSteps.forEach(step => {
      step.classList.remove('active');
      if (parseInt(step.getAttribute('data-step')) === currentStep) {
        step.classList.add('active');
      }
    });

    // Update progress steps
    progressSteps.forEach(step => {
      step.classList.remove('active');
      if (parseInt(step.getAttribute('data-step')) <= currentStep) {
        step.classList.add('active');
      }
    });

    // Update progress bar
    progressFill.style.width = `${(currentStep / 4) * 100}%`;

    // Update navigation buttons
    prevBtn.disabled = currentStep === 1;
    nextBtn.innerHTML = currentStep === 4 ? 
      '<span>Send Request â†’</span>' : 
      '<span>Next â†’</span>';

    // Update review summary on step 4
    if (currentStep === 4) {
      updateReviewSummary();
    }
  }

  function validateStep(step) {
    let isValid = true;
    let errorMessage = '';

    switch (step) {
      case 1:
        if (!formData.projectType) {
          errorMessage = 'Please select a project type';
          isValid = false;
        }
        break;
      case 2:
        if (!formData.projectName.trim()) {
          errorMessage = 'Please enter a project name';
          isValid = false;
        } else if (!formData.projectDescription.trim()) {
          errorMessage = 'Please describe your project';
          isValid = false;
        } else if (!formData.budget) {
          errorMessage = 'Please select a budget range';
          isValid = false;
        } else if (!formData.timeline) {
          errorMessage = 'Please select a timeline';
          isValid = false;
        }
        break;
      case 3:
        if (!formData.clientName.trim()) {
          errorMessage = 'Please enter your name';
          isValid = false;
        } else if (!formData.clientEmail.trim() || !isValidEmail(formData.clientEmail)) {
          errorMessage = 'Please enter a valid email address';
          isValid = false;
        }
        break;
    }

    if (!isValid) {
      showError(errorMessage);
    }

    return isValid;
  }

  function isValidEmail(email) {
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return emailRegex.test(email);
  }

  function showError(message) {
    // Create error toast
    const errorToast = document.createElement('div');
    errorToast.style.cssText = `
      position: fixed;
      top: 20px;
      right: 20px;
      background: #ff4444;
      color: white;
      padding: 1rem 1.5rem;
      border-radius: 8px;
      z-index: 10001;
      animation: slideInRight 0.3s ease;
    `;
    errorToast.textContent = message;
    
    document.body.appendChild(errorToast);
    
    setTimeout(() => {
      errorToast.remove();
    }, 3000);
  }

  function updateReviewSummary() {
    document.getElementById('review-project-type').textContent = getProjectTypeLabel(formData.projectType);
    document.getElementById('review-project-name').textContent = formData.projectName || '-';
    document.getElementById('review-budget').textContent = getBudgetLabel(formData.budget);
    document.getElementById('review-timeline').textContent = getTimelineLabel(formData.timeline);
    document.getElementById('review-client-name').textContent = formData.clientName || '-';
    document.getElementById('review-client-email').textContent = formData.clientEmail || '-';
    document.getElementById('review-contact-method').textContent = getContactMethodLabel(formData.contactMethod);
  }

  function updateQuoteEstimate() {
    if (!formData.projectType || !formData.budget) return;

    const quoteData = calculateQuote(formData.projectType, formData.budget, formData.projectDescription);
    
    document.getElementById('quote-complexity').textContent = quoteData.complexity;
    document.getElementById('quote-duration').textContent = quoteData.duration;
    document.getElementById('quote-price').textContent = quoteData.price;
  }

  function calculateQuote(type, budget, description) {
    const complexity = description && description.length > 200 ? 'Complex' : 
                      description && description.length > 100 ? 'Standard' : 'Simple';
    
    const baseDurations = {
      '3d-animation': { '1k': '2-3 weeks', '5k': '3-5 weeks', '10k': '6-8 weeks', 'custom': 'TBD' },
      'web-development': { '1k': '1-2 weeks', '5k': '2-3 weeks', '10k': '3-4 weeks', 'custom': 'TBD' },
      'motion-graphics': { '1k': '1-2 weeks', '5k': '2-3 weeks', '10k': '3-4 weeks', 'custom': 'TBD' },
      'consultation': { '1k': '1-2 hours', '5k': '2-4 hours', '10k': 'Full day', 'custom': 'TBD' }
    };

    const basePrices = {
      '1k': '$800 - $1,200',
      '5k': '$3,000 - $5,000', 
      '10k': '$8,000 - $12,000',
      'custom': 'Custom Quote'
    };

    return {
      complexity: complexity,
      duration: baseDurations[type]?.[budget] || 'TBD',
      price: basePrices[budget] || 'Custom Quote'
    };
  }

  function getProjectTypeLabel(type) {
    const labels = {
      '3d-animation': '3D Animation',
      'web-development': 'Web Development', 
      'motion-graphics': 'Motion Graphics',
      'consultation': 'Consultation'
    };
    return labels[type] || '-';
  }

  function getBudgetLabel(budget) {
    const labels = {
      '1k': 'Under $1,000',
      '5k': '$1,000 - $5,000',
      '10k': '$5,000 - $10,000', 
      'custom': 'Custom Budget'
    };
    return labels[budget] || '-';
  }

  function getTimelineLabel(timeline) {
    const labels = {
      'asap': 'ASAP (Urgent)',
      '2weeks': '2 Weeks',
      '1month': '1 Month',
      'flexible': 'Flexible'
    };
    return labels[timeline] || '-';
  }

  function getContactMethodLabel(method) {
    const labels = {
      'email': 'Email',
      'phone': 'Phone Call',
      'video': 'Video Call'
    };
    return labels[method] || 'Email';
  }

  function submitForm() {
    // Show loading state
    sendBtn.classList.add('loading');
    
    // Simulate API call
    setTimeout(() => {
      sendBtn.classList.remove('loading');
      sendBtn.classList.add('success');
      
      // Simulate successful submission
      setTimeout(() => {
        alert(`Thank you, ${formData.clientName}! Your project request has been sent successfully. I'll get back to you within 24 hours.`);
        closePopup();
      }, 1000);
      
      // Here you would typically send the data to your backend
      console.log('Form submitted:', formData);
      
    }, 2000);
  }

  function resetForm() {
    currentStep = 1;
    updateFormSteps();
    
    // Reset form data
    Object.keys(formData).forEach(key => {
      formData[key] = '';
    });
    formData.contactMethod = 'email';
    
    // Reset UI
    projectTypeCards.forEach(card => card.classList.remove('selected'));
    budgetOptions.forEach(option => option.classList.remove('selected'));
    timelineOptions.forEach(option => option.classList.remove('selected'));
    contactMethodOptions[0].classList.add('selected');
    
    // Reset inputs
    projectNameInput.value = '';
    projectDescInput.value = '';
    clientNameInput.value = '';
    clientEmailInput.value = '';
    clientPhoneInput.value = '';
    clientCompanyInput.value = '';
    charCounter.textContent = '0/500';
    
    // Reset send button
    sendBtn.classList.remove('loading', 'success');
  }

  // Close with Escape key
  document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape' && popup.style.display === 'block') {
      closePopup();
    }
  });
});


// =================== SMOOTH SCROLL ENHANCEMENT ===================
function initializeSmoothScroll() {
  // Smooth scroll untuk navigation links
  document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
      e.preventDefault();
      const target = document.querySelector(this.getAttribute('href'));
      if (target) {
        target.scrollIntoView({
          behavior: 'smooth',
          block: 'start'
        });
      }
    });
  });
  
  // Update active dock item berdasarkan scroll position
  window.addEventListener('scroll', () => {
    const sections = document.querySelectorAll('section');
    const scrollPos = window.scrollY + 100;
    
    sections.forEach(section => {
      const sectionTop = section.offsetTop;
      const sectionHeight = section.clientHeight;
      const sectionId = section.getAttribute('id');
      
      if (scrollPos >= sectionTop && scrollPos < sectionTop + sectionHeight) {
        // Remove active class dari semua dock items
        document.querySelectorAll('.dock-item').forEach(item => {
          item.classList.remove('active');
        });
        
        // Add active class ke dock item yang sesuai
        const activeDockItem = document.querySelector(`.dock-item[href="#${sectionId}"]`);
        if (activeDockItem) {
          activeDockItem.classList.add('active');
        }
      }
    });
  });
}

// Scroll progress bar
const progressBar = document.createElement('div');
progressBar.className = 'scroll-progress';
progressBar.style.cssText = `
  position: fixed;
  top: 0;
  left: 0;
  height: 3px;
  background: var(--primary);
  width: 0%;
  z-index: 10000;
  transition: width 0.1s ease;
`;
document.body.appendChild(progressBar);

window.addEventListener('scroll', () => {
  const winHeight = window.innerHeight;
  const docHeight = document.documentElement.scrollHeight - winHeight;
  const scrolled = (window.scrollY / docHeight) * 100;
  progressBar.style.width = `${scrolled}%`;
});

// =================== PERFORMANCE OPTIMIZATIONS ===================
function initializePerformanceOptimizations() {
  // Debounce scroll events
  let scrollTimeout;
  window.addEventListener('scroll', () => {
    if (!scrollTimeout) {
      scrollTimeout = setTimeout(() => {
        scrollTimeout = null;
        // Performance-heavy operations here
      }, 100);
    }
  });
  
  // Preload images yang akan segera terlihat
  const imageObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        const img = entry.target;
        if (img.dataset.src) {
          img.src = img.dataset.src;
          img.classList.remove('lazy-image');
          imageObserver.unobserve(img);
        }
      }
    });
  });
  
  // Observe images dengan data-src
  document.querySelectorAll('img[data-src]').forEach(img => {
    imageObserver.observe(img);
  });
}

// Simple clock initialization - tambahkan di akhir file JavaScript
function startClock() {
    function updateTime() {
        const now = new Date();
        const hours = String(now.getHours()).padStart(2, '0');
        const minutes = String(now.getMinutes()).padStart(2, '0');
        const seconds = String(now.getSeconds()).padStart(2, '0');
        
        const days = ['Minggu', 'Senin', 'Selasa', 'Rabu', 'Kamis', 'Jumat', 'Sabtu'];
        const months = ['Jan', 'Feb', 'Mar', 'Apr', 'Mei', 'Jun', 'Jul', 'Agu', 'Sep', 'Okt', 'Nov', 'Des'];
        
        const dayName = days[now.getDay()];
        const date = now.getDate();
        const monthName = months[now.getMonth()];
        
        // Update elements
        const hoursEl = document.getElementById('floating-hours');
        const minutesEl = document.getElementById('floating-minutes');
        const dayEl = document.getElementById('floating-day');
        const dateEl = document.getElementById('floating-date');
        
        if (hoursEl) hoursEl.textContent = hours;
        if (minutesEl) minutesEl.textContent = minutes;
        if (dayEl) dayEl.textContent = dayName;
        if (dateEl) dateEl.textContent = `${date} ${monthName}`;
    }
    
    // Update immediately and every second
    updateTime();
    setInterval(updateTime, 1000);
}

// Start the clock when page loads
window.addEventListener('load', startClock);

// =================== ASSETS DATA ===================
const assets = [
  {
    id: 1,
    title: "Sci-Fi Helmet Pack",
    description: "High-quality sci-fi helmet models with PBR textures. Perfect for character design in games or animations.",
    type: "3D Model",
    fileSize: "45.2 MB",
    preview: "https://images.unsplash.com/photo-1635070041078-e363dbe005cb?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=200&q=80",
    downloadLink: "#",
    category: "character",
    format: "FBX, OBJ",
    license: "Free for personal use"
  },
  {
    id: 2,
    title: "Procedural Metal Textures",
    description: "20+ procedural metal materials with roughness maps. Compatible with Blender and Substance Painter.",
    type: "Texture",
    fileSize: "12.7 MB",
    preview: "https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=200&q=80",
    downloadLink: "#",
    category: "material",
    format: "PNG, EXR",
    license: "CC0"
  },
  {
    id: 3,
    title: "Auto Rigging Tool",
    description: "Blender addon for automatic character rigging with advanced IK/FK controls and facial rig setup.",
    type: "Addon",
    fileSize: "3.8 MB",
    preview: "https://images.unsplash.com/photo-1611224923853-80b023f02d71?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=200&q=80",
    downloadLink: "#",
    category: "tool",
    format: "ZIP",
    license: "MIT License"
  },
  {
    id: 4,
    title: "Fantasy Sword Collection",
    description: "10 unique fantasy sword models with 4K textures and particle effects for game development.",
    type: "3D Model",
    fileSize: "32.1 MB",
    preview: "https://images.unsplash.com/photo-1589656966895-2f33e7653819?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=200&q=80",
    downloadLink: "#",
    category: "prop",
    format: "FBX, BLEND",
    license: "Free for commercial use"
  },
  {
    id: 5,
    title: "Wood & Concrete Pack",
    description: "Realistic wood and concrete PBR materials with seamless tiling and multiple resolution options.",
    type: "Texture",
    fileSize: "28.5 MB",
    preview: "https://images.unsplash.com/photo-1541140532154-b024d705b90a?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=200&q=80",
    downloadLink: "#",
    category: "material",
    format: "JPG, EXR",
    license: "CC0"
  },
  {
    id: 6,
    title: "Camera Animation Presets",
    description: "Cinematic camera animation presets for Blender with dolly shots, crane movements, and more.",
    type: "Addon",
    fileSize: "1.2 MB",
    preview: "https://images.unsplash.com/photo-1516035069371-29a1b244cc32?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=200&q=80",
    downloadLink: "#",
    category: "animation",
    format: "BLEND",
    license: "Free for personal use"
  }
];

// =================== ASSETS FUNCTIONALITY ===================
function initializeAssetsSection() {
  const assetsNav = document.querySelector('.assets-nav');
  const hamburger = document.querySelector('.hamburger-menu-assets');
  const searchInput = document.getElementById('assetsSearch');
  const featuredContainer = document.getElementById('featuredAssets');
  const navContent = document.querySelector('.assets-nav-content');

  // Initialize
  displayRandomFeaturedAssets();
  populateAllAssets();
  initializeAssetsSearch();

  // Hamburger menu toggle
  if (hamburger) {
    hamburger.addEventListener('click', function(e) {
      e.stopPropagation();
      toggleAssetsNav();
    });
  }

  // Search functionality
  if (searchInput) {
    searchInput.addEventListener('input', handleAssetsSearch);
  }

  // Close nav when clicking outside
  document.addEventListener('click', function(e) {
    if (!assetsNav.contains(e.target) && assetsNav.classList.contains('expanded')) {
      assetsNav.classList.remove('expanded');
    }
  });

  function toggleAssetsNav() {
    assetsNav.classList.toggle('expanded');
    
    const isExpanded = assetsNav.classList.contains('expanded');
    const hamburgerLines = document.querySelectorAll('.hamburger-line-assets');
    
    hamburgerLines.forEach(line => {
      line.style.transform = isExpanded ? 'scale(0.8)' : 'scale(1)';
    });
  }

  function displayRandomFeaturedAssets() {
    if (!featuredContainer) return;
    
    // Use all assets for featured section (since we only have 6)
    const featured = [...assets];

    featuredContainer.innerHTML = featured.map(asset => `
      <div class="featured-asset" data-category="${asset.category}">
        <img src="${asset.preview}" alt="${asset.title}" class="featured-preview">
        <div class="featured-asset-info">
          <h3 class="featured-asset-title">${asset.title}</h3>
          <p class="featured-asset-description">${asset.description}</p>
          <div class="featured-asset-meta">
            <span class="featured-asset-type">${asset.type}</span>
            <span class="featured-asset-file-size">${asset.fileSize}</span>
          </div>
        </div>
        <div class="featured-asset-actions">
          <button class="featured-download-btn" data-asset-id="${asset.id}">
            <span>Download</span>
            <span>â¬‡ï¸</span>
          </button>
          <button class="featured-preview-btn" data-asset-id="${asset.id}">
            <span>Preview</span>
          </button>
        </div>
      </div>
    `).join('');

    // Add functionality to featured assets
    document.querySelectorAll('.featured-download-btn').forEach(btn => {
      btn.addEventListener('click', function(e) {
        e.stopPropagation();
        const assetId = this.getAttribute('data-asset-id');
        downloadAsset(assetId);
      });
    });

    document.querySelectorAll('.featured-preview-btn').forEach(btn => {
      btn.addEventListener('click', function(e) {
        e.stopPropagation();
        const assetId = this.getAttribute('data-asset-id');
        openAssetPreview(assetId);
      });
    });
  }

  function populateAllAssets() {
    if (!navContent) return;
    
    navContent.innerHTML = assets.map(asset => `
      <div class="asset-card" data-category="${asset.category}" data-search="${asset.title.toLowerCase()} ${asset.description.toLowerCase()} ${asset.type.toLowerCase()}">
        <img src="${asset.preview}" alt="${asset.title}" class="asset-preview">
        <div class="asset-info">
          <h4 class="asset-title">${asset.title}</h4>
          <p class="asset-description">${asset.description}</p>
          <div class="asset-meta">
            <span class="asset-type">${asset.type}</span>
            <span class="asset-file-size">${asset.fileSize}</span>
          </div>
        </div>
        <div class="asset-actions">
          <button class="asset-download-btn" data-asset-id="${asset.id}">
            <span>Download</span>
            <span>â¬‡ï¸</span>
          </button>
          <button class="asset-preview-btn" data-asset-id="${asset.id}">
            <span>ðŸ‘ï¸ Preview</span>
          </button>
        </div>
      </div>
    `).join('');

    // Add functionality to all assets
    document.querySelectorAll('.asset-download-btn').forEach(btn => {
      btn.addEventListener('click', function(e) {
        e.stopPropagation();
        const assetId = this.getAttribute('data-asset-id');
        downloadAsset(assetId);
      });
    });

    document.querySelectorAll('.asset-preview-btn').forEach(btn => {
      btn.addEventListener('click', function(e) {
        e.stopPropagation();
        const assetId = this.getAttribute('data-asset-id');
        openAssetPreview(assetId);
      });
    });

    // Add click events to asset cards
    document.querySelectorAll('.asset-card').forEach(card => {
      card.addEventListener('click', function() {
        document.querySelectorAll('.asset-card').forEach(c => c.classList.remove('active'));
        this.classList.add('active');
        this.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
      });
    });
  }

  function initializeAssetsSearch() {
    // Create suggestions container
    const suggestionsContainer = document.createElement('div');
    suggestionsContainer.className = 'search-suggestions';
    suggestionsContainer.style.cssText = `
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background: rgba(15, 15, 15, 0.95);
      border: 1px solid var(--highlight);
      border-radius: 8px;
      margin-top: 5px;
      max-height: 200px;
      overflow-y: auto;
      z-index: 1000;
      display: none;
      backdrop-filter: blur(10px);
    `;
    
    if (searchInput && searchInput.parentNode) {
      searchInput.parentNode.style.position = 'relative';
      searchInput.parentNode.appendChild(suggestionsContainer);
    }
  }

  function handleAssetsSearch(e) {
    const searchTerm = e.target.value.toLowerCase().trim();
    const cards = document.querySelectorAll('.asset-card');
    let hasResults = false;

    cards.forEach(card => {
      const searchData = card.getAttribute('data-search');
      
      if (searchTerm === '' || searchData.includes(searchTerm)) {
        card.style.display = 'block';
        hasResults = true;
        
        // Highlight matching text
        if (searchTerm !== '') {
          highlightAssetText(card, searchTerm);
        } else {
          removeAssetHighlights(card);
        }
      } else {
        card.style.display = 'none';
      }
    });

    // Show no results message
    const existingNoResults = document.querySelector('.assets-no-results');
    if (existingNoResults) {
      existingNoResults.remove();
    }

    if (!hasResults && searchTerm !== '') {
      const noResults = document.createElement('div');
      noResults.className = 'assets-no-results';
      noResults.textContent = `No assets found for "${searchTerm}"`;
      noResults.style.cssText = `
        grid-column: 1 / -1;
        text-align: center;
        color: var(--muted);
        padding: 2rem;
        font-style: italic;
      `;
      if (navContent) {
        navContent.appendChild(noResults);
      }
    }
  }

  function highlightAssetText(element, searchTerm) {
    const title = element.querySelector('.asset-title');
    const description = element.querySelector('.asset-description');
    
    if (title) {
      const titleText = title.textContent;
      const regex = new RegExp(`(${searchTerm})`, 'gi');
      const highlighted = titleText.replace(regex, '<span class="highlight">$1</span>');
      title.innerHTML = highlighted;
    }
    
    if (description) {
      const descText = description.textContent;
      const regex = new RegExp(`(${searchTerm})`, 'gi');
      const highlighted = descText.replace(regex, '<span class="highlight">$1</span>');
      description.innerHTML = highlighted;
    }
  }

  function removeAssetHighlights(element) {
    const title = element.querySelector('.asset-title');
    const description = element.querySelector('.asset-description');
    
    if (title) {
      title.innerHTML = title.textContent;
    }
    
    if (description) {
      description.innerHTML = description.textContent;
    }
  }

  function downloadAsset(assetId) {
    const asset = assets.find(a => a.id == assetId);
    if (asset) {
      // Simulate download
      console.log(`Downloading: ${asset.title}`);
      
      // Create a temporary link for download
      const link = document.createElement('a');
      link.href = asset.downloadLink;
      link.download = `${asset.title.replace(/\s+/g, '_')}.zip`;
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
      
      // Show download confirmation
      showDownloadConfirmation(asset.title);
    }
  }

  function showDownloadConfirmation(assetTitle) {
    // Create confirmation toast
    const toast = document.createElement('div');
    toast.style.cssText = `
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--primary);
      color: #000;
      padding: 1rem 1.5rem;
      border-radius: 8px;
      z-index: 10001;
      animation: slideInRight 0.3s ease;
      font-weight: bold;
    `;
    toast.textContent = `Download started: ${assetTitle}`;
    
    document.body.appendChild(toast);
    
    setTimeout(() => {
      toast.style.animation = 'slideOutRight 0.3s ease';
      setTimeout(() => {
        document.body.removeChild(toast);
      }, 300);
    }, 3000);
  }
}
// =================== ASSETS DATA ===================
const assetsLibrary = [
  {
    id: 1,
    title: "Sci-Fi Helmet Pack",
    description: "High-quality sci-fi helmet models with PBR textures. Perfect for character design in games or animations. Includes 5 unique helmet designs with 4K textures.",
    type: "3d-model",
    category: "character",
    software: ["blender", "maya"],
    fileSize: "45.2 MB",
    fileFormat: "FBX, OBJ, BLEND",
    license: "free",
    price: 0,
    preview: "https://images.unsplash.com/photo-1635070041078-e363dbe005cb?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 1247,
    rating: 4.8,
    tags: ["sci-fi", "helmet", "character", "PBR", "game-ready"],
    features: ["4K Textures", "Rigged", "Game Ready", "Modular"],
    requirements: "Blender 3.0+ or Maya 2022+",
    downloadLink: "#"
  },
  {
    id: 2,
    title: "Procedural Metal Materials",
    description: "20+ procedural metal materials with roughness maps. Compatible with Blender and Substance Painter. Perfect for industrial and sci-fi projects.",
    type: "texture",
    category: "material",
    software: ["blender", "substance"],
    fileSize: "12.7 MB",
    fileFormat: "PNG, EXR",
    license: "free",
    price: 0,
    preview: "https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 892,
    rating: 4.6,
    tags: ["metal", "procedural", "PBR", "material", "texture"],
    features: ["Procedural", "4K Resolution", "Seamless", "PBR Ready"],
    requirements: "Blender or Substance Painter",
    downloadLink: "#"
  },
  {
    id: 3,
    title: "Auto Rigging Pro Addon",
    description: "Blender addon for automatic character rigging with advanced IK/FK controls and facial rig setup. Save hours of manual rigging work.",
    type: "addon",
    category: "tool",
    software: ["blender"],
    fileSize: "3.8 MB",
    fileFormat: "ZIP",
    license: "premium",
    price: 29.99,
    preview: "https://images.unsplash.com/photo-1611224923853-80b023f02d71?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 567,
    rating: 4.9,
    tags: ["rigging", "addon", "blender", "automation", "character"],
    features: ["Auto Rigging", "IK/FK Controls", "Facial Rig", "Python Script"],
    requirements: "Blender 3.0+",
    downloadLink: "#"
  },
  {
    id: 4,
    title: "Fantasy Sword Collection",
    description: "10 unique fantasy sword models with 4K textures and particle effects for game development. Perfect for RPG and fantasy games.",
    type: "3d-model",
    category: "weapon",
    software: ["blender", "maya", "3dsmax"],
    fileSize: "32.1 MB",
    fileFormat: "FBX, BLEND",
    license: "free",
    price: 0,
    preview: "https://images.unsplash.com/photo-1589656966895-2f33e7653819?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 2103,
    rating: 4.7,
    tags: ["fantasy", "sword", "weapon", "game-ready", "PBR"],
    features: ["4K Textures", "Game Ready", "Multiple Styles", "Particle Effects"],
    requirements: "Any 3D software supporting FBX",
    downloadLink: "#"
  },
  {
    id: 5,
    title: "Wood & Concrete Texture Pack",
    description: "Realistic wood and concrete PBR materials with seamless tiling and multiple resolution options. 50+ materials included.",
    type: "texture",
    category: "material",
    software: ["blender", "substance", "maya"],
    fileSize: "28.5 MB",
    fileFormat: "JPG, EXR",
    license: "cc0",
    price: 0,
    preview: "https://images.unsplash.com/photo-1541140532154-b024d705b90a?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 3456,
    rating: 4.5,
    tags: ["wood", "concrete", "PBR", "seamless", "material"],
    features: ["Seamless Tiling", "Multiple Resolutions", "PBR Ready", "50+ Materials"],
    requirements: "Any PBR-compatible software",
    downloadLink: "#"
  },
  {
    id: 6,
    title: "Camera Animation Presets",
    description: "Cinematic camera animation presets for Blender with dolly shots, crane movements, and professional camera transitions.",
    type: "addon",
    category: "animation",
    software: ["blender"],
    fileSize: "1.2 MB",
    fileFormat: "BLEND",
    license: "free",
    price: 0,
    preview: "https://images.unsplash.com/photo-1516035069371-29a1b244cc32?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 789,
    rating: 4.4,
    tags: ["camera", "animation", "presets", "cinematic", "blender"],
    features: ["15 Presets", "Easy to Use", "Cinematic Moves", "Customizable"],
    requirements: "Blender 2.9+",
    downloadLink: "#"
  },
  {
    id: 7,
    title: "Character Creation Toolkit",
    description: "Complete character creation toolkit with base meshes, clothing, and accessories. Perfect for game developers and animators.",
    type: "3d-model",
    category: "character",
    software: ["blender", "maya"],
    fileSize: "78.3 MB",
    fileFormat: "FBX, BLEND, MA",
    license: "premium",
    price: 49.99,
    preview: "https://images.unsplash.com/photo-1578662996442-48f60103fc96?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 423,
    rating: 4.9,
    tags: ["character", "toolkit", "base-mesh", "clothing", "accessories"],
    features: ["Base Meshes", "Clothing", "Accessories", "Rigged", "Game Ready"],
    requirements: "Blender or Maya",
    downloadLink: "#"
  },
  {
    id: 8,
    title: "Procedural Nature Pack",
    description: "Create stunning natural environments with this procedural nature pack. Includes trees, rocks, and terrain materials.",
    type: "material",
    category: "nature",
    software: ["blender"],
    fileSize: "15.8 MB",
    fileFormat: "BLEND",
    license: "free",
    price: 0,
    preview: "https://images.unsplash.com/photo-1618005198919-d3d4b5a92ead?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 1567,
    rating: 4.6,
    tags: ["nature", "procedural", "environment", "terrain", "trees"],
    features: ["Procedural Generation", "Multiple Biomes", "Customizable", "Real-time"],
    requirements: "Blender 3.0+",
    downloadLink: "#"
  }
];

// Tambahkan kode ini ke dalam array assetsLibrary yang sudah ada

const additionalAssets = [
  {
    id: 9,
    title: "Low Poly Nature Pack",
    description: "Stylized low poly trees, rocks, and plants perfect for mobile games and stylized scenes.",
    type: "3d-model",
    category: "nature",
    software: ["blender", "maya"],
    fileSize: "18.5 MB",
    fileFormat: "FBX, OBJ",
    license: "free",
    price: 0,
    preview: "https://images.unsplash.com/photo-1574263867128-a3d5c1b1deae?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 2156,
    rating: 4.7,
    tags: ["low-poly", "nature", "stylized", "mobile", "game-ready"],
    features: ["Optimized for Mobile", "Low Poly Count", "Stylized Textures", "Multiple Variations"],
    requirements: "Any 3D software",
    downloadLink: "#"
  },
  {
    id: 10,
    title: "Cyberpunk UI Elements",
    description: "Collection of futuristic UI elements and HUD components for cyberpunk games and animations.",
    type: "2d-asset",
    category: "ui",
    software: ["photoshop", "after-effects"],
    fileSize: "8.3 MB",
    fileFormat: "PSD, AI, AE",
    license: "free",
    price: 0,
    preview: "https://images.unsplash.com/photo-1550745165-9bc0b252726f?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 1890,
    rating: 4.6,
    tags: ["cyberpunk", "ui", "hud", "futuristic", "interface"],
    features: ["Layered PSD Files", "After Effects Templates", "Customizable Colors", "High Resolution"],
    requirements: "Photoshop or After Effects",
    downloadLink: "#"
  },
  {
    id: 11,
    title: "Modular Sci-Fi Corridor",
    description: "Modular sci-fi corridor pieces for building spaceship interiors and futuristic environments.",
    type: "3d-model",
    category: "environment",
    software: ["blender", "maya"],
    fileSize: "52.7 MB",
    fileFormat: "FBX, BLEND",
    license: "premium",
    price: 24.99,
    preview: "https://images.unsplash.com/photo-1446776653964-20c1d3a81b06?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 678,
    rating: 4.8,
    tags: ["sci-fi", "modular", "corridor", "spaceship", "environment"],
    features: ["Modular Pieces", "PBR Textures", "Lighting Setup", "Multiple Variations"],
    requirements: "Blender or Maya",
    downloadLink: "#"
  },
  {
    id: 12,
    title: "Character Animation Pack",
    description: "50+ professional character animations including walk cycles, runs, jumps, and combat moves.",
    type: "animation",
    category: "character",
    software: ["blender", "maya"],
    fileSize: "34.2 MB",
    fileFormat: "FBX, BLEND",
    license: "premium",
    price: 39.99,
    preview: "https://images.unsplash.com/photo-1533237264986-6411cd49817a?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 892,
    rating: 4.9,
    tags: ["animation", "character", "mocap", "game-ready", "humanoid"],
    features: ["Motion Capture Data", "Game Ready", "Humanoid Rig", "Smooth Transitions"],
    requirements: "Blender or Maya with humanoid rig",
    downloadLink: "#"
  },
  {
    id: 13,
    title: "Procedural Sky System",
    description: "Dynamic procedural sky system with day-night cycle, weather effects, and realistic atmospheric scattering.",
    type: "addon",
    category: "environment",
    software: ["blender"],
    fileSize: "5.1 MB",
    fileFormat: "BLEND",
    license: "free",
    price: 0,
    preview: "https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 3421,
    rating: 4.7,
    tags: ["sky", "procedural", "weather", "day-night", "atmosphere"],
    features: ["Day-Night Cycle", "Weather Effects", "Realistic Lighting", "Customizable"],
    requirements: "Blender 3.0+",
    downloadLink: "#"
  },
  {
    id: 14,
    title: "Medieval Village Pack",
    description: "Complete medieval village environment with buildings, props, and foliage for RPG games.",
    type: "3d-model",
    category: "environment",
    software: ["blender", "maya", "3dsmax"],
    fileSize: "87.3 MB",
    fileFormat: "FBX, BLEND",
    license: "premium",
    price: 49.99,
    preview: "https://images.unsplash.com/photo-1519681393784-d120267933ba?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 523,
    rating: 4.8,
    tags: ["medieval", "village", "rpg", "environment", "buildings"],
    features: ["Complete Village", "PBR Textures", "Modular Buildings", "Optimized for Games"],
    requirements: "Any 3D software",
    downloadLink: "#"
  },
  {
    id: 15,
    title: "Water Shader Pack",
    description: "Collection of realistic water shaders for oceans, lakes, rivers, and pools with dynamic waves.",
    type: "material",
    category: "shader",
    software: ["blender", "unity", "unreal"],
    fileSize: "9.8 MB",
    fileFormat: "BLEND, UNITYPACKAGE, UASSET",
    license: "premium",
    price: 19.99,
    preview: "https://images.unsplash.com/photo-1505142468610-359e7d316be0?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 1245,
    rating: 4.6,
    tags: ["water", "shader", "ocean", "realistic", "dynamic"],
    features: ["Multiple Water Types", "Dynamic Waves", "Realistic Reflections", "Performance Optimized"],
    requirements: "Blender, Unity, or Unreal Engine",
    downloadLink: "#"
  },
  {
    id: 16,
    title: "Facial Animation Rig",
    description: "Advanced facial animation rig with blend shapes, phoneme shapes, and emotional expressions.",
    type: "rig",
    category: "character",
    software: ["blender", "maya"],
    fileSize: "12.4 MB",
    fileFormat: "BLEND, MA",
    license: "premium",
    price: 34.99,
    preview: "https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 456,
    rating: 4.9,
    tags: ["facial", "animation", "rig", "blendshapes", "phonemes"],
    features: ["Blend Shapes", "Phoneme Shapes", "Emotional Expressions", "Easy to Use"],
    requirements: "Blender or Maya",
    downloadLink: "#"
  },
  {
    id: 17,
    title: "Particle Effects Pack",
    description: "Collection of 30+ particle effects including fire, smoke, magic, and explosions.",
    type: "effect",
    category: "vfx",
    software: ["blender", "after-effects"],
    fileSize: "22.7 MB",
    fileFormat: "BLEND, AEP",
    license: "free",
    price: 0,
    preview: "https://images.unsplash.com/photo-1614732414444-096e5f1122d5?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 2789,
    rating: 4.5,
    tags: ["particles", "effects", "vfx", "fire", "smoke"],
    features: ["30+ Effects", "Customizable", "High Performance", "Multiple Resolutions"],
    requirements: "Blender or After Effects",
    downloadLink: "#"
  },
  {
    id: 18,
    title: "Modular Character System",
    description: "Complete modular character system with interchangeable body parts, clothing, and accessories.",
    type: "3d-model",
    category: "character",
    software: ["blender", "maya"],
    fileSize: "65.8 MB",
    fileFormat: "FBX, BLEND",
    license: "premium",
    price: 59.99,
    preview: "https://images.unsplash.com/photo-1531746020798-e6953c6e8e04?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 389,
    rating: 4.8,
    tags: ["modular", "character", "customizable", "game-ready", "rpg"],
    features: ["Interchangeable Parts", "Multiple Body Types", "Customizable Clothing", "Game Ready"],
    requirements: "Blender or Maya",
    downloadLink: "#"
  },
  {
    id: 19,
    title: "Procedural Terrain Generator",
    description: "Advanced procedural terrain generator with erosion, biomes, and realistic landscape creation.",
    type: "addon",
    category: "environment",
    software: ["blender"],
    fileSize: "7.3 MB",
    fileFormat: "PY",
    license: "premium",
    price: 29.99,
    preview: "https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 934,
    rating: 4.7,
    tags: ["terrain", "procedural", "generator", "erosion", "biomes"],
    features: ["Procedural Generation", "Erosion Simulation", "Multiple Biomes", "Customizable Parameters"],
    requirements: "Blender 3.0+",
    downloadLink: "#"
  },
  {
    id: 20,
    title: "Stylized Toon Shader",
    description: "Non-photorealistic toon shader with outline effects and customizable color ramps.",
    type: "shader",
    category: "material",
    software: ["blender", "unity"],
    fileSize: "3.2 MB",
    fileFormat: "BLEND, UNITYPACKAGE",
    license: "free",
    price: 0,
    preview: "https://images.unsplash.com/photo-1579546929662-711aa81148cf?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 1892,
    rating: 4.6,
    tags: ["toon", "shader", "stylized", "npr", "outline"],
    features: ["Outline Effects", "Customizable Colors", "Multiple Styles", "Real-time Performance"],
    requirements: "Blender or Unity",
    downloadLink: "#"
  },
  {
    id: 21,
    title: "Vehicle Physics Script",
    description: "Advanced vehicle physics script for realistic car handling, suspension, and driving mechanics.",
    type: "script",
    category: "game-dev",
    software: ["unity", "unreal"],
    fileSize: "2.1 MB",
    fileFormat: "CS, CPP",
    license: "premium",
    price: 24.99,
    preview: "https://images.unsplash.com/photo-1549317661-bd32c8ce0db2?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 756,
    rating: 4.8,
    tags: ["vehicle", "physics", "script", "driving", "realistic"],
    features: ["Realistic Physics", "Customizable Parameters", "Multiple Vehicle Types", "Performance Optimized"],
    requirements: "Unity or Unreal Engine",
    downloadLink: "#"
  },
  {
    id: 22,
    title: "Modular UI Kit",
    description: "Complete modular UI kit with buttons, panels, sliders, and icons for game interfaces.",
    type: "2d-asset",
    category: "ui",
    software: ["photoshop", "illustrator"],
    fileSize: "15.7 MB",
    fileFormat: "PSD, AI, SVG",
    license: "free",
    price: 0,
    preview: "https://images.unsplash.com/photo-1551650975-87deedd944c3?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 2341,
    rating: 4.5,
    tags: ["ui", "kit", "modular", "interface", "game"],
    features: ["Modular Components", "Multiple Styles", "Vector Format", "Customizable Colors"],
    requirements: "Photoshop or Illustrator",
    downloadLink: "#"
  },
  {
    id: 23,
    title: "Dynamic Weather System",
    description: "Complete dynamic weather system with rain, snow, fog, and storms with smooth transitions.",
    type: "addon",
    category: "environment",
    software: ["unity", "unreal"],
    fileSize: "18.9 MB",
    fileFormat: "UNITYPACKAGE, UASSET",
    license: "premium",
    price: 39.99,
    preview: "https://images.unsplash.com/photo-1504608524841-42fe6f032b4b?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 623,
    rating: 4.7,
    tags: ["weather", "dynamic", "rain", "snow", "system"],
    features: ["Multiple Weather Types", "Smooth Transitions", "Performance Optimized", "Customizable"],
    requirements: "Unity or Unreal Engine",
    downloadLink: "#"
  },
  {
    id: 24,
    title: "Procedural Building Generator",
    description: "Generate infinite variations of buildings with procedural rules and customizable parameters.",
    type: "addon",
    category: "environment",
    software: ["blender", "houdini"],
    fileSize: "11.2 MB",
    fileFormat: "BLEND, HIP",
    license: "premium",
    price: 34.99,
    preview: "https://images.unsplash.com/photo-1487958449943-2429e8be8625?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 478,
    rating: 4.6,
    tags: ["procedural", "building", "generator", "architecture", "city"],
    features: ["Infinite Variations", "Customizable Rules", "Multiple Styles", "Performance Optimized"],
    requirements: "Blender or Houdini",
    downloadLink: "#"
  },
  {
    id: 25,
    title: "Character Sound Pack",
    description: "Collection of character sounds including footsteps, jumps, landings, and vocal expressions.",
    type: "audio",
    category: "sound",
    software: ["any"],
    fileSize: "45.3 MB",
    fileFormat: "WAV, MP3",
    license: "free",
    price: 0,
    preview: "https://images.unsplash.com/photo-1511379938547-c1f69419868d?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 1892,
    rating: 4.4,
    tags: ["sound", "audio", "character", "footsteps", "vocals"],
    features: ["Multiple Surfaces", "Various Emotions", "High Quality", "Royalty Free"],
    requirements: "Any audio software",
    downloadLink: "#"
  },
  {
    id: 26,
    title: "Advanced Cloth Simulation",
    description: "Realistic cloth simulation system with wind, collision, and dynamic material properties.",
    type: "addon",
    category: "simulation",
    software: ["blender", "maya"],
    fileSize: "8.7 MB",
    fileFormat: "BLEND, MA",
    license: "premium",
    price: 29.99,
    preview: "https://images.unsplash.com/photo-1441984904996-e0b6ba687e04?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 567,
    rating: 4.8,
    tags: ["cloth", "simulation", "realistic", "dynamic", "fabric"],
    features: ["Realistic Physics", "Wind Simulation", "Collision Detection", "Multiple Fabric Types"],
    requirements: "Blender or Maya",
    downloadLink: "#"
  },
  {
    id: 27,
    title: "Modular Weapon System",
    description: "Complete modular weapon system with interchangeable parts, attachments, and customization.",
    type: "3d-model",
    category: "weapon",
    software: ["blender", "maya"],
    fileSize: "38.9 MB",
    fileFormat: "FBX, BLEND",
    license: "premium",
    price: 44.99,
    preview: "https://images.unsplash.com/photo-1589656966895-2f33e7653819?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 723,
    rating: 4.7,
    tags: ["weapon", "modular", "firearms", "customizable", "game-ready"],
    features: ["Interchangeable Parts", "Multiple Weapon Types", "PBR Textures", "Game Ready"],
    requirements: "Blender or Maya",
    downloadLink: "#"
  },
  {
    id: 28,
    title: "Procedural Vegetation Pack",
    description: "Generate realistic vegetation with procedural rules for forests, meadows, and jungles.",
    type: "addon",
    category: "nature",
    software: ["blender", "houdini"],
    fileSize: "14.5 MB",
    fileFormat: "BLEND, HIP",
    license: "premium",
    price: 27.99,
    preview: "https://images.unsplash.com/photo-1441974231531-c6227db76b6e?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 612,
    rating: 4.6,
    tags: ["vegetation", "procedural", "plants", "trees", "nature"],
    features: ["Procedural Generation", "Multiple Biomes", "Realistic Distribution", "Performance Optimized"],
    requirements: "Blender or Houdini",
    downloadLink: "#"
  },
  {
    id: 29,
    title: "Realistic Eye Shader",
    description: "Advanced eye shader with realistic refraction, moisture, and dynamic reflections.",
    type: "shader",
    category: "material",
    software: ["blender", "maya"],
    fileSize: "2.8 MB",
    fileFormat: "BLEND, MA",
    license: "free",
    price: 0,
    preview: "https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 1789,
    rating: 4.7,
    tags: ["eye", "shader", "realistic", "refraction", "character"],
    features: ["Realistic Refraction", "Dynamic Reflections", "Moisture Effects", "Customizable Colors"],
    requirements: "Blender or Maya",
    downloadLink: "#"
  },
  {
    id: 30,
    title: "Modular Sci-Fi Props",
    description: "Collection of modular sci-fi props including consoles, computers, and futuristic furniture.",
    type: "3d-model",
    category: "prop",
    software: ["blender", "maya"],
    fileSize: "29.6 MB",
    fileFormat: "FBX, BLEND",
    license: "free",
    price: 0,
    preview: "https://images.unsplash.com/photo-1446776653964-20c1d3a81b06?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 1567,
    rating: 4.5,
    tags: ["sci-fi", "props", "modular", "futuristic", "environment"],
    features: ["Modular Design", "PBR Textures", "Multiple Variations", "Game Ready"],
    requirements: "Blender or Maya",
    downloadLink: "#"
  },
  {
    id: 31,
    title: "Advanced Lighting Setup",
    description: "Professional lighting setups for various scenarios including studio, outdoor, and cinematic scenes.",
    type: "scene",
    category: "lighting",
    software: ["blender", "maya"],
    fileSize: "6.3 MB",
    fileFormat: "BLEND, MA",
    license: "free",
    price: 0,
    preview: "https://images.unsplash.com/photo-1518709268805-4e9042af2176?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 2341,
    rating: 4.6,
    tags: ["lighting", "setup", "professional", "cinematic", "studio"],
    features: ["Multiple Setups", "Optimized Settings", "Realistic Results", "Easy to Use"],
    requirements: "Blender or Maya",
    downloadLink: "#"
  },
  {
    id: 32,
    title: "Procedural Damage System",
    description: "Dynamic damage system for vehicles, buildings, and characters with realistic destruction effects.",
    type: "addon",
    category: "vfx",
    software: ["unity", "unreal"],
    fileSize: "12.8 MB",
    fileFormat: "UNITYPACKAGE, UASSET",
    license: "premium",
    price: 49.99,
    preview: "https://images.unsplash.com/photo-1614732414444-096e5f1122d5?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 389,
    rating: 4.8,
    tags: ["damage", "destruction", "procedural", "realistic", "vfx"],
    features: ["Dynamic Damage", "Realistic Destruction", "Performance Optimized", "Customizable"],
    requirements: "Unity or Unreal Engine",
    downloadLink: "#"
  },
  {
    id: 33,
    title: "Character Morph Targets",
    description: "Collection of character morph targets for facial expressions, body shapes, and customization.",
    type: "3d-model",
    category: "character",
    software: ["blender", "maya"],
    fileSize: "24.7 MB",
    fileFormat: "BLEND, MA",
    license: "premium",
    price: 32.99,
    preview: "https://images.unsplash.com/photo-1533237264986-6411cd49817a?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 512,
    rating: 4.7,
    tags: ["morph", "character", "expressions", "customization", "blendshapes"],
    features: ["Multiple Expressions", "Body Shapes", "Easy to Use", "Compatible with Most Rigs"],
    requirements: "Blender or Maya",
    downloadLink: "#"
  },
  {
    id: 34,
    title: "Realistic Water Caustics",
    description: "High-quality water caustics textures and shaders for realistic underwater lighting effects.",
    type: "texture",
    category: "material",
    software: ["blender", "unity", "unreal"],
    fileSize: "16.2 MB",
    fileFormat: "EXR, PNG",
    license: "free",
    price: 0,
    preview: "https://images.unsplash.com/photo-1505142468610-359e7d316be0?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 1678,
    rating: 4.5,
    tags: ["water", "caustics", "underwater", "lighting", "realistic"],
    features: ["High Resolution", "Multiple Variations", "Seamless Tiling", "Realistic Results"],
    requirements: "Any 3D software",
    downloadLink: "#"
  },
  {
    id: 35,
    title: "Advanced Post-Processing",
    description: "Collection of post-processing effects including color grading, bloom, and cinematic filters.",
    type: "addon",
    category: "vfx",
    software: ["blender", "after-effects"],
    fileSize: "9.4 MB",
    fileFormat: "BLEND, AEP",
    license: "premium",
    price: 19.99,
    preview: "https://images.unsplash.com/photo-1579546929662-711aa81148cf?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 892,
    rating: 4.6,
    tags: ["post-processing", "color-grading", "effects", "cinematic", "filters"],
    features: ["Multiple Effects", "Customizable Parameters", "Real-time Preview", "Professional Quality"],
    requirements: "Blender or After Effects",
    downloadLink: "#"
  },
  {
    id: 36,
    title: "Modular Space Station",
    description: "Complete modular space station with corridors, rooms, and futuristic technology props.",
    type: "3d-model",
    category: "environment",
    software: ["blender", "maya"],
    fileSize: "72.5 MB",
    fileFormat: "FBX, BLEND",
    license: "premium",
    price: 54.99,
    preview: "https://images.unsplash.com/photo-1446776653964-20c1d3a81b06?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 423,
    rating: 4.8,
    tags: ["space", "station", "modular", "sci-fi", "futuristic"],
    features: ["Modular Design", "PBR Textures", "Complete Environment", "Game Ready"],
    requirements: "Blender or Maya",
    downloadLink: "#"
  },
  {
    id: 37,
    title: "Procedural Road Generator",
    description: "Generate realistic roads and highways with procedural rules and customizable parameters.",
    type: "addon",
    category: "environment",
    software: ["blender", "houdini"],
    fileSize: "8.9 MB",
    fileFormat: "BLEND, HIP",
    license: "premium",
    price: 27.99,
    preview: "https://images.unsplash.com/photo-1549317661-bd32c8ce0db2?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 567,
    rating: 4.6,
    tags: ["road", "procedural", "generator", "highway", "city"],
    features: ["Procedural Generation", "Multiple Road Types", "Realistic Textures", "Performance Optimized"],
    requirements: "Blender or Houdini",
    downloadLink: "#"
  },
  {
    id: 38,
    title: "Character LOD Generator",
    description: "Automatically generate LOD (Level of Detail) models for characters with optimized polygon counts.",
    type: "addon",
    category: "tool",
    software: ["blender", "maya"],
    fileSize: "4.2 MB",
    fileFormat: "PY, MEL",
    license: "free",
    price: 0,
    preview: "https://images.unsplash.com/photo-1533237264986-6411cd49817a?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 1789,
    rating: 4.5,
    tags: ["lod", "optimization", "character", "automation", "game-ready"],
    features: ["Automatic Generation", "Customizable Levels", "Quality Preservation", "Performance Optimized"],
    requirements: "Blender or Maya",
    downloadLink: "#"
  },
  {
    id: 39,
    title: "Realistic Skin Shader",
    description: "Advanced skin shader with subsurface scattering, pores, and realistic material properties.",
    type: "shader",
    category: "material",
    software: ["blender", "maya"],
    fileSize: "5.7 MB",
    fileFormat: "BLEND, MA",
    license: "premium",
    price: 29.99,
    preview: "https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 734,
    rating: 4.8,
    tags: ["skin", "shader", "realistic", "subsurface", "character"],
    features: ["Subsurface Scattering", "Pore Details", "Multiple Skin Tones", "Realistic Results"],
    requirements: "Blender or Maya",
    downloadLink: "#"
  },
  {
    id: 40,
    title: "Modular Fantasy Props",
    description: "Collection of modular fantasy props including treasure, potions, and magical artifacts.",
    type: "3d-model",
    category: "prop",
    software: ["blender", "maya"],
    fileSize: "26.8 MB",
    fileFormat: "FBX, BLEND",
    license: "free",
    price: 0,
    preview: "https://images.unsplash.com/photo-1519681393784-d120267933ba?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 1456,
    rating: 4.5,
    tags: ["fantasy", "props", "modular", "magical", "rpg"],
    features: ["Modular Design", "PBR Textures", "Multiple Variations", "Game Ready"],
    requirements: "Blender or Maya",
    downloadLink: "#"
  },
  {
    id: 41,
    title: "Advanced Camera Rig",
    description: "Professional camera rig with cinematic movements, depth of field, and camera shake effects.",
    type: "rig",
    category: "camera",
    software: ["blender", "maya"],
    fileSize: "3.9 MB",
    fileFormat: "BLEND, MA",
    license: "free",
    price: 0,
    preview: "https://images.unsplash.com/photo-1516035069371-29a1b244cc32?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 1987,
    rating: 4.6,
    tags: ["camera", "rig", "cinematic", "movement", "professional"],
    features: ["Cinematic Movements", "Depth of Field", "Camera Shake", "Easy to Use"],
    requirements: "Blender or Maya",
    downloadLink: "#"
  },
  {
    id: 42,
    title: "Procedural Snow System",
    description: "Dynamic snow system with accumulation, melting, and realistic material properties.",
    type: "addon",
    category: "environment",
    software: ["unity", "unreal"],
    fileSize: "11.3 MB",
    fileFormat: "UNITYPACKAGE, UASSET",
    license: "premium",
    price: 24.99,
    preview: "https://images.unsplash.com/photo-1548777123-e216912df7d8?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 489,
    rating: 4.7,
    tags: ["snow", "procedural", "weather", "accumulation", "realistic"],
    features: ["Dynamic Accumulation", "Melting Effects", "Realistic Materials", "Performance Optimized"],
    requirements: "Unity or Unreal Engine",
    downloadLink: "#"
  },
  {
    id: 43,
    title: "Character Animation Retargeting",
    description: "Tool for retargeting animations between different character rigs with accurate results.",
    type: "addon",
    category: "animation",
    software: ["blender", "maya"],
    fileSize: "6.8 MB",
    fileFormat: "PY, MEL",
    license: "premium",
    price: 34.99,
    preview: "https://images.unsplash.com/photo-1533237264986-6411cd49817a?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 356,
    rating: 4.8,
    tags: ["animation", "retargeting", "character", "tool", "automation"],
    features: ["Accurate Retargeting", "Multiple Rig Types", "Quality Preservation", "Easy to Use"],
    requirements: "Blender or Maya",
    downloadLink: "#"
  },
  {
    id: 44,
    title: "Realistic Fire Shader",
    description: "Advanced fire shader with dynamic flames, smoke, and realistic lighting effects.",
    type: "shader",
    category: "material",
    software: ["blender", "unity", "unreal"],
    fileSize: "7.2 MB",
    fileFormat: "BLEND, UNITYPACKAGE, UASSET",
    license: "free",
    price: 0,
    preview: "https://images.unsplash.com/photo-1614732414444-096e5f1122d5?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 1678,
    rating: 4.6,
    tags: ["fire", "shader", "realistic", "flames", "vfx"],
    features: ["Dynamic Flames", "Smoke Effects", "Realistic Lighting", "Performance Optimized"],
    requirements: "Blender, Unity, or Unreal Engine",
    downloadLink: "#"
  },
  {
    id: 45,
    title: "Modular City Pack",
    description: "Complete modular city environment with buildings, streets, and urban props.",
    type: "3d-model",
    category: "environment",
    software: ["blender", "maya"],
    fileSize: "89.4 MB",
    fileFormat: "FBX, BLEND",
    license: "premium",
    price: 59.99,
    preview: "https://images.unsplash.com/photo-1449824913935-59a10b8d2000?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 467,
    rating: 4.7,
    tags: ["city", "modular", "urban", "buildings", "environment"],
    features: ["Modular Design", "PBR Textures", "Complete City", "Game Ready"],
    requirements: "Blender or Maya",
    downloadLink: "#"
  },
  {
    id: 46,
    title: "Procedural Cloud Generator",
    description: "Generate realistic clouds with procedural rules and customizable weather conditions.",
    type: "addon",
    category: "environment",
    software: ["blender", "houdini"],
    fileSize: "10.1 MB",
    fileFormat: "BLEND, HIP",
    license: "premium",
    price: 29.99,
    preview: "https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 612,
    rating: 4.6,
    tags: ["clouds", "procedural", "weather", "sky", "realistic"],
    features: ["Procedural Generation", "Multiple Cloud Types", "Realistic Distribution", "Performance Optimized"],
    requirements: "Blender or Houdini",
    downloadLink: "#"
  },
  {
    id: 47,
    title: "Character Physics Setup",
    description: "Advanced physics setup for characters including hair, clothing, and dynamic body parts.",
    type: "rig",
    category: "character",
    software: ["blender", "maya"],
    fileSize: "8.5 MB",
    fileFormat: "BLEND, MA",
    license: "premium",
    price: 32.99,
    preview: "https://images.unsplash.com/photo-1533237264986-6411cd49817a?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 523,
    rating: 4.8,
    tags: ["physics", "character", "dynamic", "hair", "clothing"],
    features: ["Hair Simulation", "Cloth Physics", "Dynamic Body Parts", "Realistic Results"],
    requirements: "Blender or Maya",
    downloadLink: "#"
  },
  {
    id: 48,
    title: "Realistic Metal Shader",
    description: "Advanced metal shader with realistic reflections, scratches, and material variations.",
    type: "shader",
    category: "material",
    software: ["blender", "maya"],
    fileSize: "4.3 MB",
    fileFormat: "BLEND, MA",
    license: "free",
    price: 0,
    preview: "https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 1890,
    rating: 4.5,
    tags: ["metal", "shader", "realistic", "reflections", "material"],
    features: ["Realistic Reflections", "Surface Imperfections", "Multiple Metal Types", "Customizable"],
    requirements: "Blender or Maya",
    downloadLink: "#"
  },
  {
    id: 49,
    title: "Modular Interior Pack",
    description: "Collection of modular interior pieces for building rooms, offices, and living spaces.",
    type: "3d-model",
    category: "environment",
    software: ["blender", "maya"],
    fileSize: "41.7 MB",
    fileFormat: "FBX, BLEND",
    license: "free",
    price: 0,
    preview: "https://images.unsplash.com/photo-1493663284031-b7e3aefcae8e?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 1567,
    rating: 4.5,
    tags: ["interior", "modular", "furniture", "rooms", "environment"],
    features: ["Modular Design", "PBR Textures", "Multiple Styles", "Game Ready"],
    requirements: "Blender or Maya",
    downloadLink: "#"
  },
  {
    id: 50,
    title: "Procedural Animation System",
    description: "Dynamic animation system with procedural movements, physics, and natural behaviors.",
    type: "addon",
    category: "animation",
    software: ["unity", "unreal"],
    fileSize: "13.6 MB",
    fileFormat: "UNITYPACKAGE, UASSET",
    license: "premium",
    price: 44.99,
    preview: "https://images.unsplash.com/photo-1533237264986-6411cd49817a?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 389,
    rating: 4.7,
    tags: ["animation", "procedural", "dynamic", "natural", "system"],
    features: ["Procedural Movements", "Physics Integration", "Natural Behaviors", "Performance Optimized"],
    requirements: "Unity or Unreal Engine",
    downloadLink: "#"
  },
  {
    id: 51,
    title: "Realistic Glass Shader",
    description: "Advanced glass shader with realistic refraction, reflections, and material properties.",
    type: "shader",
    category: "material",
    software: ["blender", "maya"],
    fileSize: "3.7 MB",
    fileFormat: "BLEND, MA",
    license: "free",
    price: 0,
    preview: "https://images.unsplash.com/photo-1549388606-f4e96e4e1e10?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 1789,
    rating: 4.6,
    tags: ["glass", "shader", "realistic", "refraction", "transparent"],
    features: ["Realistic Refraction", "Dynamic Reflections", "Multiple Glass Types", "Customizable"],
    requirements: "Blender or Maya",
    downloadLink: "#"
  },
  {
    id: 52,
    title: "Modular Vehicle System",
    description: "Complete modular vehicle system with interchangeable parts, customization, and physics.",
    type: "3d-model",
    category: "vehicle",
    software: ["blender", "maya"],
    fileSize: "67.3 MB",
    fileFormat: "FBX, BLEND",
    license: "premium",
    price: 49.99,
    preview: "https://images.unsplash.com/photo-1549317661-bd32c8ce0db2?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 456,
    rating: 4.8,
    tags: ["vehicle", "modular", "customizable", "cars", "system"],
    features: ["Interchangeable Parts", "Multiple Vehicle Types", "PBR Textures", "Game Ready"],
    requirements: "Blender or Maya",
    downloadLink: "#"
  },
  {
    id: 53,
    title: "Procedural Foliage Generator",
    description: "Generate realistic foliage with procedural rules for forests, gardens, and natural environments.",
    type: "addon",
    category: "nature",
    software: ["blender", "houdini"],
    fileSize: "12.4 MB",
    fileFormat: "BLEND, HIP",
    license: "premium",
    price: 27.99,
    preview: "https://images.unsplash.com/photo-1441974231531-c6227db76b6e?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 567,
    rating: 4.6,
    tags: ["foliage", "procedural", "plants", "nature", "environment"],
    features: ["Procedural Generation", "Multiple Plant Types", "Realistic Distribution", "Performance Optimized"],
    requirements: "Blender or Houdini",
    downloadLink: "#"
  },
  {
    id: 54,
    title: "Character Lip Sync Tool",
    description: "Automated lip sync tool for character animation with phoneme detection and mouth shapes.",
    type: "addon",
    category: "animation",
    software: ["blender", "maya"],
    fileSize: "5.9 MB",
    fileFormat: "PY, MEL",
    license: "premium",
    price: 34.99,
    preview: "https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 423,
    rating: 4.7,
    tags: ["lip-sync", "animation", "phoneme", "automation", "character"],
    features: ["Automatic Detection", "Phoneme Mapping", "Customizable Timing", "Easy to Use"],
    requirements: "Blender or Maya",
    downloadLink: "#"
  },
  {
    id: 55,
    title: "Realistic Fabric Shader",
    description: "Advanced fabric shader with realistic material properties, wrinkles, and dynamic folding.",
    type: "shader",
    category: "material",
    software: ["blender", "maya"],
    fileSize: "6.1 MB",
    fileFormat: "BLEND, MA",
    license: "free",
    price: 0,
    preview: "https://images.unsplash.com/photo-1441984904996-e0b6ba687e04?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 1678,
    rating: 4.5,
    tags: ["fabric", "shader", "realistic", "cloth", "material"],
    features: ["Realistic Material Properties", "Surface Details", "Multiple Fabric Types", "Customizable"],
    requirements: "Blender or Maya",
    downloadLink: "#"
  },
  {
    id: 56,
    title: "Modular Space Pack",
    description: "Complete modular space environment with planets, asteroids, and celestial objects.",
    type: "3d-model",
    category: "environment",
    software: ["blender", "maya"],
    fileSize: "78.9 MB",
    fileFormat: "FBX, BLEND",
    license: "premium",
    price: 54.99,
    preview: "https://images.unsplash.com/photo-1446776653964-20c1d3a81b06?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 389,
    rating: 4.8,
    tags: ["space", "modular", "planets", "asteroids", "environment"],
    features: ["Modular Design", "PBR Textures", "Complete Space Environment", "Game Ready"],
    requirements: "Blender or Maya",
    downloadLink: "#"
  },
  {
    id: 57,
    title: "Procedural Animation Tool",
    description: "Tool for creating procedural animations with physics, randomness, and natural movements.",
    type: "addon",
    category: "animation",
    software: ["blender", "maya"],
    fileSize: "7.8 MB",
    fileFormat: "PY, MEL",
    license: "premium",
    price: 29.99,
    preview: "https://images.unsplash.com/photo-1533237264986-6411cd49817a?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 456,
    rating: 4.7,
    tags: ["animation", "procedural", "physics", "natural", "tool"],
    features: ["Procedural Generation", "Physics Integration", "Natural Movements", "Customizable"],
    requirements: "Blender or Maya",
    downloadLink: "#"
  },
  {
    id: 58,
    title: "Realistic Water Shader",
    description: "Advanced water shader with realistic waves, reflections, and underwater effects.",
    type: "shader",
    category: "material",
    software: ["blender", "maya"],
    fileSize: "8.2 MB",
    fileFormat: "BLEND, MA",
    license: "free",
    price: 0,
    preview: "https://images.unsplash.com/photo-1505142468610-359e7d316be0?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400&q=80",
    downloads: 1890,
    rating: 4.6,
    tags: ["water", "shader", "realistic", "waves", "reflections"],
    features: ["Realistic Waves", "Dynamic Reflections", "Underwater Effects", "Customizable"],
    requirements: "Blender or Maya",
    downloadLink: "#"
  }
];

// Gabungkan dengan assets yang sudah ada
assetsLibrary.push(...additionalAssets);

// =================== ASSETS LIBRARY FUNCTIONALITY ===================
function initializeAssetsLibrary() {
  const assetsGrid = document.getElementById('assetsGrid');
  const searchInput = document.getElementById('assetSearch');
  const categoryFilter = document.getElementById('assetCategory');
  const softwareFilter = document.getElementById('assetSoftware');
  const licenseFilter = document.getElementById('assetLicense');
  const loadMoreBtn = document.getElementById('loadMoreAssets');
  
  let currentPage = 1;
  const itemsPerPage = 6;
  let filteredAssets = [...assetsLibrary];

  // Initialize
  updateStats();
  displayAssets();
  setupEventListeners();

  function setupEventListeners() {
    searchInput.addEventListener('input', handleSearch);
    categoryFilter.addEventListener('change', filterAssets);
    softwareFilter.addEventListener('change', filterAssets);
    licenseFilter.addEventListener('change', filterAssets);
    loadMoreBtn.addEventListener('click', loadMoreAssets);
  }

  function handleSearch(e) {
    const searchTerm = e.target.value.toLowerCase().trim();
    filterAssets();
    
    if (searchTerm) {
      filteredAssets = filteredAssets.filter(asset => 
        asset.title.toLowerCase().includes(searchTerm) ||
        asset.description.toLowerCase().includes(searchTerm) ||
        asset.tags.some(tag => tag.toLowerCase().includes(searchTerm))
      );
    }
    
    currentPage = 1;
    displayAssets();
  }

  function filterAssets() {
    const category = categoryFilter.value;
    const software = softwareFilter.value;
    const license = licenseFilter.value;
    
    filteredAssets = assetsLibrary.filter(asset => {
      const categoryMatch = category === 'all' || asset.type === category;
      const softwareMatch = software === 'all' || asset.software.includes(software);
      const licenseMatch = license === 'all' || asset.license === license;
      
      return categoryMatch && softwareMatch && licenseMatch;
    });
    
    currentPage = 1;
    displayAssets();
  }

  function displayAssets() {
    const startIndex = 0;
    const endIndex = currentPage * itemsPerPage;
    const assetsToShow = filteredAssets.slice(startIndex, endIndex);
    
    assetsGrid.innerHTML = assetsToShow.map(asset => `
      <div class="asset-library-card" data-asset-id="${asset.id}">
        <div class="asset-preview-container">
          <img src="${asset.preview}" alt="${asset.title}" class="asset-preview">
          <span class="asset-badge ${asset.license}">${asset.license.toUpperCase()}</span>
        </div>
        <div class="asset-content">
          <h3 class="asset-title">${asset.title}</h3>
          <p class="asset-description">${asset.description}</p>
          
          <div class="asset-meta">
            <span class="asset-type">${asset.type}</span>
            <span class="asset-file-size">${asset.fileSize}</span>
          </div>
          
          <div class="asset-tags">
            ${asset.tags.map(tag => `<span class="asset-tag">${tag}</span>`).join('')}
          </div>
          
          <div class="asset-actions">
            <button class="asset-download-btn" onclick="downloadAsset(${asset.id})">
              <span>${asset.price === 0 ? 'Download Free' : `Buy $${asset.price}`}</span>
              <span>â¬‡ï¸</span>
            </button>
            <button class="asset-preview-btn" onclick="openAssetDetail(${asset.id})">
              <span>Details</span>
            </button>
          </div>
        </div>
      </div>
    `).join('');
    
    // Show/hide load more button
    loadMoreBtn.style.display = endIndex < filteredAssets.length ? 'block' : 'none';
    updateStats();
  }

  function loadMoreAssets() {
    currentPage++;
    displayAssets();
  }

  function updateStats() {
    const totalAssets = assetsLibrary.length;
    const freeAssets = assetsLibrary.filter(asset => asset.license === 'free' || asset.license === 'cc0').length;
    const categories = new Set(assetsLibrary.map(asset => asset.type)).size;
    
    document.getElementById('totalAssets').textContent = totalAssets;
    document.getElementById('freeAssets').textContent = freeAssets;
    document.getElementById('categoriesCount').textContent = categories;
  }
}

// Asset Detail Modal
function openAssetDetail(assetId) {
  const asset = assetsLibrary.find(a => a.id === assetId);
  if (!asset) return;

  const modal = document.createElement('div');
  modal.className = 'asset-detail-modal';
  modal.style.display = 'block';
  modal.innerHTML = `
    <div class="asset-detail-content">
      <button class="close-asset-preview" onclick="closeAssetDetail()">&times;</button>
      
      <div class="asset-detail-header">
        <div class="asset-detail-preview">
          <img src="${asset.preview}" alt="${asset.title}">
          <span class="asset-badge ${asset.license}">${asset.license.toUpperCase()}</span>
        </div>
        
        <div class="asset-detail-info">
          <h3>${asset.title}</h3>
          <p class="asset-detail-description">${asset.description}</p>
          
          <div class="asset-detail-meta">
            <div class="meta-item">
              <span class="meta-label">Type</span>
              <span class="meta-value">${asset.type}</span>
            </div>
            <div class="meta-item">
              <span class="meta-label">File Size</span>
              <span class="meta-value">${asset.fileSize}</span>
            </div>
            <div class="meta-item">
              <span class="meta-label">Format</span>
              <span class="meta-value">${asset.fileFormat}</span>
            </div>
            <div class="meta-item">
              <span class="meta-label">Downloads</span>
              <span class="meta-value">${asset.downloads}</span>
            </div>
            <div class="meta-item">
              <span class="meta-label">Rating</span>
              <span class="meta-value">${asset.rating}/5.0</span>
            </div>
            <div class="meta-item">
              <span class="meta-label">Software</span>
              <span class="meta-value">${asset.software.join(', ')}</span>
            </div>
          </div>
          
          <div class="asset-tags">
            ${asset.tags.map(tag => `<span class="asset-tag">${tag}</span>`).join('')}
          </div>
          
          <div class="asset-detail-actions">
            <button class="asset-download-btn" onclick="downloadAsset(${asset.id})" style="padding: 1rem 2rem;">
              <span>${asset.price === 0 ? 'Download Free' : `Buy $${asset.price}`}</span>
              <span>â¬‡ï¸</span>
            </button>
            <button class="asset-preview-btn" onclick="closeAssetDetail()" style="padding: 1rem 2rem;">
              <span>Close</span>
            </button>
          </div>
        </div>
      </div>
      
      <div class="asset-features">
        <h4>Features</h4>
        <ul>
          ${asset.features.map(feature => `<li>${feature}</li>`).join('')}
        </ul>
      </div>
      
      <div class="asset-requirements">
        <h4>Requirements</h4>
        <p>${asset.requirements}</p>
      </div>
    </div>
  `;
  
  document.body.appendChild(modal);
  document.body.style.overflow = 'hidden';
}

function closeAssetDetail() {
  const modal = document.querySelector('.asset-detail-modal');
  if (modal) {
    modal.remove();
    document.body.style.overflow = 'auto';
  }
}

function downloadAsset(assetId) {
  const asset = assetsLibrary.find(a => a.id === assetId);
  if (!asset) return;

  // Simulate download
  console.log(`Downloading: ${asset.title}`);
  
  // Show download confirmation
  showDownloadConfirmation(asset.title);
  
  // In real implementation, this would trigger actual download
  // window.location.href = asset.downloadLink;
}

function showDownloadConfirmation(assetTitle) {
  const toast = document.createElement('div');
  toast.style.cssText = `
    position: fixed;
    top: 20px;
    right: 20px;
    background: var(--primary);
    color: #000;
    padding: 1rem 1.5rem;
    border-radius: 8px;
    z-index: 100001;
    animation: slideInRight 0.3s ease;
    font-weight: bold;
  `;
  toast.textContent = `Download started: ${assetTitle}`;
  
  document.body.appendChild(toast);
  
  setTimeout(() => {
    toast.style.animation = 'slideOutRight 0.3s ease';
    setTimeout(() => {
      document.body.removeChild(toast);
    }, 300);
  }, 3000);
}

// Initialize when DOM is loaded
document.addEventListener('DOMContentLoaded', function() {
  initializeAssetsLibrary();
});

// =================== FIXED AI POPUP SYSTEM - CURSOR POSITION ===================
function initializeComprehensiveAIPopupSystem() {
    console.log('ðŸ¤– Comprehensive AI Popup System Activated!');
    
    // 1. NAVIGATION & DOCK ELEMENTS
    initializeNavigationPopups();
    
    // 2. HERO SECTION ELEMENTS
    initializeHeroPopups();
    
    // 3. ABOUT SECTION ELEMENTS  
    initializeAboutPopups();
    
    // 4. PROJECTS SECTION ELEMENTS
    initializeProjectsPopups();
    
    // 5. SKILLS SECTION ELEMENTS
    initializeSkillsPopups();
    
    // 6. TOOLS SECTION ELEMENTS
    initializeToolsPopups();
    
    // 7. WORKFLOW SECTION ELEMENTS
    initializeWorkflowPopups();
    
    // 8. TESTIMONIALS SECTION ELEMENTS
    initializeTestimonialsPopups();
    
    // 9. ASSETS SECTION ELEMENTS
    initializeAssetsPopups();
    
    // 10. CONTACT SECTION ELEMENTS
    initializeContactPopups();
    
    // 11. FOOTER ELEMENTS
    initializeFooterPopups();
    
    // 12. GLOBAL ELEMENTS
    initializeGlobalPopups();
    
    // 13. INTERACTIVE ELEMENTS
    initializeInteractivePopups();
    
    // 14. SPECIAL EFFECTS ELEMENTS
    initializeSpecialEffectsPopups();
}


// =================== POSITION POPUP AT CURSOR ===================
function positionPopupAtCursor(popup, event) {
    const cursorX = event.clientX;
    const cursorY = event.clientY;
    const popupWidth = 320; // Sesuai dengan max-width di CSS
    const popupHeight = 150; // Estimated height
    const viewportWidth = window.innerWidth;
    const viewportHeight = window.innerHeight;
    
    // Default position: di bawah dan sedikit ke kanan dari kursor
    let popupX = cursorX + 15;
    let popupY = cursorY + 15;
    
    // Adjust jika popup akan keluar dari viewport di sisi kanan
    if (popupX + popupWidth > viewportWidth - 10) {
        popupX = cursorX - popupWidth - 15;
    }
    
    // Adjust jika popup akan keluar dari viewport di sisi bawah
    if (popupY + popupHeight > viewportHeight - 10) {
        popupY = cursorY - popupHeight - 15;
    }
    
    // Pastikan tidak keluar dari viewport di sisi kiri dan atas
    popupX = Math.max(10, popupX);
    popupY = Math.max(10, popupY);
    
    popup.style.position = 'fixed';
    popup.style.left = popupX + 'px';
    popup.style.top = popupY + 'px';
    popup.style.transform = 'none';
    popup.style.zIndex = '1000001';
}



// =================== ROBUST INITIALIZATION MANAGER ===================
class PortfolioInitializer {
  constructor() {
    this.initialized = false;
    this.initQueue = [];
  }
  
  // Tambah fungsi ke queue
  add(functionName, priority = 0) {
    this.initQueue.push({ functionName, priority });
    // Urutkan berdasarkan priority (yang lebih tinggi duluan)
    this.initQueue.sort((a, b) => b.priority - a.priority);
  }
  
  // Jalankan initialization
  async initialize() {
    if (this.initialized) return;
    
    console.log('ðŸš€ Starting Portfolio Initialization...');
    
    for (const item of this.initQueue) {
      const { functionName } = item;
      await this.safeInitialize(functionName);
    }
    
    this.initialized = true;
    console.log('ðŸŽ‰ Portfolio Fully Initialized!');
  }
  
  // Initialize dengan error handling
  async safeInitialize(functionName) {
    return new Promise((resolve) => {
      try {
        if (typeof window[functionName] === 'function') {
          const result = window[functionName]();
          if (result instanceof Promise) {
            result.then(() => {
              console.log(`âœ… ${functionName}`);
              resolve();
            }).catch(error => {
              console.warn(`âš ï¸ ${functionName} async failed:`, error);
              resolve();
            });
          } else {
            console.log(`âœ… ${functionName}`);
            resolve();
          }
        } else {
          console.log(`â­ï¸ ${functionName} not found`);
          resolve();
        }
      } catch (error) {
        console.error(`âŒ ${functionName} failed:`, error);
        resolve();
      }
    });
  }
}



// =================== ADVANCED REAL-TIME VIEWER WITH EVENTS ===================
function initializeAdvancedRealTimeViewerWithEvents() {
    console.log('ðŸŽ® Initializing Enhanced Real-Time Viewer with Events...');
    
    // Variables untuk sistem event
    let originalTitle = "Asri Portfolio";
    let isTabActive = true;
    let viewerCount = 35; // Start dengan base count
    let lastUpdate = 0;
    const UPDATE_INTERVAL = 3000; // 3 detik untuk update lebih cepat
    
    // State event system
    let currentEvent = null;
    let eventEndTime = 0;
    let eventMultiplier = 1;
    let eventName = "";
    let eventDescription = "";
    let eventHistory = [];
    
    // Patterns untuk trend
    const dailyPattern = {
        "00": 20, "01": 15, "02": 10, "03": 8, "04": 5, "05": 10,
        "06": 25, "07": 40, "08": 60, "09": 75, "10": 80, "11": 85,
        "12": 90, "13": 85, "14": 80, "15": 75, "16": 70, "17": 65,
        "18": 70, "19": 75, "20": 80, "21": 85, "22": 70, "23": 50
    };
    
    const weeklyPattern = {
        0: 1.2, // Sunday - weekend boost
        1: 0.9,  // Monday - slow start
        2: 1.0,  // Tuesday
        3: 1.1,  // Wednesday
        4: 1.2,  // Thursday
        5: 1.5,  // Friday - weekend start
        6: 1.3   // Saturday
    };
    
    // Event definitions
    const events = [
        {
            name: "Viral Social Media",
            description: "Portfolio trending di Twitter/Instagram!",
            multiplier: 2.5,
            duration: 300000, // 5 minutes
            probability: 0.01,
            icon: "ðŸš€"
        },
        {
            name: "Project Launch",
            description: "New project released! Everyone checking it out.",
            multiplier: 2.0,
            duration: 240000, // 4 minutes
            probability: 0.015,
            icon: "ðŸŽ‰"
        },
        {
            name: "Tech Conference",
            description: "Featured in online tech conference stream.",
            multiplier: 3.0,
            duration: 180000, // 3 minutes
            probability: 0.008,
            icon: "ðŸŽ¤"
        },
        {
            name: "Quiet Time",
            description: "Slow traffic period (off-peak hours).",
            multiplier: 0.4,
            duration: 180000, // 3 minutes
            probability: 0.02,
            icon: "ðŸ˜´"
        },
        {
            name: "Hacker News Feature",
            description: "Featured on Hacker News frontpage!",
            multiplier: 4.0,
            duration: 300000, // 5 minutes
            probability: 0.005,
            icon: "ðŸ”¥"
        },
        {
            name: "YouTube Shoutout",
            description: "Mentioned in popular YouTube video.",
            multiplier: 2.8,
            duration: 240000, // 4 minutes
            probability: 0.01,
            icon: "ðŸ“º"
        },
        {
            name: "Server Maintenance",
            description: "Temporary slowdown during updates.",
            multiplier: 0.3,
            duration: 120000, // 2 minutes
            probability: 0.01,
            icon: "ðŸ”§"
        },
        {
            name: "Design Award",
            description: "Won design award! Media coverage spike.",
            multiplier: 3.5,
            duration: 300000, // 5 minutes
            probability: 0.003,
            icon: "ðŸ†"
        },
        {
            name: "Weekend Rush",
            description: "Weekend browsing surge!",
            multiplier: 1.8,
            duration: 360000, // 6 minutes
            probability: 0.025,
            icon: "ðŸŽ¯"
        },
        {
            name: "Early Bird Special",
            description: "Morning productivity crowd checking in.",
            multiplier: 1.6,
            duration: 180000, // 3 minutes
            probability: 0.02,
            icon: "ðŸŒ…"
        }
    ];
    
    // Initialize
    initializeEventSystem();
    updateViewerDisplay();
    setInterval(updateViewerCount, UPDATE_INTERVAL);
    
    // Event system functions
    function initializeEventSystem() {
        console.log('ðŸŽª Event system activated!');
        
        // Load event history from localStorage
        const savedHistory = localStorage.getItem('viewerEventHistory');
        if (savedHistory) {
            eventHistory = JSON.parse(savedHistory);
        }
        
        // Start checking for events
        setInterval(checkForEvents, 10000); // Check every 10 seconds
        
        // Random event trigger
        setTimeout(triggerRandomEvent, Math.random() * 30000 + 10000);
    }
    
    function checkForEvents() {
        const now = Date.now();
        
        // Check if current event should end
        if (currentEvent && now > eventEndTime) {
            endCurrentEvent();
        }
        
        // Small chance to trigger event
        if (!currentEvent && Math.random() < 0.1) {
            triggerRandomEvent();
        }
        
        // Weekend special event check
        const day = new Date().getDay();
        const hour = new Date().getHours();
        
        if (day === 5 && hour >= 18 && !currentEvent) { // Friday evening
            triggerWeekendEvent();
        }
        
        if (day === 0 && hour >= 10 && hour <= 14 && !currentEvent) { // Sunday midday
            triggerWeekendEvent();
        }
    }
    
    function triggerRandomEvent() {
        if (currentEvent) return;
        
        const now = new Date();
        const hour = now.getHours().toString().padStart(2, '0');
        const day = now.getDay();
        
        // Filter events based on time and day
        let availableEvents = events.filter(event => {
            // Don't trigger quiet time during peak hours
            if (event.name === "Quiet Time" && parseInt(hour) >= 9 && parseInt(hour) <= 17) {
                return false;
            }
            
            // Adjust probabilities based on time
            let adjustedProbability = event.probability;
            
            // Increase certain events during specific times
            if (event.name === "Early Bird Special" && parseInt(hour) >= 6 && parseInt(hour) <= 9) {
                adjustedProbability *= 3;
            }
            
            if (event.name === "Weekend Rush" && (day === 0 || day === 6)) {
                adjustedProbability *= 2;
            }
            
            return Math.random() < adjustedProbability;
        });
        
        if (availableEvents.length > 0) {
            const event = availableEvents[Math.floor(Math.random() * availableEvents.length)];
            startEvent(event);
        }
    }
    
    function triggerWeekendEvent() {
        const weekendEvents = events.filter(e => 
            e.name === "Weekend Rush" || e.name === "Viral Social Media"
        );
        
        if (weekendEvents.length > 0 && Math.random() < 0.3) {
            const event = weekendEvents[Math.floor(Math.random() * weekendEvents.length)];
            startEvent(event);
        }
    }
    
    function startEvent(event) {
        currentEvent = event;
        eventEndTime = Date.now() + event.duration;
        eventMultiplier = event.multiplier;
        eventName = event.name;
        eventDescription = event.description;
        
        // Log event
        eventHistory.push({
            name: event.name,
            timestamp: Date.now(),
            multiplier: event.multiplier,
            description: event.description
        });
        
        // Keep only last 50 events
        if (eventHistory.length > 50) {
            eventHistory = eventHistory.slice(-50);
        }
        
        // Save to localStorage
        localStorage.setItem('viewerEventHistory', JSON.stringify(eventHistory));
        
        // Show event notification
        showEventNotification(event);
        
        console.log(`ðŸŽª Event started: ${event.name} (${event.multiplier}x)`);
    }
    
    function endCurrentEvent() {
        if (currentEvent) {
            console.log(`ðŸŽª Event ended: ${currentEvent.name}`);
            
            // Show event end notification
            showEventEndNotification(currentEvent);
            
            currentEvent = null;
            eventMultiplier = 1;
            eventName = "";
            eventDescription = "";
            
            // Schedule next event
            setTimeout(triggerRandomEvent, Math.random() * 60000 + 30000);
        }
    }
    
    function showEventNotification(event) {
        const notification = document.createElement('div');
        notification.className = 'event-notification';
        notification.style.cssText = `
            position: fixed;
            top: 80px;
            right: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 20px;
            border-radius: 12px;
            z-index: 1000001;
            animation: slideInRight 0.5s ease;
            max-width: 350px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            border-left: 4px solid #00ffff;
        `;
        
        notification.innerHTML = `
            <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 8px;">
                <span style="font-size: 1.5rem;">${event.icon}</span>
                <strong style="font-size: 1rem;">${event.name}</strong>
            </div>
            <div style="font-size: 0.85rem; opacity: 0.9;">${event.description}</div>
            <div style="display: flex; align-items: center; gap: 10px; margin-top: 10px;">
                <span style="font-size: 0.8rem; background: rgba(255,255,255,0.2); padding: 3px 8px; border-radius: 10px;">
                    âš¡ ${event.multiplier}x Viewer Boost
                </span>
                <span style="font-size: 0.8rem; opacity: 0.8;">${formatDuration(event.duration)}</span>
            </div>
        `;
        
        document.body.appendChild(notification);
        
        // Add animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideInRight {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes slideOutRight {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
        document.head.appendChild(style);
        
        // Auto remove after 5 seconds
        setTimeout(() => {
            notification.style.animation = 'slideOutRight 0.5s ease forwards';
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.parentNode.removeChild(notification);
                }
            }, 500);
        }, 5000);
        
        // Click to dismiss
        notification.addEventListener('click', () => {
            notification.style.animation = 'slideOutRight 0.5s ease forwards';
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.parentNode.removeChild(notification);
                }
            }, 500);
        });
    }
    
    function showEventEndNotification(event) {
        const notification = document.createElement('div');
        notification.className = 'event-end-notification';
        notification.style.cssText = `
            position: fixed;
            top: 80px;
            right: 20px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            color: var(--text);
            padding: 12px 18px;
            border-radius: 12px;
            z-index: 1000000;
            animation: slideInRight 0.5s ease;
            max-width: 300px;
            border: 1px solid var(--highlight);
        `;
        
        notification.innerHTML = `
            <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 5px;">
                <span style="font-size: 1.2rem;">ðŸ“‰</span>
                <span style="font-size: 0.9rem; font-weight: 600;">${event.name} Ended</span>
            </div>
            <div style="font-size: 0.8rem; opacity: 0.8;">Viewers returning to normal levels</div>
        `;
        
        document.body.appendChild(notification);
        
        // Auto remove after 3 seconds
        setTimeout(() => {
            notification.style.animation = 'slideOutRight 0.5s ease forwards';
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.parentNode.removeChild(notification);
                }
            }, 500);
        }, 3000);
    }
    
    function updateViewerCount() {
        const now = new Date();
        const hour = now.getHours().toString().padStart(2, '0');
        const day = now.getDay();
        
        // Base count from daily pattern
        let newCount = dailyPattern[hour] || 25;
        
        // Apply weekly pattern
        newCount *= weeklyPattern[day] || 1;
        
        // Apply event multiplier if active
        if (currentEvent) {
            newCount *= eventMultiplier;
            
            // Add some fluctuation during events
            const fluctuation = (Math.random() - 0.5) * 20;
            newCount += fluctuation;
        }
        
        // Natural fluctuation (even without events)
        const naturalFluctuation = (Math.random() - 0.5) * 15;
        newCount += naturalFluctuation;
        
        // Gradual changes based on time
        if (parseInt(hour) >= 22 || parseInt(hour) <= 5) {
            // Night time gradual decline
            newCount -= Math.random() * 5;
        } else if (parseInt(hour) >= 11 && parseInt(hour) <= 13) {
            // Lunch time boost
            newCount += Math.random() * 10;
        }
        
        // Ensure minimum and maximum
        newCount = Math.max(5, Math.min(newCount, 150));
        
        // Smooth transition
        viewerCount = Math.round(viewerCount * 0.7 + newCount * 0.3);
        
        updateViewerDisplay();
        updateViewerStats();
    }
    
    function updateViewerDisplay() {
        // Update title tab
        if (isTabActive) {
            let titleText = `ðŸ‘ï¸ ${viewerCount} Online`;
            if (currentEvent) {
                titleText += ` âš¡ ${eventName}`;
            }
            document.title = `${titleText} | ${originalTitle}`;
        }
        
        // Update viewer counters
        updateAllViewerCounters(viewerCount);
        
        // Update viewer stats modal if open
        updateViewerStatsModal();
    }
    
    function updateAllViewerCounters(count) {
        const formattedCount = count.toLocaleString();
        
        // Update in floating clock
        const floatingClock = document.querySelector('.floating-clock');
        if (floatingClock) {
            let counter = floatingClock.querySelector('.live-viewer-counter');
            if (!counter) {
                counter = document.createElement('div');
                counter.className = 'live-viewer-counter';
                floatingClock.appendChild(counter);
            }
            
            let counterHTML = `
                <span class="live-dot"></span>
                <strong>${formattedCount}</strong> online now`;
            
            if (currentEvent) {
                counterHTML += `<br><small style="font-size:0.7rem; color:#00ffaa;">âš¡ ${eventName}</small>`;
            }
            
            counter.innerHTML = counterHTML;
        }
        
        // Update dock counter
        updateDockViewerCounter(count);
    }
    
    function updateDockViewerCounter(count) {
        const dockItems = document.querySelector('.dock-items');
        if (dockItems) {
            let viewerItem = dockItems.querySelector('.viewer-dock-item');
            
            if (!viewerItem) {
                viewerItem = document.createElement('a');
                viewerItem.className = 'dock-item viewer-dock-item';
                viewerItem.href = '#';
                viewerItem.innerHTML = `
                    <span class="dock-icon" style="position: relative;">
                        ðŸ‘ï¸
                        <span class="live-indicator"></span>
                    </span>
                    <div class="viewer-count">${count}</div>
                `;
                
                viewerItem.addEventListener('click', function(e) {
                    e.preventDefault();
                    showViewerStatsModal();
                });
                
                dockItems.appendChild(viewerItem);
            } else {
                const countElement = viewerItem.querySelector('.viewer-count');
                if (countElement) {
                    countElement.textContent = count;
                    
                    // Add event indicator
                    if (currentEvent) {
                        countElement.style.background = '#ffaa00';
                        countElement.style.color = '#000';
                        countElement.style.animation = 'pulse 1s infinite';
                    } else {
                        countElement.style.background = 'var(--primary)';
                        countElement.style.color = '#000';
                        countElement.style.animation = 'none';
                    }
                }
            }
        }
    }
    
    function updateViewerStats() {
        const stats = {
            current: viewerCount,
            event: currentEvent ? eventName : 'None',
            multiplier: eventMultiplier,
            description: eventDescription,
            time: new Date().toLocaleTimeString()
        };
        
        localStorage.setItem('viewerStats', JSON.stringify(stats));
    }
    
    function showViewerStatsModal() {
        const modal = document.createElement('div');
        modal.className = 'viewer-stats-modal';
        modal.style.cssText = `
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 100000;
            display: flex;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(10px);
        `;
        
        const history = JSON.parse(localStorage.getItem('viewerEventHistory') || '[]');
        const recentEvents = history.slice(-10).reverse();
        
        modal.innerHTML = `
            <div class="viewer-stats-content" style="
                background: var(--bg);
                border: 2px solid var(--primary);
                border-radius: 20px;
                padding: 2rem;
                max-width: 600px;
                width: 90%;
                position: relative;
                box-shadow: 0 20px 60px rgba(0, 255, 255, 0.3);
            ">
                <button class="close-viewer-stats" style="
                    position: absolute;
                    top: 1rem;
                    right: 1rem;
                    background: none;
                    border: none;
                    color: var(--primary);
                    font-size: 1.5rem;
                    cursor: pointer;
                ">&times;</button>
                
                <h3 style="color: var(--primary); margin-bottom: 1.5rem;">ðŸ“Š Live Viewer Analytics</h3>
                
                <div class="stats-grid" style="
                    display: grid;
                    grid-template-columns: repeat(2, 1fr);
                    gap: 1rem;
                    margin-bottom: 2rem;
                ">
                    <div class="stat-card" style="
                        background: rgba(255, 255, 255, 0.05);
                        border: 1px solid var(--highlight);
                        border-radius: 12px;
                        padding: 1rem;
                        text-align: center;
                    ">
                        <div class="stat-number" style="
                            font-size: 2rem;
                            font-weight: bold;
                            color: var(--primary);
                        ">${viewerCount}</div>
                        <div class="stat-label" style="
                            color: var(--muted);
                            font-size: 0.9rem;
                        ">Current Viewers</div>
                    </div>
                    
                    <div class="stat-card" style="
                        background: rgba(255, 255, 255, 0.05);
                        border: 1px solid var(--highlight);
                        border-radius: 12px;
                        padding: 1rem;
                        text-align: center;
                    ">
                        <div class="stat-number" style="
                            font-size: 2rem;
                            font-weight: bold;
                            color: ${currentEvent ? '#ffaa00' : '#00ffaa'};
                        ">${currentEvent ? eventName : 'Normal'}</div>
                        <div class="stat-label" style="
                            color: var(--muted);
                            font-size: 0.9rem;
                        ">Current Status</div>
                    </div>
                    
                    <div class="stat-card" style="
                        background: rgba(255, 255, 255, 0.05);
                        border: 1px solid var(--highlight);
                        border-radius: 12px;
                        padding: 1rem;
                        text-align: center;
                    ">
                        <div class="stat-number" style="
                            font-size: 2rem;
                            font-weight: bold;
                            color: #00ffff;
                        ">${eventMultiplier}x</div>
                        <div class="stat-label" style="
                            color: var(--muted);
                            font-size: 0.9rem;
                        ">Event Multiplier</div>
                    </div>
                    
                    <div class="stat-card" style="
                        background: rgba(255, 255, 255, 0.05);
                        border: 1px solid var(--highlight);
                        border-radius: 12px;
                        padding: 1rem;
                        text-align: center;
                    ">
                        <div class="stat-number" style="
                            font-size: 2rem;
                            font-weight: bold;
                            color: #ff6b6b;
                        ">${history.length}</div>
                        <div class="stat-label" style="
                            color: var(--muted);
                            font-size: 0.9rem;
                        ">Total Events</div>
                    </div>
                </div>
                
                <div class="current-event" style="
                    background: ${currentEvent ? 'rgba(255, 170, 0, 0.1)' : 'rgba(255, 255, 255, 0.03)'};
                    border: 1px solid ${currentEvent ? '#ffaa00' : 'var(--highlight)'};
                    border-radius: 12px;
                    padding: 1rem;
                    margin-bottom: 1.5rem;
                ">
                    <h4 style="color: ${currentEvent ? '#ffaa00' : 'var(--text)'}; margin-bottom: 0.5rem;">
                        ${currentEvent ? 'âš¡ Active Event' : 'ðŸ“Š Normal Traffic'}
                    </h4>
                    <p style="color: var(--text); font-size: 0.9rem;">
                        ${currentEvent ? eventDescription : 'Standard viewing traffic with natural fluctuations.'}
                    </p>
                    ${currentEvent ? `
                        <div style="margin-top: 0.5rem; font-size: 0.8rem; color: var(--muted);">
                            Ends in: ${formatDuration(eventEndTime - Date.now())}
                        </div>
                    ` : ''}
                </div>
                
                <div class="recent-events" style="
                    background: rgba(255, 255, 255, 0.03);
                    border-radius: 12px;
                    padding: 1rem;
                    max-height: 200px;
                    overflow-y: auto;
                ">
                    <h4 style="color: var(--text); margin-bottom: 1rem;">ðŸ“… Recent Events</h4>
                    ${recentEvents.length > 0 ? recentEvents.map(event => `
                        <div style="
                            padding: 0.5rem;
                            border-bottom: 1px solid rgba(255,255,255,0.1);
                            display: flex;
                            justify-content: space-between;
                            align-items: center;
                        ">
                            <div>
                                <strong style="color: var(--primary); font-size: 0.9rem;">${event.name}</strong>
                                <div style="font-size: 0.8rem; color: var(--muted);">${event.description}</div>
                                <div style="font-size: 0.7rem; color: var(--muted);">
                                    ${new Date(event.timestamp).toLocaleTimeString()}
                                </div>
                            </div>
                            <span style="
                                background: rgba(0, 255, 255, 0.1);
                                color: var(--primary);
                                padding: 0.2rem 0.5rem;
                                border-radius: 10px;
                                font-size: 0.8rem;
                            ">${event.multiplier}x</span>
                        </div>
                    `).join('') : '<div style="text-align: center; color: var(--muted); padding: 1rem;">No recent events</div>'}
                </div>
                
                <div style="margin-top: 1.5rem; font-size: 0.8rem; color: var(--muted); text-align: center;">
                    âš¡ Events trigger randomly based on time, day, and user activity patterns
                </div>
            </div>
        `;
        
        document.body.appendChild(modal);
        
        // Close button
        modal.querySelector('.close-viewer-stats').addEventListener('click', () => {
            modal.remove();
        });
        
        // Close on background click
        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                modal.remove();
            }
        });
    }
    
    function updateViewerStatsModal() {
        const modal = document.querySelector('.viewer-stats-modal');
        if (modal) {
            // Update current count
            const currentCountElement = modal.querySelector('.stat-number');
            if (currentCountElement) {
                currentCountElement.textContent = viewerCount;
            }
            
            // Update event status
            const eventCard = modal.querySelector('.current-event');
            if (eventCard) {
                eventCard.style.background = currentEvent ? 'rgba(255, 170, 0, 0.1)' : 'rgba(255, 255, 255, 0.03)';
                eventCard.style.borderColor = currentEvent ? '#ffaa00' : 'var(--highlight)';
                
                const eventTitle = eventCard.querySelector('h4');
                const eventDesc = eventCard.querySelector('p');
                const eventTimer = eventCard.querySelector('div');
                
                if (eventTitle) {
                    eventTitle.textContent = currentEvent ? 'âš¡ Active Event' : 'ðŸ“Š Normal Traffic';
                    eventTitle.style.color = currentEvent ? '#ffaa00' : 'var(--text)';
                }
                
                if (eventDesc) {
                    eventDesc.textContent = currentEvent ? eventDescription : 'Standard viewing traffic with natural fluctuations.';
                }
                
                if (currentEvent && eventTimer) {
                    eventTimer.innerHTML = `Ends in: ${formatDuration(eventEndTime - Date.now())}`;
                }
            }
        }
    }
    
    function formatDuration(ms) {
        const minutes = Math.floor(ms / 60000);
        const seconds = Math.floor((ms % 60000) / 1000);
        return `${minutes}m ${seconds}s`;
    }
    
    // Tab visibility
    document.addEventListener('visibilitychange', function() {
        isTabActive = !document.hidden;
        
        if (isTabActive) {
            updateViewerDisplay();
        } else {
            document.title = originalTitle;
        }
    });
    
    // Add CSS for animations
    const style = document.createElement('style');
    style.textContent = `
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        .viewer-dock-item:hover {
            transform: translateY(-10px) scale(1.1);
            background: rgba(0, 255, 255, 0.2);
        }
        
        .live-dot {
            width: 8px;
            height: 8px;
            background: #00ff00;
            border-radius: 50%;
            display: inline-block;
            margin-right: 5px;
            animation: pulse 1.5s infinite;
        }
        
        .viewer-stats-content {
            animation: slideUp 0.3s ease;
        }
        
        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    `;
    document.head.appendChild(style);
    
    console.log('ðŸŽª Enhanced Real-Time Viewer with Events System Activated!');
}
// Atau langsung panggil setelah DOMContentLoaded:
document.addEventListener('DOMContentLoaded', function() {
    // Ganti viewer system lama dengan yang baru
    setTimeout(() => {
        initializeAdvancedRealTimeViewerWithEvents();
    }, 1000);
});

// =================== INITIALIZATION SETUP ===================
document.addEventListener('DOMContentLoaded', function() {
  const initializer = new PortfolioInitializer();
  
  // Tambahkan semua fungsi dengan priority
  // Priority: 10 (tertinggi), 5 (medium), 1 (rendah)
  
  // Core UI (High Priority)
  initializer.add('initializeAIToggle', 10);
  initializer.add('initializeCursor', 10);
  initializer.add('initializeAdvancedRealTimeViewerWithEvents', 9);
  
  // Performance & UX (High Priority)
  initializer.add('initializeSmoothScroll', 9);
  initializer.add('initializeEnhancedLazyLoading', 9);
  initializer.add('initializePerformanceOptimizations', 8);
  
  // Visual Effects (Medium Priority)
  initializer.add('initializeParticles', 7);
  initializer.add('initializeTypingEffect', 6);
  initializer.add('initializeVideoFeatures', 6);
  
  // Content Sections (Medium Priority)
  initializer.add('initializeSkillsSection', 5);
  initializer.add('initializeInteractiveProjects', 5);
  initializer.add('initializeProjectModal', 5);
  
  // Navigation & Components (Medium Priority)
  initializer.add('initializeDockNav', 5);
  initializer.add('initializeToolsCarousel', 4);
  initializer.add('initializeBounceCards', 4);
  
  // Additional Features (Low Priority)
  initializer.add('initializeComprehensiveAIPopupSystem', 3);
  initializer.add('initializeTestimonialNav', 2);
  initializer.add('initializeAssetsSection', 1);
  
  // Jalankan initialization
  initializer.initialize();
});














// =================== ENHANCED POPUP UTILITIES ===================
function getPopupType(message) {
    if (message.includes('ðŸš€') || message.includes('â­') || message.includes('ðŸ†')) return 'featured';
    if (message.includes('ðŸ’¡') || message.includes('â„¹ï¸') || message.includes('ðŸ“‹')) return 'info';
    if (message.includes('ðŸŽ¯') || message.includes('ðŸ“Š') || message.includes('ðŸ“ˆ')) return 'stats';
    if (message.includes('ðŸ› ï¸') || message.includes('ðŸ”§') || message.includes('âš™ï¸')) return 'tools';
    if (message.includes('ðŸŽ¨') || message.includes('ðŸŽ¬') || message.includes('ðŸ’«')) return 'creative';
    return 'general';
}

function getPopupEmoji(type) {
    const emojis = {
        'featured': 'ðŸŒŸ',
        'info': 'ðŸ’¡', 
        'stats': 'ðŸ“Š',
        'tools': 'ðŸ› ï¸',
        'creative': 'ðŸŽ¨',
        'general': 'ðŸ¤–'
    };
    return emojis[type] || 'ðŸ¤–';
}

function positionPopupSmartly(popup, element) {
    const rect = element.getBoundingClientRect();
    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
    const scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;
    
    const viewportWidth = window.innerWidth;
    const viewportHeight = window.innerHeight;
    
    // Calculate optimal position
    let top = rect.top + scrollTop;
    let left = rect.left + scrollLeft + (rect.width / 2) - 160;
    
    // Adjust for viewport boundaries
    if (left < 10) left = 10;
    if (left + 320 > viewportWidth) left = viewportWidth - 330;
    
    // Prefer positioning above element, but adjust if near top
    if (top < 150) {
        top = rect.bottom + scrollTop + 10;
    } else {
        top = top - 160;
    }
    
    // Ensure popup stays within viewport vertically
    if (top < 10) top = 10;
    if (top + 160 > viewportHeight + scrollTop - 10) {
        top = viewportHeight + scrollTop - 170;
    }
    
    popup.style.top = top + 'px';
    popup.style.left = left + 'px';
}

function removeExistingPopups() {
    document.querySelectorAll('.ai-popup-text').forEach(popup => {
        popup.remove();
    });
}

// =================== 1. NAVIGATION POPUPS ===================
function initializeNavigationPopups() {
    // Dock Navigation Items
    document.querySelectorAll('.dock-item').forEach((item, index) => {
        const titles = {
            0: "Kembali ke Home - section pertama portfolio",
            1: "Tentang Asri - background dan cerita personal",
            2: "Project Portfolio - lihat karya-karya terbaik", 
            3: "Skills & Keahlian - kemampuan technical dan creative",
            4: "Tools & Software - aplikasi yang digunakan sehari-hari",
            5: "Workflow Process - cara kerja dan metodologi",
            6: "Testimonials - apa kata client dan kolaborator",
            7: "Asset Library - download resources gratis",
            8: "Contact & Hire - hubungi untuk project collaboration"
        };
        
        item.addEventListener('mouseenter', function(event) {
            showAIPopup(this, `ðŸ“ ${titles[index] || 'Navigation item'}`, 2000, event);
        });
    });
    
    // Scroll Indicator
    const scrollIndicator = document.querySelector('.scroll-indicator');
    if (scrollIndicator) {
        scrollIndicator.addEventListener('mouseenter', function(event) {
            showAIPopup(this, "â¬‡ï¸ Scroll ke bawah untuk menjelajahi semua section portfolio!", 2500, event);
        });
    }
}

// =================== 2. HERO SECTION POPUPS ===================
function initializeHeroPopups() {
    // Hero Title
    const heroTitle = document.querySelector('.hero-title');
    if (heroTitle) {
        heroTitle.addEventListener('mouseenter', function(event) {
            showAIPopup(this, "ðŸ‘‹ Halo! Selamat datang di portfolio creative Asri", 3000, event);
        });
    }
    
    // Typing Text
    const typedText = document.getElementById('typed-text');
    if (typedText) {
        typedText.addEventListener('mouseenter', function(event) {
            showAIPopup(this, "ðŸŽ­ Toonomaly adalah nickname creative Asri untuk project animasi dan content creation", 3000, event);
        });
    }
    
    // Hero Subtitle
    const heroSubtitle = document.querySelector('.hero-subtitle');
    if (heroSubtitle) {
        heroSubtitle.addEventListener('mouseenter', function(event) {
            showAIPopup(this, "ðŸ’« Kombinasi unik antara 3D animation dan web development untuk pengalaman digital yang immersive", 3500, event);
        });
    }
}

// =================== 3. ABOUT SECTION POPUPS ===================
function initializeAboutPopups() {
    // Profile Photo
    const profilePhoto = document.querySelector('.about-photo');
    if (profilePhoto) {
        profilePhoto.addEventListener('mouseenter', function(event) {
            showAIPopup(this, "ðŸ“¸ Ini adalah foto profil Asri! Dia passionate tentang creative technology dan Japanese culture", 3000, event);
        });
        
        profilePhoto.addEventListener('click', function(event) {
            event.stopPropagation();
            showAIPopup(this, "ðŸ¢ Fun fact: Asri punya original character bernama Kumi the Turtle yang sedang dikembangkan menjadi series animasi!", 4000, event);
        });
    }
    
    // About Title
    const aboutTitle = document.querySelector('.about-title');
    if (aboutTitle) {
        aboutTitle.addEventListener('mouseenter', function(event) {
            showAIPopup(this, "â„¹ï¸ Section tentang latar belakang, minat, dan cerita personal Asri", 2500, event);
        });
    }
    
    // About Text Paragraphs
    document.querySelectorAll('.about-text p').forEach((para, index) => {
        const messages = [
            "ðŸŽ¨ Asri menggabungkan technical skills dengan creative vision dalam setiap project",
            "ðŸ‡¯ðŸ‡µ Sedang belajar bahasa Jepang dan berencana untuk bekerja di Jepang suatu hari nanti",
            "ðŸŒŸ Passionate tentang character design, 3D animation, dan interactive web experiences"
        ];
        para.addEventListener('mouseenter', function(event) {
            showAIPopup(this, messages[index] || "Informasi personal tentang background dan interests", 3000, event);
        });
    });
    
    // Highlight Cards
    document.querySelectorAll('.highlight-card').forEach((card, index) => {
        const messages = [
            "ðŸŽ¬ 3D Animation: Character animation, modeling, rigging, dan visual storytelling",
            "ðŸ’» Web Development: Modern web technologies, responsive design, dan user experience", 
            "ðŸŽ¨ Content Creation: Video production, motion graphics, dan social media content"
        ];
        card.addEventListener('mouseenter', function(event) {
            showAIPopup(this, messages[index] || "Area keahlian dan specialization", 3000, event);
        });
    });
    
    // Fact Items
    document.querySelectorAll('.fact-item').forEach((fact, index) => {
        const messages = [
            "ðŸŽ¯ Goal: Impian untuk hidup dan bekerja di Jepang sedang dikejar dengan belajar bahasa dan culture",
            "ðŸ¢ OC: Kumi the Turtle - karakter original yang sedang dikembangkan menjadi animasi series",
            "ðŸ—¾ Language: Aktif belajar bahasa Jepang untuk persiapan kerja di Jepang",
            "ðŸ—ï¸ Interest: Tertarik dengan architecture dan design principles",
            "ðŸŽ¥ Creator: Produksi content kreatif untuk platform online",
            "ðŸš€ Learning: Selalu mengupdate skills dengan teknologi terbaru"
        ];
        fact.addEventListener('mouseenter', function(event) {
            showAIPopup(this, messages[index] || "Fakta menarik tentang Asri", 2500, event);
        });
    });
}

// =================== 4. PROJECTS SECTION POPUPS ===================
function initializeProjectsPopups() {
    // Section Title
    const projectsTitle = document.querySelector('#projects .section-title');
    if (projectsTitle) {
        projectsTitle.addEventListener('mouseenter', function(event) {
            showAIPopup(this, "ðŸ’¼ Koleksi project terbaik yang menunjukkan range kemampuan creative dan technical", 3000, event);
        });
    }
    
    // Filter Buttons
    document.querySelectorAll('.filter-btn').forEach((btn, index) => {
        const messages = {
            'all': "ðŸŒ Lihat semua project dari berbagai kategori",
            'animation': "ðŸŽ¬ Project 3D animation, character design, dan motion graphics", 
            'web': "ðŸ’» Website development, web apps, dan interactive experiences",
            'motion': "ðŸŽ¨ Motion graphics, visual effects, dan animated content"
        };
        btn.addEventListener('mouseenter', function(event) {
            const filterType = this.getAttribute('data-filter');
            showAIPopup(this, messages[filterType] || `Filter project ${filterType}`, 2000, event);
        });
    });
    
    // Featured Project
    const featuredProject = document.querySelector('.featured-project');
    if (featuredProject) {
        featuredProject.addEventListener('mouseenter', function(event) {
            showAIPopup(this, "â­ Project utama: Kumi the Turtle 3D Series - project animasi original yang sedang dalam pengembangan", 4000, event);
        });
    }
    
    // Project Badge
    const projectBadge = document.querySelector('.project-badge');
    if (projectBadge) {
        projectBadge.addEventListener('mouseenter', function(event) {
            showAIPopup(this, "ðŸ† Project featured - karya terbaik yang dipilih untuk ditampilkan", 2000, event);
        });
    }
    
    // Project Stats
    document.querySelectorAll('.stat').forEach((stat, index) => {
        const messages = [
            "ðŸ“Š Jumlah episode dalam series animasi Kumi the Turtle",
            "â±ï¸ Durasi pengerjaan project sampai saat ini", 
            "ðŸ“ˆ Progress completion project secara keseluruhan"
        ];
        stat.addEventListener('mouseenter', function(event) {
            showAIPopup(this, messages[index] || "Statistik dan metrics project", 2500, event);
        });
    });
    
    // Project Links
    document.querySelectorAll('.project-link').forEach((link, index) => {
        const messages = [
            "ðŸŽ¥ Tonton trailer dan demo project di YouTube channel",
            "ðŸ” Lihat behind the scenes dan process documentation"
        ];
        link.addEventListener('mouseenter', function(event) {
            showAIPopup(this, messages[index] || "Akses additional resources project", 2000, event);
        });
    });
    
    // Project Cards
    document.querySelectorAll('.project-card').forEach((card, index) => {
        const messages = [
            "ðŸŒ Interactive Portfolio Website - responsive design dengan custom animations",
            "ðŸŽ¬ Motion Graphics Showreel - koleksi animasi dan visual effects terbaik", 
            "ðŸŽ¨ Character Design Pack - kumpulan karakter 3D dengan rigging lengkap",
            "ðŸ›’ E-Commerce Platform - full-stack web application dengan payment integration",
            "ðŸžï¸ Fantasy 3D Environment - immersive world dengan detailed landscapes", 
            "ðŸ“¦ Product Explainer Animation - engaging product demonstration videos"
        ];
        card.addEventListener('mouseenter', function(event) {
            showAIPopup(this, messages[index] || "Project showcase dengan detail lengkap", 3000, event);
        });
    });
    
    // Project Images
    document.querySelectorAll('.project-image').forEach((img, index) => {
        img.addEventListener('mouseenter', function(event) {
            showAIPopup(this, "ðŸ–¼ï¸ Preview visual dari project - klik untuk melihat detail lengkap", 2500, event);
        });
    });
    
    // Project Overlays
    document.querySelectorAll('.project-overlay').forEach((overlay, index) => {
        overlay.addEventListener('mouseenter', function(event) {
            showAIPopup(this, "ðŸ‘† Klik untuk membuka project details dan case study", 2000, event);
        });
    });
    
    // Project Tags
    document.querySelectorAll('.project-tag').forEach((tag, index) => {
        tag.addEventListener('mouseenter', function(event) {
            const tagText = this.textContent;
            showAIPopup(this, `ðŸ·ï¸ Technology/Tool: ${tagText} - digunakan dalam project ini`, 2000, event);
        });
    });
}

// =================== 5. SKILLS SECTION POPUPS ===================
function initializeSkillsPopups() {
    // Section Title
    const skillsTitle = document.querySelector('#skills .section-title');
    if (skillsTitle) {
        skillsTitle.addEventListener('mouseenter', function(event) {
            showAIPopup(this, "ðŸ“Š Visualization skills dan technical capabilities dalam bentuk chart dan progress bars", 3000, event);
        });
    }
    
    // Skills Chart Container
    const chartContainer = document.querySelector('.skills-chart-container');
    if (chartContainer) {
        chartContainer.addEventListener('mouseenter', function(event) {
            showAIPopup(this, "ðŸ“ˆ Donut chart yang menunjukkan distribution skills across different categories", 3000, event);
        });
    }
    
    // Skills Bars Container
    const barsContainer = document.querySelector('.skills-bars-container');
    if (barsContainer) {
        barsContainer.addEventListener('mouseenter', function(event) {
            showAIPopup(this, "ðŸ“Š Progress bars dengan persentase penguasaan setiap skill secara detail", 3000, event);
        });
    }
    
    // Skill Categories
    document.querySelectorAll('.skill-category h4').forEach((category, index) => {
        const messages = [
            "ðŸŽ¬ 3D Animation Skills: Character animation, modeling, rigging, dan pipeline production",
            "ðŸ’» Web Development Skills: Frontend development, UI/UX design, responsive frameworks",
            "ðŸŽ¨ Content Creation Skills: Video production, motion graphics, graphic design"
        ];
        category.addEventListener('mouseenter', function(event) {
            showAIPopup(this, messages[index] || "Kategori group skills", 2500, event);
        });
    });
    
    // Individual Skills
    document.querySelectorAll('.skill-item').forEach((skill, index) => {
        skill.addEventListener('mouseenter', function(event) {
            const skillName = this.querySelector('.skill-name')?.textContent || 'Skill';
            const percent = this.querySelector('.skill-percent')?.textContent || '0%';
            
            const skillDetails = {
                'Character Animation': "Kemampuan membuat gerakan karakter yang natural dan ekspresif",
                '3D Modeling': "Membuat 3D models dengan topology yang clean dan optimised",
                'Rigging': "Membuat skeletal systems untuk karakter animation",
                'Frontend Development': "Membangun user interfaces yang responsive dan interactive",
                'UI/UX Design': "Mendesain user experiences yang intuitive dan visually appealing", 
                'Responsive Design': "Memastikan website bekerja perfect di semua device sizes",
                'Video Editing': "Post-production dan editing video content",
                'Motion Graphics': "Membuat animated graphics dan visual effects",
                'Graphic Design': "Design visual untuk digital dan print media"
            };
            
            const detail = skillDetails[skillName] || `Skill ${skillName} dengan tingkat penguasaan`;
            showAIPopup(this, `ðŸŽ¯ ${detail} - ${percent} proficiency`, 3000, event);
        });
    });
    
    // Skill Bars
    document.querySelectorAll('.skill-bar').forEach((bar, index) => {
        bar.addEventListener('mouseenter', function(event) {
            showAIPopup(this, "ðŸ“ Visual representation skill proficiency level dengan animated progress", 2000, event);
        });
    });
}

// =================== 6. TOOLS SECTION POPUPS ===================
function initializeToolsPopups() {
    // Section Title
    const toolsTitle = document.querySelector('#tools .section-title');
    if (toolsTitle) {
        toolsTitle.addEventListener('mouseenter', function(event) {
            showAIPopup(this, "ðŸ› ï¸ Software, tools, dan technologies yang digunakan dalam workflow creative process", 3000, event);
        });
    }
    
    // Tool Cards
    document.querySelectorAll('.tool-card').forEach((card, index) => {
        card.addEventListener('mouseenter', function(event) {
            const toolName = this.querySelector('.tool-title')?.textContent || 'Tool';
            const description = this.querySelector('.tool-description')?.textContent || '';
            const proficiency = this.querySelector('.proficiency-percent')?.textContent || '';
            
            const toolStories = {
                'Blender': "ðŸŽ¬ Software 3D favorit! Open-source yang powerful untuk modeling, animation, dan rendering. Asri menggunakan Blender untuk semua project 3D animation-nya.",
                'After Effects': "ðŸŽ¨ Industry standard untuk motion graphics dan visual effects. Perfect untuk compositing dan creating dynamic animations.",
                'Notepad++': "âš¡ Lightweight code editor yang cepat dan efficient. Ideal untuk quick edits dan scripting tasks.",
                'Git & GitHub': "ðŸŒ Essential tools untuk version control dan collaboration. Menjaga semua project terorganisir dan trackable.",
                'Hitfilm': "ðŸ“¹ Video editing software dengan built-in VFX capabilities. Great untuk video production workflow.",
                'Photoshop': "ðŸŽ¯ Powerful image editing dan graphic design tool. Untuk creating assets dan manipulating visuals.",
                'Visual Studio Code': "ðŸ’» Modern code editor dengan extensive extensions. Primary tool untuk web development projects.",
                'Substance Painter': "ðŸŽ¨ Advanced 3D texturing software. Untuk creating realistic materials dan PBR textures."
            };
            
            const story = toolStories[toolName] || `${toolName}: ${description} - ${proficiency} proficiency`;
            showAIPopup(this, story, 4000, event);
        });
    });
    
    // Tool Icons
    document.querySelectorAll('.tool-icon').forEach((icon, index) => {
        icon.addEventListener('mouseenter', function(event) {
            showAIPopup(this, "ðŸ”§ Tool category icon - representasi visual dari software", 2000, event);
        });
    });
    
    // Tool Features
    document.querySelectorAll('.tool-features li').forEach((feature, index) => {
        feature.addEventListener('mouseenter', function(event) {
            showAIPopup(this, "âœ… Fitur dan capability specific dari tool ini", 2000, event);
        });
    });
    
    // Carousel Navigation
    const carouselArrows = document.querySelectorAll('.carousel-arrow');
    carouselArrows.forEach((arrow, index) => {
        arrow.addEventListener('mouseenter', function(event) {
            const direction = index === 0 ? 'previous' : 'next';
            showAIPopup(this, `ðŸ”„ Navigate to ${direction} tool card dalam carousel`, 2000, event);
        });
    });
    
    // Carousel Dots
    document.querySelectorAll('.carousel-dot').forEach((dot, index) => {
        dot.addEventListener('mouseenter', function(event) {
            showAIPopup(this, "âºï¸ Jump langsung ke tool card specific dalam carousel", 2000, event);
        });
    });
}

// =================== 7. WORKFLOW SECTION POPUPS ===================
function initializeWorkflowPopups() {
    // Section Title
    const workflowTitle = document.querySelector('#workflow .section-title');
    if (workflowTitle) {
        workflowTitle.addEventListener('mouseenter', function(event) {
            showAIPopup(this, "ðŸ”§ Creative process dan workflow methodology dari awal sampai completion", 3000, event);
        });
    }
    
    // Bounce Cards
    document.querySelectorAll('.bounce-card').forEach((card, index) => {
        const stepDetails = [
            "ðŸ” Discovery & Research: Memahami client needs, project requirements, dan target audience secara mendalam",
            "ðŸ“‹ Planning & Strategy: Membuat detailed project roadmap, timeline, dan resource allocation",
            "ðŸŽ¨ Design & Prototyping: Mengembangkan visual concepts, wireframes, dan interactive prototypes", 
            "âš¡ Development & Animation: Executing designs dengan code dan motion - bringing ideas to life",
            "âœ… Testing & Refinement: Quality assurance, feedback implementation, dan final polishing"
        ];
        
        card.addEventListener('mouseenter', function(event) {
            showAIPopup(this, `ðŸ“ ${stepDetails[index]}`, 4000, event);
        });
        
        // Step Numbers
        const stepNumber = card.querySelector('.card-step');
        if (stepNumber) {
            stepNumber.addEventListener('mouseenter', function(event) {
                event.stopPropagation();
                showAIPopup(this, `#${index + 1} - Step dalam creative workflow process`, 2000, event);
            });
        }
    });
    
    // Workflow Description
    const workflowDesc = document.querySelector('.workflow-description h3');
    if (workflowDesc) {
        workflowDesc.addEventListener('mouseenter', function(event) {
            showAIPopup(this, "ðŸ”„ Structured creative process yang memastikan setiap project mendapat perhatian detail", 3000, event);
        });
    }
    
    // Process Steps
    document.querySelectorAll('.process-step').forEach((step, index) => {
        step.addEventListener('mouseenter', function(event) {
            showAIPopup(this, "ðŸ‘† Klik untuk melihat visual representation step ini dalam bounce cards", 2500, event);
        });
    });
}

// =================== 8. TESTIMONIALS SECTION POPUPS ===================
function initializeTestimonialsPopups() {
    // Section Title
    const testimonialsTitle = document.querySelector('#testimonials .section-title');
    if (testimonialsTitle) {
        testimonialsTitle.addEventListener('mouseenter', function(event) {
            showAIPopup(this, "ðŸ’¬ Feedback dan testimonials dari clients, collaborators, dan colleagues", 3000, event);
        });
    }
    
    // Testimonial Nav
    const testimonialNav = document.querySelector('.testimonial-nav');
    if (testimonialNav) {
        testimonialNav.addEventListener('mouseenter', function(event) {
            showAIPopup(this, "ðŸ“‹ Expandable testimonial gallery dengan search functionality", 3000, event);
        });
    }
    
    // Hamburger Menu
    const hamburgerMenu = document.querySelector('.hamburger-menu-testimonial');
    if (hamburgerMenu) {
        hamburgerMenu.addEventListener('mouseenter', function(event) {
            showAIPopup(this, "ðŸ” Toggle testimonial cards gallery expansion", 2000, event);
        });
    }
    
    // Search Box
    const searchBox = document.querySelector('.testimonial-search');
    if (searchBox) {
        searchBox.addEventListener('mouseenter', function(event) {
            showAIPopup(this, "ðŸ” Search testimonials berdasarkan nama, project, atau keywords", 2500, event);
        });
    }
    
    // Testimonial Cards
    document.querySelectorAll('.testimonial-card').forEach((card, index) => {
        card.addEventListener('mouseenter', function(event) {
            const author = this.querySelector('.author-info h4')?.textContent || 'Client';
            showAIPopup(this, `ðŸŒŸ Testimonial dari ${author} - feedback tentang collaboration experience`, 3000, event);
        });
    });
    
    // Author Avatars
    document.querySelectorAll('.author-avatar').forEach((avatar, index) => {
        avatar.addEventListener('mouseenter', function(event) {
            showAIPopup(this, "ðŸ‘¤ Client/profile photo - orang yang memberikan testimonial", 2000, event);
        });
    });
    
    // Ratings
    document.querySelectorAll('.testimonial-rating').forEach((rating, index) => {
        rating.addEventListener('mouseenter', function(event) {
            showAIPopup(this, "â­ Rating bintang - tingkat kepuasan client dengan services", 2000, event);
        });
    });
}

// =================== 9. ASSETS SECTION POPUPS ===================
function initializeAssetsPopups() {
    // Section Title
    const assetsTitle = document.querySelector('#assets .section-title');
    if (assetsTitle) {
        assetsTitle.addEventListener('mouseenter', function(event) {
            showAIPopup(this, "ðŸ“¦ Digital assets library - download free resources untuk project creative Anda", 3000, event);
        });
    }
    
    // Search Box
    const assetSearch = document.querySelector('#assetSearch');
    if (assetSearch) {
        assetSearch.addEventListener('mouseenter', function(event) {
            showAIPopup(this, "ðŸ”Ž Search assets berdasarkan nama, kategori, atau tags", 2500, event);
        });
    }
    
    // Filter Controls
    document.querySelectorAll('.filter-controls select').forEach((select, index) => {
        const labels = ['Kategori Asset', 'Software Compatibility', 'License Type'];
        select.addEventListener('mouseenter', function(event) {
            showAIPopup(this, `ðŸ“‘ Filter assets berdasarkan ${labels[index] || 'criteria'}`, 2500, event);
        });
    });
    
    // Stat Cards
    document.querySelectorAll('.stat-card').forEach((card, index) => {
        const messages = [
            "ðŸ“Š Total jumlah assets yang tersedia di library",
            "ðŸŽ Jumlah assets yang tersedia gratis untuk di-download", 
            "ðŸ“‚ Jumlah kategori assets yang berbeda"
        ];
        card.addEventListener('mouseenter', function(event) {
            showAIPopup(this, messages[index] || "Library statistics dan metrics", 2500, event);
        });
    });
    
    // Asset Cards
    document.querySelectorAll('.asset-library-card').forEach((card, index) => {
        card.addEventListener('mouseenter', function(event) {
            const title = this.querySelector('.asset-title')?.textContent || 'Asset';
            const type = this.querySelector('.asset-type')?.textContent || '';
            showAIPopup(this, `ðŸ’¾ ${title} - ${type} asset yang tersedia untuk download`, 3000, event);
        });
    });
    
    // Asset Badges
    document.querySelectorAll('.asset-badge').forEach((badge, index) => {
        badge.addEventListener('mouseenter', function(event) {
            const licenseType = this.classList.contains('free') ? 'gratis' : 'premium';
            showAIPopup(this, `ðŸ·ï¸ License type: ${licenseType} - terms penggunaan asset`, 2000, event);
        });
    });
    
    // Download Buttons
    document.querySelectorAll('.asset-download-btn').forEach((btn, index) => {
        btn.addEventListener('mouseenter', function(event) {
            showAIPopup(this, "â¬‡ï¸ Download asset ini untuk digunakan dalam project creative Anda", 2000, event);
        });
    });
}

// =================== 10. CONTACT SECTION POPUPS ===================
function initializeContactPopups() {
    // Section Title
    const contactTitle = document.querySelector('#contact .section-title');
    if (contactTitle) {
        contactTitle.addEventListener('mouseenter', function(event) {
            showAIPopup(this, "ðŸ“ž Ready to collaborate? Mari diskusikan project creative Anda!", 3000, event);
        });
    }
    
    // CTA Subtitle
    const ctaSubtitle = document.querySelector('.cta-subtitle');
    if (ctaSubtitle) {
        ctaSubtitle.addEventListener('mouseenter', function(event) {
            showAIPopup(this, "ðŸ’« Mari create something extraordinary bersama-sama!", 2500, event);
        });
    }
    
    // Hire Me Button
    const hireMeBtn = document.querySelector('.hire-me-btn');
    if (hireMeBtn) {
        hireMeBtn.addEventListener('mouseenter', function(event) {
            showAIPopup(this, "ðŸš€ Klik untuk membuka project request form yang interactive!", 3000, event);
        });
    }
    
    // Stats
    document.querySelectorAll('.stat').forEach((stat, index) => {
        const messages = [
            "â° Average response time untuk project inquiries",
            "ðŸ“ˆ Total completed projects sampai saat ini",
            "ðŸ’¯ Client satisfaction rate berdasarkan testimonials"
        ];
        stat.addEventListener('mouseenter', function(event) {
            showAIPopup(this, messages[index] || "Performance metrics dan statistics", 2500, event);
        });
    });
}

// =================== 11. FOOTER POPUPS ===================
function initializeFooterPopups() {
    const footer = document.querySelector('footer');
    if (footer) {
        footer.addEventListener('mouseenter', function(event) {
            showAIPopup(this, "ðŸ“„ Copyright information dan portfolio credits", 2500, event);
        });
    }
    
    const copyright = document.querySelector('.copyright');
    if (copyright) {
        copyright.addEventListener('mouseenter', function(event) {
            showAIPopup(this, "Â© 2025 All rights reserved - portfolio website Asri", 2500, event);
        });
    }
    
    const footerNote = document.querySelector('.footer-note');
    if (footerNote) {
        footerNote.addEventListener('mouseenter', function(event) {
            showAIPopup(this, "ðŸŽ¨ Portfolio personal Asri - 3D Animator & Web Developer", 2500, event);
        });
    }
}

// =================== 12. GLOBAL ELEMENTS POPUPS ===================
function initializeGlobalPopups() {
    // Floating Clock
    const floatingClock = document.querySelector('.floating-clock');
    if (floatingClock) {
        floatingClock.addEventListener('mouseenter', function(event) {
            showAIPopup(this, "ðŸ•’ Real-time clock dengan date display - minimalist design", 2500, event);
        });
    }
    
    // Particle Canvas (background)
    const particleCanvas = document.getElementById('particle-canvas');
    if (particleCanvas) {
        particleCanvas.addEventListener('mouseenter', function(event) {
            showAIPopup(this, "âœ¨ Interactive particle background - responds to mouse movement", 3000, event);
        });
    }
}

// =================== 13. INTERACTIVE ELEMENTS POPUPS ===================
function initializeInteractivePopups() {
    // Modal Elements
    const modal = document.querySelector('.project-modal');
    if (modal) {
        modal.addEventListener('mouseenter', function(event) {
            showAIPopup(this, "ðŸ” Project detail modal - expanded view dengan informasi lengkap", 3000, event);
        });
    }
    
    // Close Buttons
    document.querySelectorAll('.close-modal, .close-popup, .close-chatbot').forEach((closeBtn, index) => {
        closeBtn.addEventListener('mouseenter', function(event) {
            showAIPopup(this, "âŒ Close window/modal ini", 1500, event);
        });
    });
}

// =================== 14. SPECIAL EFFECTS POPUPS ===================
function initializeSpecialEffectsPopups() {
    // Animated Elements
    const animatedElements = document.querySelectorAll('.lazy-section');
    animatedElements.forEach((element, index) => {
        element.addEventListener('mouseenter', function(event) {
            showAIPopup(this, "ðŸŽ­ Animated on scroll - muncul dengan fade in effect ketika di-scroll", 2500, event);
        });
    });
}

// Initialize the comprehensive system
document.addEventListener('DOMContentLoaded', function() {
    // Wait a bit for everything to load
    setTimeout(() => {
        initializeComprehensiveAIPopupSystem();
        console.log('ðŸŽ¯ Fixed AI Popup System - Now Appears at Cursor Position!');
    }, 2000);
});



// =================== AI TOGGLE FUNCTIONALITY ===================
function initializeAIToggle() {
  const aiToggle = document.getElementById('aiToggle');
  
  // Load saved state from localStorage, default to true (enabled)
  let aiEnabled = localStorage.getItem('aiPopupEnabled');
  if (aiEnabled === null) {
    aiEnabled = 'true'; // Default enabled
    localStorage.setItem('aiPopupEnabled', 'true');
  }
  
  // Set initial state
  if (aiEnabled === 'true') {
    aiToggle.classList.add('active');
    window.aiPopupEnabled = true;
  } else {
    aiToggle.classList.remove('active');
    window.aiPopupEnabled = false;
  }
  
  // Toggle functionality
  aiToggle.addEventListener('click', function() {
    this.classList.toggle('active');
    window.aiPopupEnabled = this.classList.contains('active');
    
    // Save to localStorage
    localStorage.setItem('aiPopupEnabled', window.aiPopupEnabled.toString());
    
    // Show confirmation popup (only if AI is enabled)
    if (window.aiPopupEnabled) {
      showAIPopup(this, "ðŸ¤– AI Assistant diaktifkan! Saya siap membantu menjelajahi portfolio.", 3000);
    } else {
      // Show a regular message without AI popup
      const confirmation = document.createElement('div');
      confirmation.className = 'ai-popup-text enhanced-popup';
      confirmation.innerHTML = `
        <div class="ai-popup-content info">
          <div class="ai-popup-header">
            <span class="ai-avatar">ðŸ”•</span>
            <span class="ai-name">System</span>
            <span class="popup-type">INFO</span>
          </div>
          <div class="ai-popup-message">AI Assistant dinonaktifkan. Klik toggle untuk mengaktifkan kembali.</div>
          <div class="popup-timer"></div>
        </div>
      `;
      
      // Position and show
      const rect = aiToggle.getBoundingClientRect();
      confirmation.style.top = (rect.top + rect.height + 10) + 'px';
      confirmation.style.left = (rect.left - 100) + 'px';
      confirmation.style.zIndex = '1000001';
      
      document.body.appendChild(confirmation);
      
      // Set timer animation
      const timer = confirmation.querySelector('.popup-timer');
      if (timer) {
        timer.style.animation = `timerProgress 3000ms linear forwards`;
      }
      
      // Auto remove
      setTimeout(() => {
        if (confirmation.parentNode) {
          confirmation.style.animation = 'enhancedPopupOut 0.3s ease-in forwards';
          setTimeout(() => {
            if (confirmation.parentNode) {
              confirmation.parentNode.removeChild(confirmation);
            }
          }, 300);
        }
      }, 3000);
      
      // Also remove on click
      confirmation.addEventListener('click', () => {
        if (confirmation.parentNode) {
          confirmation.parentNode.removeChild(confirmation);
        }
      });
    }
  });
}

// =================== MODIFIED AI POPUP FUNCTION ===================
function showAIPopup(element, message, duration = 3000, event = null) {
  // Check if AI popups are enabled
  if (!window.aiPopupEnabled) return;
  
  // Rate limiting - prevent too many popups in quick succession
  if (window.lastPopupTime && Date.now() - window.lastPopupTime < 500) {
    return;
  }
  window.lastPopupTime = Date.now();
  
  // Remove existing popups
  removeExistingPopups();
  
  // Create popup element with enhanced styling
  const popup = document.createElement('div');
  popup.className = 'ai-popup-text enhanced-popup';
  
  // Determine popup type based on content
  const popupType = getPopupType(message);
  
  popup.innerHTML = `
    <div class="ai-popup-content ${popupType}">
      <div class="ai-popup-header">
        <span class="ai-avatar">${getPopupEmoji(popupType)}</span>
        <span class="ai-name">Asri AI Assistant</span>
        <span class="popup-type">${popupType.toUpperCase()}</span>
      </div>
      <div class="ai-popup-message">${message}</div>
      <div class="popup-timer"></div>
    </div>
  `;
  
  // Set timer animation dynamically
  const timer = popup.querySelector('.popup-timer');
  if (timer) {
    timer.style.animation = `timerProgress ${duration}ms linear forwards`;
  }
  
  // Smart positioning - gunakan posisi kursor jika event tersedia
  if (event) {
    positionPopupAtCursor(popup, event);
  } else {
    positionPopupSmartly(popup, element);
  }
  
  // Add to document
  document.body.appendChild(popup);
  
  // Auto remove after duration
  setTimeout(() => {
    if (popup.parentNode) {
      popup.style.animation = 'enhancedPopupOut 0.3s ease-in forwards';
      setTimeout(() => {
        if (popup.parentNode) {
          popup.parentNode.removeChild(popup);
        }
      }, 300);
    }
  }, duration);
  
  // Also remove on click
  popup.addEventListener('click', () => {
    if (popup.parentNode) {
      popup.parentNode.removeChild(popup);
    }
  });
}

// =================== HELPER FUNCTIONS ===================
function removeExistingPopups() {
  const existingPopups = document.querySelectorAll('.ai-popup-text');
  existingPopups.forEach(popup => {
    if (popup.parentNode) {
      popup.parentNode.removeChild(popup);
    }
  });
}

function getPopupType(message) {
  if (message.includes('ðŸ¤–') || message.includes('AI Assistant')) return 'info';
  if (message.includes('fitur') || message.includes('featured')) return 'featured';
  if (message.includes('statistik') || message.includes('stats')) return 'stats';
  if (message.includes('tools') || message.includes('alat')) return 'tools';
  if (message.includes('kreatif') || message.includes('creative')) return 'creative';
  return 'info';
}

function getPopupEmoji(type) {
  const emojis = {
    'info': 'ðŸ¤–',
    'featured': 'â­',
    'stats': 'ðŸ“Š',
    'tools': 'ðŸ› ï¸',
    'creative': 'ðŸŽ¨'
  };
  return emojis[type] || 'ðŸ¤–';
}

function positionPopupAtCursor(popup, event) {
  const x = event.clientX;
  const y = event.clientY;
  
  popup.style.top = (y + 15) + 'px';
  popup.style.left = (x - 150) + 'px';
  
  // Ensure popup stays within viewport
  const rect = popup.getBoundingClientRect();
  if (rect.right > window.innerWidth) {
    popup.style.left = (window.innerWidth - rect.width - 10) + 'px';
  }
  if (rect.bottom > window.innerHeight) {
    popup.style.top = (window.innerHeight - rect.height - 10) + 'px';
  }
}

function positionPopupSmartly(popup, element) {
  if (element) {
    const rect = element.getBoundingClientRect();
    popup.style.top = (rect.top + rect.height + 10) + 'px';
    popup.style.left = (rect.left - 150) + 'px';
  } else {
    // Default position
    popup.style.top = '50%';
    popup.style.left = '50%';
    popup.style.transform = 'translate(-50%, -50%)';
  }
  
  // Ensure popup stays within viewport
  const popupRect = popup.getBoundingClientRect();
  if (popupRect.right > window.innerWidth) {
    popup.style.left = (window.innerWidth - popupRect.width - 20) + 'px';
  }
  if (popupRect.bottom > window.innerHeight) {
    popup.style.top = (window.innerHeight - popupRect.height - 20) + 'px';
  }
}













// === DYNAMIC WHITE DOT COMPASS â€” Minimalis + Super Akurat ===
const KEY = "asri_compass_2025";
const ID = Date.now() + "_" + Math.random().toString(36).substr(2,9);

// Broadcast posisi
function broadcast() {
    localStorage.setItem(KEY + "_" + ID, JSON.stringify({
        id: ID,
        x: window.screenX,
        y: window.screenY,
        w: window.outerWidth,
        h: window.outerHeight,
        t: Date.now()
    }));
}

// Cari window lain
function getOthers() {
    const list = [];
    const now = Date.now();
    for (let i = 0; i < localStorage.length; i++) {
        const k = localStorage.key(i);
        if (k?.startsWith(KEY + "_") && !k.includes(ID)) {
            try {
                const d = JSON.parse(localStorage.getItem(k));
                if (now - d.t < 6000) list.push(d);
            } catch(e) {}
        }
    }
    return list;
}

// Update dot dinamis
function updateCompass() {
    // Hapus dot lama
    document.querySelectorAll('.compass-dot').forEach(d => d.remove());

    const others = getOthers();
    if (others.length === 0) return;

    // Cari yang paling dekat
    let closest = null;
    let minDist = Infinity;

    others.forEach(o => {
        const myCenterX = window.screenX + window.outerWidth / 2;
        const myCenterY = window.screenY + window.outerHeight / 2;
        const otherCenterX = o.x + o.w / 2;
        const otherCenterY = o.y + o.h / 2;

        const dx = otherCenterX - myCenterX;
        const dy = otherCenterY - myCenterY;
        const dist = Math.hypot(dx, dy);

        if (dist < minDist) {
            minDist = dist;
            closest = { dx, dy, dist };
        }
    });

    if (!closest || closest.dist > 1200) return;

    // Hitung posisi dot di tepi layar (dinamis!)
    const edgeDistance = 30; // jarak dari tepi (px)
    let dotX, dotY;

    // Normalisasi arah
    const angle = Math.atan2(closest.dy, closest.dx);
    const sin = Math.sin(angle);
    const cos = Math.cos(angle);

    // Tentukan posisi di tepi layar
    if (Math.abs(cos) > Math.abs(sin)) {
        // lebih horizontal
        if (cos > 0) {
            // kanan
            dotX = window.innerWidth - edgeDistance;
            dotY = window.innerHeight / 2 + closest.dy * (window.innerHeight / 2 - edgeDistance) / Math.abs(closest.dx || 1);
        } else {
            // kiri
            dotX = edgeDistance;
            dotY = window.innerHeight / 2 + closest.dy * (window.innerHeight / 2 - edgeDistance) / Math.abs(closest.dx || 1);
        }
    } else {
        // lebih vertikal
        if (sin > 0) {
            // bawah
            dotY = window.innerHeight - edgeDistance;
            dotX = window.innerWidth / 2 + closest.dx * (window.innerWidth / 2 - edgeDistance) / Math.abs(closest.dy || 1);
        } else {
            // atas
            dotY = edgeDistance;
            dotX = window.innerWidth / 2 + closest.dx * (window.innerWidth / 2 - edgeDistance) / Math.abs(closest.dy || 1);
        }
    }

    // Batasin biar nggak keluar layar
    dotX = Math.max(edgeDistance, Math.min(window.innerWidth - edgeDistance, dotX));
    dotY = Math.max(edgeDistance, Math.min(window.innerHeight - edgeDistance, dotY));

    // Intensitas berdasarkan jarak
    const intensity = Math.max(0.4, (1200 - closest.dist) / 1200);

    // Buat dot
    const dot = document.createElement('div');
    dot.className = 'compass-dot active';
    dot.style.left = dotX + 'px';
    dot.style.top = dotY + 'px';
    dot.style.transform = `translate(-50%, -50%) scale(${0.8 + intensity})`;
    dot.style.boxShadow = `0 0 ${20 + 20*intensity}px ${4 + 8*intensity}px #ffffff`;

    document.body.appendChild(dot);
}

// Update tiap 150ms (super smooth & ringan)
setInterval(() => {
    broadcast();
    updateCompass();
}, 150);

window.addEventListener('load', () => {
    broadcast();
    updateCompass();
});

window.addEventListener('beforeunload', () => {
    localStorage.removeItem(KEY + "_" + ID);
});



// ============== WINDOW RESIZE HANDLER ===================
window.addEventListener('resize', () => {
  if (window.skillsChartInstance) {
    window.skillsChartInstance.destroy();
    initializeSkillsChart();
  }
});
</script>
</body>
</html>
